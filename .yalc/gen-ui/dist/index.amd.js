define(["exports"],(function(t){"use strict";class e{get x(){return this.offsetX}get y(){return this.offsetY}set x(t){this.offsetX=t}set y(t){this.offsetY=t}constructor(t,e){this.offsetX=t,this.offsetY=e}static get zero(){return new e(0,0)}toVector(){return new i(this.offsetX,this.offsetY)}copy(){return new e(this.offsetX,this.offsetY)}add(t){return new e(this.offsetX+t.x,this.offsetY+t.y)}}class i extends e{constructor(t,e){super(t,e),this.x=t,this.y=e}add(t){return this.x+=t.x,this.y+=t.y,this}sub(t){return this.x-=t.x,this.y-=t.y,this}mult(t){return this.x*=t.x,this.y*=t.y,this}multNumber(t){return this.x*=t,this.y*=t,this}div(t){return this.x/=t.x,this.y/=t.y,this}divNumber(t){return this.x/=t,this.y/=t,this}mag(){return Math.sqrt(this.x*this.x+this.y*this.y)}dist(t){let e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)}normalize(){let t=this.mag();return this.x/=t,this.y/=t,this}clampX(t,e){this.x=Math.min(Math.max(this.x,t),e)}clampY(t,e){this.y=Math.min(Math.max(this.y,t),e)}clamp(t){let[e,i]=t;this.x=Math.min(Math.max(this.x,i),e),this.y=Math.min(Math.max(this.y,i),e)}copy(){return new i(this.x,this.y)}set(t){this.x=t.x,this.y=t.y}setXY(t,e){this.x=t,this.y=e}toJson(){return{x:this.x,y:this.y}}half(){return this.x*=.5,this.y*=.5,this}troweling(){return this.x=this.x>>0,this.y=this.y>>0,this}equals(t){return t.x==this.x&&t.y==this.y}toArray(){return[this.x,this.y]}toZero(){this.x=0,this.y=0}double(){return this.x*=2,this.y*=2,this}negate(){return this.x*=-1,this.y*=-1,this}static dist(t,e){let n=i.sub(t,e);return i.mag(n)}static mag(t){return Math.sqrt(t.x*t.x+t.y*t.y)}static sub(t,e){return new i(t.x-e.x,t.y-e.y)}static add(t,e){return new i(t.x+e.x,t.y+e.y)}static mult(t,e){return new i(t.x*e,t.y*e)}static troweling(t){return t.x=t.x>>0,t.y=t.y>>0,t}static get zero(){return new i(0,0)}}class n{constructor(t,e){this._width=isNaN(t)?0:t,this._height=isNaN(e)?0:e}static get zero(){return new n(0,0)}get width(){return this._width}get height(){return this._height}set width(t){this._width=t}set height(t){this._height=t}toVector(){return new i(this._width,this._height)}half(){return this.width*=.5,this.height*=.5,this}copy(){return new n(this._width,this._height)}equals(t){return(null==t?void 0:t.width)===this._width&&(null==t?void 0:t.height)===this._height}setWidth(t){this._width=t}setHeight(t){this._height=t}toObject(){return{width:this._width,height:this._height}}contains(t){return t.x>=0&&t.x<this.width&&t.y>=0&&t.y<this.height}}class s{constructor(t,e,i,n){this._x=isNaN(t)?0:t,this._y=isNaN(e)?0:e,this._width=isNaN(i)?0:i,this._height=isNaN(n)?0:n}static compose(t,e){return new s(t.x,t.y,e.width,e.height)}update({x:t=0,y:e=0,width:i=0,height:n=0}){this._x=t,this._y=e,this._width=i,this._height=n}get x(){return this._x}get y(){return this._y}get width(){return this._width}get height(){return this._height}set x(t){this._x=t}set y(t){this._y=t}set width(t){this._width=t}set height(t){this._height=t}static get zero(){return new s(0,0,0,0)}get left(){return this._x}get right(){return this._x+this._width}get top(){return this._y}get bottom(){return this._y+this._height}contains(t){return t.x>=this.left&&t.x<this.right&&t.y>=this.top&&t.y<this.bottom}get size(){return new n(this._width,this._height)}get offset(){return new e(this._x,this._y)}set offset(t){this._x=t.offsetX,this._y=t.offsetY}static merge(t,e){return new s(t.x,t.y,e.width,e.height)}get shortestSide(){return Math.min(Math.abs(this.width),Math.abs(this.height))}get longestSide(){return Math.max(Math.abs(this.width),Math.abs(this.height))}copy(){return new s(this._x,this._y,this._width,this._height)}}class r extends Error{constructor(t){super(t),this.name="GenUIError"}}class o extends r{constructor(t){super("Assertion failed: "+t),this.name="AssertionError"}}class a extends r{constructor(){super("A null value was thrown."),this.name="NullThrownError"}}class h extends r{constructor(t){super("Invalid argument: "+t),this.name="ArgumentError"}}class l extends r{constructor(t){super("Invalid state: "+t),this.name="StateError"}}class d{static assertValidConstraints(t,e,i){if(t.hasInfiniteWidth||t.hasInfiniteHeight){const n=[];let s=e;for(;s;)n.push(s.constructor.name),s=s.parent;const r=["⚠️ Invalid layout constraints detected.",i?"Context: "+i:null,"Constraints: minWidth="+t.minWidth+", maxWidth="+t.maxWidth+", minHeight="+t.minHeight+", maxHeight="+t.maxHeight,"Render tree trace: "+n.reverse().join(" → ")].filter(Boolean).join("\n");throw new o(r)}}}class c{}class u extends c{constructor(t={}){var e,i,n,s;if(super(),this.minWidth=null!==(e=null==t?void 0:t.minWidth)&&void 0!==e?e:0,this.minHeight=null!==(i=null==t?void 0:t.minHeight)&&void 0!==i?i:0,this.maxHeight=null!==(n=t.maxHeight)&&void 0!==n?n:1/0,this.maxWidth=null!==(s=t.maxWidth)&&void 0!==s?s:1/0,this.minWidth>this.maxWidth||this.minHeight>this.maxHeight)throw new h("BoxConstraints are invalid: min > max.")}get hasTightWidth(){return this.minWidth>=this.maxWidth}get hasTightHeight(){return this.minHeight>=this.maxHeight}get isTight(){return this.hasTightHeight&&this.hasTightWidth}get hasInfiniteWidth(){return this.minWidth>=1/0}get hasInfiniteHeight(){return this.minHeight>=1/0}get hasBoundedWidth(){return this.maxWidth<1/0}get hasBoundedHeight(){return this.maxHeight<1/0}equals(t){return this.minHeight==t.minHeight&&this.maxHeight===t.maxHeight&&this.minWidth===t.minWidth&&this.maxWidth===t.maxWidth}constrainSizeAndAttemptToPreserveAspectRatio(t){let e=t.width,i=t.height;if(e<0||i<0)return n.zero;const s=e/i;e>this.maxWidth&&(e=this.maxWidth,i=e/s),i>this.maxHeight&&(i=this.maxHeight,e=i*s),e<this.minWidth&&(e=this.minWidth,i=e/s),i<this.minHeight&&(i=this.minHeight,e=i*s);return new n(this.constrainWidth(e),this.constrainHeight(i))}static expand(t,e){return new u({minWidth:null!=t?t:1/0,maxWidth:null!=t?t:1/0,minHeight:null!=e?e:1/0,maxHeight:null!=e?e:1/0})}deflate(t){const e=t.x,i=t.y,n=Math.max(0,this.minWidth-e),s=Math.max(0,this.minHeight-i);return new u({minWidth:n,maxWidth:Math.max(n,this.maxWidth-e),minHeight:s,maxHeight:Math.max(s,this.maxHeight-i)})}tighten(t,e){const i=this.minWidth,n=this.minHeight,s=this.maxWidth,r=this.maxHeight;return new u({minWidth:null==t?i:this.clamp(t,i,s),maxWidth:null==t?s:this.clamp(t,i,s),minHeight:null==e?n:this.clamp(e,n,r),maxHeight:null==e?r:this.clamp(e,n,r)})}enforce(t){return new u({minWidth:this.clamp(this.minWidth,t.minWidth,t.maxWidth),maxWidth:this.clamp(this.maxWidth,t.minWidth,t.maxWidth),minHeight:this.clamp(this.minHeight,t.minHeight,t.maxHeight),maxHeight:this.clamp(this.maxHeight,t.minHeight,t.maxHeight)})}constrainWidth(t){return this.clamp(t,this.minWidth,this.maxWidth)}constrainHeight(t){return this.clamp(t,this.minHeight,this.maxHeight)}constrain(t){const e=new n(this.constrainWidth(t.width),this.constrainHeight(t.height));if(e.width<0||e.height<0)throw new l("BoxConstraints collapsed: width="+e.width+", height="+e.height);return e}clamp(t,e,i){if(e>i||Number.isNaN(i)||Number.isNaN(e))throw new h("Invalid value.");return t<e?e:t>i||Number.isNaN(t)?i:t}static get zero(){return new u}static tightFor(t,e){return new u({maxHeight:null!=e?e:1/0,maxWidth:null!=t?t:1/0,minHeight:null!=e?e:0,minWidth:null!=t?t:0})}loosen(){return new u({minWidth:0,maxWidth:this.maxWidth,minHeight:0,maxHeight:this.maxHeight})}}var p;t.PaintingStyle=void 0,(p=t.PaintingStyle||(t.PaintingStyle={})).fill="fill",p.stroke="stroke";class g{constructor(e=g._paint){this.paint=null,this.style=t.PaintingStyle.fill,this._hasDrawFunction=null,this.paint=e}static setPaint(t=g._paint){g._paint=t}setPaintQuality(t){try{(null==t?void 0:t.imageSmoothingEnabled)&&(t.imageSmoothingEnabled=!0),(null==t?void 0:t.imageSmoothingQuality)&&(t.imageSmoothingQuality="high")}catch(t){null===console||void 0===console||console.error("Get error while set paint quality.")}}get canvas(){if("undefined"!=typeof window)return this.paint.canvas}set lineWidth(t){this.paint.lineWidth=t}set fillStyle(t){this.paint.fillStyle=t}set strokeStyle(t){this.paint.strokeStyle=t}set shadowColor(t){this.paint.shadowColor=t}set shadowBlur(t){this.paint.shadowBlur=t,this.paint.shadowOffsetX}setShadow(t){this.shadowColor=null==t?void 0:t.shadowColor.rgba,this.shadowBlur=(null==t?void 0:t.shadowBlur)||0,this.shadowOffsetX=(null==t?void 0:t.shadowOffsetX)||0,this.shadowOffsetY=(null==t?void 0:t.shadowOffsetY)||0}set shadowOffsetX(t){this.paint.shadowOffsetX=t}set shadowOffsetY(t){this.paint.shadowOffsetY=t}set textBaseLine(t){var e;(null===(e=this.paint)||void 0===e?void 0:e.textBaseline)&&(this.paint.textBaseline=t)}drawSync(){var t,e;null===(e=null===(t=this.paint)||void 0===t?void 0:t.draw)||void 0===e||e.call(t,this.paint)}get hasDrawFunction(){var t;return null===this._hasDrawFunction&&(this._hasDrawFunction=!!(null===(t=this.paint)||void 0===t?void 0:t.draw)),this._hasDrawFunction}draw(){return new Promise((t=>{var e;const i=this.paint;null!=(null==i?void 0:i.draw)?null===(e=null==i?void 0:i.draw)||void 0===e||e.call(i,i,(()=>{t()})):t()}))}strokeRect(t,e,i,n){this.paint.strokeRect(t,e,i,n)}fillRect(t,e,i,n){this.paint.fillRect(t,e,i,n)}stroke(){this.paint.stroke()}clearRect(t,e,i,n){this.paint.clearRect(t,e,i,n),this.drawSync()}save(){this.paint.save()}rotate(t){this.paint.rotate(t)}beginPath(){this.paint.beginPath()}closePath(){this.paint.closePath()}restore(){this.paint.restore()}restoreShadow(){this.setShadow({shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0})}translate(t,e){this.paint.translate(t,e)}fill(){this.paint.fill()}rect(t,e,i,n){this.paint.rect(t,e,i,n)}clip(t){var e,i;t?null===(e=this.paint)||void 0===e||e.clip(t):null===(i=this.paint)||void 0===i||i.clip()}arc(t,e,i,n,s,r){this.paint.arc(t,e,i,n,s,r)}arcTo(t,e,i,n,s){this.paint.arcTo(t,e,i,n,s)}ellipse(t,e,i,n){this.paint.save(),this.paint.translate(t,e);const s=i>n?i:n,r=i/s,o=n/s;this.paint.scale(r,o),this.paint.beginPath(),this.paint.arc(0,0,s,0,2*Math.PI),this.paint.closePath(),this.paint.restore()}drawImage(t,e,i,n,s,r,o,a,h){this.paint.drawImage(t,e,i,n,s,r,o,a,h)}scale(t,e){this.paint.scale(t,e)}moveTo(t,e){this.paint.moveTo(t,e)}lineTo(t,e){this.paint.lineTo(t,e)}getImageData(t,e,i,n){return this.paint.getImageData(t,e,i,n)}fillText(t,e,i){this.paint.fillText(t,e,i)}strokeText(t,e,i,n){this.paint.strokeText(t,e,i,n)}set font(t){this.paint.font=t}setFont(t){this.font=t}getFont(){var t;return null===(t=this.paint)||void 0===t?void 0:t.font}set globalAlpha(t){this.paint.globalAlpha=t}measureText(t){var e;return null===(e=this.paint)||void 0===e?void 0:e.measureText(t)}set lineCap(t){this.paint.lineCap=t}set lineJoin(t){this.paint.lineJoin=t}quadraticCurveTo(t,e,i,n){this.paint.quadraticCurveTo(t,e,i,n)}setLineDash(t){var e;null===(e=this.paint)||void 0===e||e.setLineDash(t)}putImageData(t,e,i){this.paint.putImageData(t,e,i)}createLinearGradient(t,e,i,n){var s,r;return null===(r=null===(s=this.paint)||void 0===s?void 0:s.createLinearGradient)||void 0===r?void 0:r.call(s,t,e,i,n)}createRadialGradient(t,e,i,n,s,r){var o;return null===(o=this.paint)||void 0===o?void 0:o.createRadialGradient(t,e,i,n,s,r)}transform(t){this.paint.transform(t[0],t[1],t[4],t[5],t[12],t[13])}createConicGradient(t,e,i){var n;return null===(n=this.paint)||void 0===n?void 0:n.createConicGradient(t,e,i)}roundRect(t,e,i,n,s){const r=Math.PI/180;let o;o=Array.isArray(s)?s.map((t=>Math.min(t,Math.min(i,n)/2))):new Array(4).fill(s).map((t=>Math.min(t,Math.min(i,n)/2))),this.beginPath(),this.moveTo(t+o[0],e),this.lineTo(t+i-o[1],e),this.arc(t+i-o[1],e+o[1],o[1],270*r,360*r,!1),this.lineTo(t+i,e+n-o[2]),this.arc(t+i-o[2],e+n-o[2],o[2],0*r,90*r,!1),this.lineTo(t+o[3],e+n),this.arc(t+o[3],e+n-o[3],o[3],90*r,180*r,!1),this.lineTo(t,e+o[0]),this.arc(t+o[0],e+o[0],o[0],180*r,270*r,!1),this.closePath()}update(){}}g._paint=null;class m{constructor(){this.list=new Array}push(t){this.list.push(t)}addFirst(t){this.list.push(t)}addLast(t){this.list.unshift(t)}removeFirst(){return this.list.shift()}removeLast(){return this.list.pop()}get size(){return this.list.length}get isEmpty(){return 0===this.size}clear(){this.list=[]}}class x{}class f extends x{constructor(){super(...arguments),this._value=Math.random().toString(16).substring(3)}get value(){return this._value}}class v extends f{get currentElement(){return Me.instance.buildOwner.getElementByGlobalKey(this)}get currentWidget(){var t;return null===(t=this.currentElement)||void 0===t?void 0:t.widget}}class w{constructor(t){if(this.key=new f,this.baseConfig=t,this.screenWidth<=0||this.screenHeight<=0||this.devicePixelRatio<=0)throw new Error("screenWidth, screenHeight and devicePixelRatio must be greater than 0")}static InitInstance(t){return w._instance=new w(t),w._instance}static get instance(){return w._instance}get config(){return this.baseConfig}get rawScreenWidth(){return this.baseConfig.screenWidth}get rawScreenHeight(){return this.baseConfig.screenHeight}get screenWidth(){return this.devicePixelRatio*this.rawScreenWidth}get screenHeight(){return this.devicePixelRatio*this.rawScreenHeight}get devicePixelRatio(){return this.baseConfig.devicePixelRatio}get isDebug(){var t;return null===(t=this.baseConfig)||void 0===t?void 0:t.debug}get showBanner(){var t;return null===(t=this.baseConfig)||void 0===t?void 0:t.showBanner}get strategies(){var t;return null===(t=this.baseConfig)||void 0===t?void 0:t.strategies}get painter(){var t,e;return(null===(t=this.strategies)||void 0===t?void 0:t.getPainterStrategy()).getPainter(null===(e=this.baseConfig)||void 0===e?void 0:e.renderContext)}get canvas(){var t;return null===(t=this.baseConfig)||void 0===t?void 0:t.canvas}}const y=t=>Math.sin(t),b=t=>Math.cos(t),P=(t,e,i)=>t<e?e:t>i||isNaN(t)?i:t;class S{constructor(t=0){if(this.value=t,t<0||t>4294967295)throw new Error("Color value must be between 0 and 4294967295.But got "+t)}get red(){return(16711680&this.value)>>>16}get green(){return(65280&this.value)>>>8}get blue(){return(255&this.value)>>>0}get alpha(){return(4278190080&this.value)>>>24}withAlpha(t){const e=(16777215&this.value|(255&t)<<24)>>>0;return new S(e)}withOpacity(t){return t=Math.min(1,Math.max(0,t)),this.withAlpha(255*t)}withRed(t){return S.fromRGBA(t,this.green,this.blue,this.alpha)}withGreen(t){return S.fromRGBA(this.red,t,this.blue,this.alpha)}withBlue(t){return S.fromRGBA(this.red,this.green,t,this.alpha)}lerp(t,e){return S.lerp(this,t,e)}get opacity(){return this.alpha/255}get rgba(){return"rgba("+this.red+", "+this.green+", "+this.blue+", "+this.opacity+")"}get rgb(){return"rgb("+this.red+", "+this.green+", "+this.blue+")"}get color(){return this.value}equals(t){return!!t&&t.color===this.color}static lerp(t,e,i){const n=(t,e,i)=>Math.floor(t+(e-t)*i),s=n(t.red,e.red,i),r=n(t.green,e.green,i),o=n(t.blue,e.blue,i),a=n(t.alpha,e.alpha,i);return S.fromRGBA(P(s,0,255),P(r,0,255),P(o,0,255),P(a,0,255))}static fromRGBA(t,e,i,n){return new S(((255&n)<<24>>>0|(255&t)<<16|(255&e)<<8|255&i)>>>0)}}class A{static get black(){return new S(4278190080)}static get white(){return new S(4294967295)}static get red(){return new S(4294901760)}static get green(){return new S(4278255360)}static get blue(){return new S(4278190335)}static get yellow(){return new S(4294967040)}static get cyan(){return new S(4278255615)}static get magenta(){return new S(4294902015)}static get transparent(){return new S(0)}static get gray(){return new S(4286611584)}static get darkGray(){return new S(4289309097)}static get orange(){return new S(4294944e3)}static get pink(){return new S(4294951115)}}var C,_,D,T,R,E,k,L,z,B,W,O,M,H,N,I,F,j,V,U;t.Axis=void 0,(C=t.Axis||(t.Axis={})).horizontal="horizontal",C.vertical="vertical",t.Clip=void 0,(_=t.Clip||(t.Clip={})).none="none",_.hardEdge="hardEdge",_.antiAlias="antiAlias",t.MainAxisAlignment=void 0,(D=t.MainAxisAlignment||(t.MainAxisAlignment={})).start="start",D.end="end",D.center="center",D.spaceBetween="spaceBetween",D.spaceAround="spaceAround",D.spaceEvenly="spaceEvenly",t.CrossAxisAlignment=void 0,(T=t.CrossAxisAlignment||(t.CrossAxisAlignment={})).start="start",T.end="end",T.center="center",T.stretch="stretch",T.baseline="baseline",t.StackFit=void 0,(R=t.StackFit||(t.StackFit={})).loose="loose",R.expand="expand",R.passthrough="passthrough",t.TextDirection=void 0,(E=t.TextDirection||(t.TextDirection={})).rtl="rtl",E.ltr="ltr",t.WrapAlignment=void 0,(k=t.WrapAlignment||(t.WrapAlignment={})).start="start",k.end="end",k.center="center",k.spaceBetween="spaceBetween",k.spaceAround="spaceAround",k.spaceEvenly="spaceEvenly",t.WrapCrossAlignment=void 0,(L=t.WrapCrossAlignment||(t.WrapCrossAlignment={})).start="start",L.end="end",L.center="center",t.AxisDirection=void 0,(z=t.AxisDirection||(t.AxisDirection={})).up="up",z.down="down",z.left="left",z.right="right",t.GrowthDirection=void 0,(B=t.GrowthDirection||(t.GrowthDirection={})).forward="forward",B.reverse="reverse",t.ScrollDirection=void 0,(W=t.ScrollDirection||(t.ScrollDirection={})).idle="idle",W.forward="forward",W.reverse="reverse",t.FontWeight=void 0,(O=t.FontWeight||(t.FontWeight={})).normal="normal",O.bold="bold",t.FontStyle=void 0,(M=t.FontStyle||(t.FontStyle={})).normal="normal",M.italic="italic",t.TextDecoration=void 0,(H=t.TextDecoration||(t.TextDecoration={})).none="none",H.underline="underline",H.overline="overline",H.lineThrough="line-through",t.TextDecorationStyle=void 0,(N=t.TextDecorationStyle||(t.TextDecorationStyle={})).solid="solid",N.dashed="dashed",t.TextOverflow=void 0,(I=t.TextOverflow||(t.TextOverflow={})).clip="clip",I.ellipsis="ellipsis",I.visible="visible",t.TextAlign=void 0,(F=t.TextAlign||(t.TextAlign={})).left="left",F.right="right",F.center="center",F.justify="justify",F.start="start",F.end="end",F.unset="unset",F.none="none",t.TextBaseline=void 0,(j=t.TextBaseline||(t.TextBaseline={})).alphabetic="alphabetic",j.ideographic="ideographic",j.top="top",j.middle="middle",j.bottom="bottom",t.MainAxisSize=void 0,(V=t.MainAxisSize||(t.MainAxisSize={})).max="max",V.min="min",t.BorderStyle=void 0,(U=t.BorderStyle||(t.BorderStyle={})).none="none",U.solid="solid",U.dashed="dashed";class G{}class Z{constructor(t){this._width=t}get width(){return this._width}}class X{constructor(e){var i,n,s,r;this.textAlign=t.TextAlign.unset,this.textDirection=t.TextDirection.ltr,this.maxLines=1/0,this.height=0,this.fontFamily="serif",e&&(this.textAlign=null!==(i=e.textAlign)&&void 0!==i?i:this.textAlign,this.textDirection=null!==(n=e.textDirection)&&void 0!==n?n:this.textDirection,this.maxLines=null!==(s=e.maxLines)&&void 0!==s?s:this.maxLines,this.ellipsis=e.ellipsis,this.height=e.height,this.fontFamily=null!==(r=e.fontFamily)&&void 0!==r?r:this.fontFamily)}getParagraphStyle(t={}){var e,i,n,s,r,o;return new X({textAlign:null!==(e=null==t?void 0:t.textAlign)&&void 0!==e?e:this.textAlign,textDirection:null!==(i=null==t?void 0:t.textDirection)&&void 0!==i?i:this.textDirection,fontFamily:null!==(n=null==t?void 0:t.fontFamily)&&void 0!==n?n:this.fontFamily,height:null!==(s=null==t?void 0:t.height)&&void 0!==s?s:this.height,ellipsis:null!==(r=t.ellipsis)&&void 0!==r?r:this.ellipsis,maxLines:null!==(o=null==t?void 0:t.maxLines)&&void 0!==o?o:this.maxLines})}}class Y extends X{constructor(e){var i,n,s,r,o,a,h,l,d,c,u,p;if(super(e),this.fontWeight=t.FontWeight.normal,this.fontStyle=t.FontStyle.normal,this.letterSpacing=0,this.wordSpacing=0,this.decoration=t.TextDecoration.none,this.decorationStyle=t.TextDecorationStyle.solid,e){if(this.color=null!==(i=e.color)&&void 0!==i?i:this.color,this.fontSize=null!==(n=e.fontSize)&&void 0!==n?n:this.fontSize,this.fontWeight=null!==(s=e.fontWeight)&&void 0!==s?s:this.fontWeight,this.fontStyle=null!==(r=e.fontStyle)&&void 0!==r?r:this.fontStyle,this.letterSpacing=null!==(o=e.letterSpacing)&&void 0!==o?o:this.letterSpacing,this.wordSpacing=null!==(a=e.wordSpacing)&&void 0!==a?a:this.wordSpacing,this.decoration=null!==(h=e.decoration)&&void 0!==h?h:this.decoration,this.decorationStyle=null!==(l=null==e?void 0:e.decorationStyle)&&void 0!==l?l:this.decorationStyle,this.decorationColor=null!==(d=null==e?void 0:e.decorationColor)&&void 0!==d?d:this.decorationColor,this.foreground=null==e?void 0:e.foreground,this.overflow=null==e?void 0:e.overflow,this.shadow=null==e?void 0:e.shadow,null!==(c=this.height)&&void 0!==c||(this.height=1.4*(null!==(u=this.fontSize)&&void 0!==u?u:14)),null!==(p=this.decorationColor)&&void 0!==p||(this.decorationColor=new S(4278190080)),this.foreground&&this.color)throw Error("The 'foreground' and 'color' cannot exist at the same time.");!this.foreground&&!this.color&&(this.color=new S(4278190080))}}getTextStyle(t){return this.copyWith(t)}apply(t){return this.copyWith(t)}toOption(){var t;return{color:this.color,fontSize:null!==(t=this.fontSize)&&void 0!==t?t:14,fontWeight:this.fontWeight,fontStyle:this.fontStyle,letterSpacing:this.letterSpacing,wordSpacing:this.wordSpacing,decoration:this.decoration,decorationStyle:this.decorationStyle,decorationColor:this.decorationColor,foreground:this.foreground,shadow:this.shadow,overflow:this.overflow,textAlign:this.textAlign,textDirection:this.textDirection,maxLines:this.maxLines,ellipsis:this.ellipsis,height:this.height,fontFamily:this.fontFamily}}copyWith(t){return new Y(Object.assign(Object.assign({},this.toOption()),t))}}class q extends s{constructor(t,e,i){super(0,0,t,e),this.direction=i}static fromLTRBD(t,e,i){return new q(t,e,i)}copy(){const t=new q(this.width,this.height,this.direction);return t.lineHeight=this.lineHeight,t.offset=this.offset,t}}class K{}class J extends K{constructor(){super(...arguments),this.index=0,this.broCount=1,this.wordCountWidth=0,this.baseLineOffsetY=0}get offset(){return this.box.offset}set offset(t){this.box.offset=t}}class Q{hiddenTextPoint(){this._hidden=!0}disable(){this._hidden=!0}enable(){this._hidden=!1}get hidden(){return this._hidden}constructor(t){this.parentData=new J,this.isSpace=!1,this._hidden=!0,this.text=t,this.isSpace=rt.isSpace(this.charCodePoint)}get charCodePoint(){return this.text.charCodeAt(0)}get isWord(){return!this.isSpace}}class $ extends K{}class tt{getTextPointForOffset(t){return null}getTextBoxesForRange(t){return[]}}class et extends tt{constructor(){super(...arguments),this.parentData=new $,this.textStyle=new Y,this.textPoints=[],this.size=n.zero,this.currentInsertTextPointIndex=0}get width(){return this.size.width}get height(){return this.size.height}pushStyle(t){this.textStyle=t}addText(t){this.text=t}layout(t,i,n=e.zero){this.text.length&&(this.performLayoutTextOffset(i,n,t),this.handleCompileWord(),this.performConstraintsWidth(t,0,1,this.textStyle.maxLines),this.performLayoutOffsetYByColumn(),this.performLayoutTextAlignment(t),this.performLayoutLinePoints())}performLayoutLinePoints(){if(this.textStyle.decoration==t.TextDecoration.none)return;const e=this.textStyle.fontSize,i=rt.getRowsByNodeTree(this.firstTextPoint).values();let n;for(this.linePoints=[];;){const s=i.next();if(s.done)break;n=s.value;const r=n.textPoints,o=r.length;if(o>=1){const i=r[0],n=i.parentData.box.lineHeight,s=i.parentData.box.width,a=i.parentData.offset.copy(),h=(1===o?i:r[o-1]).parentData.offset.copy();h.x+=s;let l=0;switch(this.textStyle.decoration){case t.TextDecoration.underline:l=-.5*(n-e);break;case t.TextDecoration.overline:l=-.5*(n-e)-e;break;case t.TextDecoration.lineThrough:l=-.5*(n-e)-.5*e}a.y+=l+i.parentData.baseLineOffsetY,h.y+=l+i.parentData.baseLineOffsetY,this.linePoints.push({start:a,end:h})}}}applyTextStyle(t,e){var i;e&&t.save(),t.font=this.textStyle.fontWeight+" "+this.textStyle.fontStyle+" "+~~(null!==(i=this.textStyle.fontSize)&&void 0!==i?i:14)+"px "+this.textStyle.fontFamily,this.textStyle.shadow&&t.setShadow(this.textStyle.shadow),null==e||e(t),e&&t.restore()}handleCompileWord(){let t=this.firstTextPoint,e=this.firstTextPoint,i=0;for(;null!=t;){const n=t.parentData,s=null==t?void 0:t.charCodePoint;rt.isNewline(s)||rt.isSpace(s)||s>256?(n.broCount=1,t=n.nextNode,e=t,i=0):(t=n.nextNode,e.parentData.broCount=++i,i>=1&&(null==t?void 0:t.isWord)&&(t.parentData.broCount=0),e.parentData.wordCountWidth+=n.box.width)}}getRowByColumn(t){return rt.getRowsByNodeTree(this.firstTextPoint).get(t)}performLayoutTextAlignment(e){if(this.textStyle.textAlign===t.TextAlign.unset)return;const i=rt.getRowsByNodeTree(this.firstTextPoint),n=[...i.keys()];for(let t=0;t<n.length;t++){const s=n[t],r=i.get(Number(s));this.applyLayoutAlignByRow(r,e,t===n.length-1)}}applyLayoutAlignByRow(i,n,s=!1){if(!i)return;const r=n.width;let o=0,a=0;const h=null==i?void 0:i.textPoints,l=null==i?void 0:i.countWidth,d=Math.max(r-l,0),c=d>0,u=h.reduce(((t,e)=>t+(e.parentData.broCount&&!e.hidden?1:0)),0);switch(this.textStyle.textAlign){case t.TextAlign.end:o=d;break;case t.TextAlign.center:o=.5*d;break;case t.TextAlign.start:o=0,a=0;break;case t.TextAlign.justify:a=d/(u-1),(s||d>2*this.textStyle.fontSize)&&(a=0,o=0)}let p=o;c&&h.forEach(((t,i)=>{const n=t.parentData;n.broCount&&(n.offset=new e(p,n.offset.y),p+=n.wordCountWidth||n.box.width,p+=a,this.performLayoutRow(t,n.offset,n.broCount))}))}performConstraintsWidth(i,n=0,s=1,r=1/0){var o;if(s>r)return{column:s,subDeltaX:n};let a=n;const h=i.width,l=this.textPoints.length;let d=0;for(let i=0;i<l;){const n=this.textPoints[i],l=n.text.charCodeAt(0),c=n.parentData,u=c.broCount;let p=c.offset;const g=c.box,m=(c.wordCountWidth||g.width)+p.x+a,x=rt.isNewline(l);if((m>h||x)&&(a=-p.x,(s+=1)>=r))return(null===(o=this.textStyle)||void 0===o?void 0:o.overflow)===t.TextOverflow.ellipsis&&this.replaceEllipsis(n.parentData.preNode),{column:s,subDeltaX:a};let f=a+p.x;p=new e(f,0),c.column=s,x&&(p.x=d,a-=g.width),0!==u&&this.performLayoutRow(n,p,u),0===c.wordCountWidth&&(c.wordCountWidth=g.width),d=f+c.wordCountWidth,n.parentData=c,i+=u||1}return{column:s,subDeltaX:a}}replaceEllipsis(t){var e;if(t&&t){const i=!!this.textStyle.ellipsis,n=null!==(e=this.textStyle.ellipsis)&&void 0!==e?e:"…";t.text=n;const s=t.parentData.box,r=this.getTextBox(this.getMeasureText(w.instance.painter,n));r.x=s.x,r.lineHeight=s.lineHeight,i||(r.height=s.lineHeight),t.parentData.box=r}}performLayoutOffsetYByColumn(t=0){let i=this.firstTextPoint,n=0,s=0;for(;null!=i;){const r=null==i?void 0:i.parentData,o=r.column*r.box.lineHeight+t;r.offset=new e(r.offset.x,o),n=Math.max(isNaN(o)?0:o,n),s=Math.max(s,r.offset.x+r.box.width),i=r.nextNode}this.size.setHeight(n),this.size.setWidth(s)}performLayoutTextOffset(t,e,i){this.applyTextStyle(t);const n=Array.from(this.text);let s;for(const e of n){const i=this.insertTextToList(e,t,s);s=i,!this.firstTextPoint&&(this.firstTextPoint=i)}this.visitTexts((t=>(rt.isNewline(t.charCodePoint)&&(t.parentData.box.width=0,t.parentData.visualBox.width=i.width),!0))),this.performLayoutRow(this.firstTextPoint,e,null,!0)}performLayoutRow(t,i,n,s){var r;let o=null!==(r=null==i?void 0:i.x)&&void 0!==r?r:0,a=t,h=0;const l=t.parentData;for(;null!=a;){if(a.enable(),n&&(h+=1)>n)return;const t=null==a?void 0:a.parentData;let i=e.zero;const r=t.box;s&&rt.isSpace(a.charCodePoint)&&(r.width+=this.textStyle.wordSpacing);const d=l.offset.y;i=new e(o,d),t.offset=i,t.column=l.column,a=t.nextNode,o+=r.width,this.lastTextPoint=null!=a?a:this.lastTextPoint}}getNextStartOffset(){var t;if(0===this.textPoints.length)return e.zero;const i=null===(t=this.lastTextPoint)||void 0===t?void 0:t.parentData;if(!i)return e.zero;const n=i.offset.copy(),s=e.zero;s.x+=n.x,s.y+=n.y;const r=new e(this.textStyle.fontSize,-(this.textStyle.fontSize+Math.max(0,this.textStyle.height-this.textStyle.fontSize)));return s.x+=r.x,s.y+=r.y,s}insertTextToList(t,e,i){const n=this.textStyle.height,s=this.getMeasureText(e,t),r=this.getTextBox(s),o=new Q(t),a=o.parentData;return r.lineHeight=n,a.box=r,a.visualBox=r.copy(),i&&(o.parentData.preNode=i,i.parentData.nextNode=o),a.index=this.currentInsertTextPointIndex,o.parentData=a,o.disable(),this.textPoints.push(o),this.currentInsertTextPointIndex++,o}getTextBox(t){var e;const i=this.textStyle.letterSpacing;return this.textPoints.length,q.fromLTRBD(t.width+i,null!==(e=t.hangingBaseline)&&void 0!==e?e:t.width,this.textStyle.textDirection)}getMeasureText(t,e){return t.measureText(e)}paint(i,n=e.zero,s=!1){return this.textPoints&&(this.applyTextStyle(i,(e=>{this.textStyle.decorationStyle===t.TextDecorationStyle.dashed&&e.setLineDash([5,5]),e.strokeStyle=this.textStyle.decorationColor.rgba,this.performPaintLines(e,n)})),this.applyTextStyle(i,(t=>{if(this.textStyle.foreground){const t=this.textStyle.foreground;this.performPaint(t,n,s)}else t.fillStyle=this.textStyle.color.rgba,this.performPaint(t,n,s)}))),this.getNextStartOffset()}performPaintLines(t,e){this.linePoints&&(t.beginPath(),this.linePoints.forEach((i=>{t.moveTo(i.start.x+e.x,i.start.y+e.y),t.lineTo(i.end.x+e.x,i.end.y+e.y)})),t.stroke(),t.closePath())}performPaint(e,i,n){let s=this.firstTextPoint;for(;null!=s;){const r=s.parentData,{x:o,y:a}=r.offset,h=o+i.x,l=a+i.y,{width:d,height:c,lineHeight:u}=r.box;if(s.hidden){s=r.nextNode;continue}let p=l-.5*u+.3*this.textStyle.fontSize+r.baseLineOffsetY;e.style===t.PaintingStyle.fill?e.fillText(s.text,h,p):e.strokeText(s.text,h,p),n&&(rt.isSpace(s.charCodePoint)||rt.isNewline(s.charCodePoint)?(e.beginPath(),e.rect(h,l-u,d,u),rt.isSpace(s.charCodePoint)?e.strokeStyle="orange":e.strokeStyle="skyblue",e.stroke(),e.closePath()):(e.beginPath(),e.rect(h,l-u,d,u),e.strokeStyle="#ccc",e.closePath(),e.stroke())),s=r.nextNode}}visitTexts(t){var e;let i=this.firstTextPoint;for(;null!=i;){if(!t(i))break;i=null===(e=i.parentData)||void 0===e?void 0:e.nextNode}}getTextPointForOffset(t){var e;let i;if(this.visitTexts((e=>{var n,r;const o=e.parentData.visualBox.lineHeight,a=null===(n=null==e?void 0:e.parentData)||void 0===n?void 0:n.box,h=null===(r=null==e?void 0:e.parentData)||void 0===r?void 0:r.visualBox.width,l=new s(a.x,a.y-o,h,o);return!(null==l?void 0:l.contains(t))||(i=e,!1)})),rt.isNewline(null==i?void 0:i.charCodePoint)){const t=null===(e=i.parentData)||void 0===e?void 0:e.preNode;if(t)return t}if(!i){const t=this.lastTextPoint;if(t)return t}return i}getTextBoxesForRange(t){const i=new Array;return this.visitTexts((n=>{const s=n.parentData.index;return s>=t.start&&s<=t.end&&i.push((t=>{const i=t.parentData.box.copy();return rt.isNewline(t.text.charCodeAt(0))&&(i.offset=new e(0,i.offset.y+i.lineHeight)),i})(n)),s<=t.end})),i}}class it extends et{constructor(t){super(),this.maxWidth=0,this.maxHeight=0,this.addAll(t)}addAll(t){if(!t)return;let e;t.forEach((t=>{!this.firstChild&&(this.firstChild=t),this.addChild(t,e),e=t}))}addChild(t,e){t.parentData.preNode=e,e&&(e.parentData.nextNode=t)}layout(t,e,i){this.applyPerformLayoutHorizontalOffset(e,i,t);const s=this.applyPerformLayoutConstraints(t,this.textStyle.maxLines);this.handleLevelRowsLineHeight(s),this.applyAlignText(s,t),this.applyPerformLayoutLinePoint(),this.size=new n(this.maxWidth,this.maxHeight)}applyPerformLayoutLinePoint(){let t=this.firstChild;for(;null!=t;){const e=t.parentData;t.performLayoutLinePoints(),t=e.nextNode}}handleLevelRowsLineHeight(t){const i=this.getRows(t);let n=0,s=0;i.forEach((t=>{let i;t.maxLineHeight!==t.minLineHeight&&(i=i=t.textPoints.find((e=>e.parentData.box.lineHeight===t.maxLineHeight))),t.textPoints.forEach((r=>{var o;const a=r.parentData,h=a.box,l=((null===(o=null==i?void 0:i.parentData)||void 0===o?void 0:o.box)||h).height-h.height;h.lineHeight=t.maxLineHeight;let d=a.box.lineHeight+n;0!=l&&(a.baseLineOffsetY=.5*l),a.offset=new e(a.offset.x,d);const c=a.offset.x+h.width;s=Math.max(s,isNaN(c)?0:c)})),n+=t.maxLineHeight})),this.maxWidth=s,this.maxHeight=n}getRows(t){let e=this.firstChild;const i=new Array;for(;null!=e;){const n=e.parentData;for(let n=1;n<=t;n++){const t=e.getRowByColumn(n);t&&i.push(...t.textPoints)}e=n.nextNode}return rt.getRowsByArray(i)}applyAlignText(t,e){const i=this.getRows(t),n=[...i.keys()];for(let t=0;t<n.length;t++){const s=n[t],r=i.get(Number(s));this.applyLayoutAlignByRow(r,e,t===n.length-1)}}applyPerformLayoutConstraints(t,e=1/0){let i=this.firstChild,n=0,s=1;for(;null!=i;){const r=i.parentData,{column:o,subDeltaX:a}=i.performConstraintsWidth(t,n,s,e);s=o,n=a,i=r.nextNode}return s}applyPerformLayoutHorizontalOffset(t,i=e.zero,n){let s=this.firstChild,r=i;for(;null!=s;){const e=s.parentData;s.performLayoutTextOffset(t,r,n),s.handleCompileWord(),r=s.getNextStartOffset(),s=e.nextNode}}paint(t,i=e.zero,n=!1){let s=this.firstChild;for(;null!=s;){const e=s.parentData;s.paint(t,i,n),s=e.nextNode}return e.zero}}class nt{constructor(t){this.textStyles=[],this.elements=[],this.paragraphStyle=t}addText(t){this.elements.push({text:t,textStyle:this.lastTextStyle})}get lastTextStyle(){const t=this.textStyles.length;return t>=1?this.textStyles[t-1]:null}pushStyle(t){var e;if(this.lastTextStyle){const i=null===(e=this.lastTextStyle)||void 0===e?void 0:e.apply(Object.assign({},t));this.textStyles.push(i)}else this.textStyles.push(t)}pop(){this.textStyles.pop()}build(){let t;const e=[];for(const i of this.elements){const n=new et;n.addText(i.text),n.pushStyle(i.textStyle),t=n,e.push(n)}return e.length>1&&(t=new it(e),t.pushStyle(this.lastTextStyle)),null==t||t.pushStyle(Object.assign(Object.assign({},t.textStyle),this.paragraphStyle)),t}}class st extends G{constructor(t){super();const{textStyle:e,children:i,text:n}=t;this.style=null!=e?e:new Y,this.children=i,this.text=null!=n?n:" "}build(t){const e=null!=this.style;if(e&&t.pushStyle(this.style.getTextStyle()),null!==this.text&&t.addText(this.text),this.children)for(const e of this.children)e.build(t);e&&t.pop()}getSpanForPosition(t){throw new Error("Method not implemented.")}visitChildren(t){throw new Error("Method not implemented.")}computeToPlainText(){throw new Error("Method not implemented.")}}class rt extends tt{get width(){return this.size.width}get height(){return this.size.height}constructor(t,e=w.instance.painter){super(),this.size=n.zero,this.text=t,this.painter=e}createParagraph(){const t=new nt(this.text.style.getParagraphStyle());this.text.build(t),this.paragraph=t.build()}layout(t=0,e=1/0){this.isEqualsTextSpan()||(!this.paragraph&&this.createParagraph(),this.paragraph.layout(new Z(e),this.painter),this.size.setWidth(this.paragraph.width),this.size.setHeight(this.paragraph.height),this.preTextSpan=this.text)}paint(t,i=e.zero,n=!1){this.paragraph.paint(t,i,n)}isEqualsTextSpan(){if(null==this.preTextSpan)return!1;if(this.text===this.preTextSpan)return!0;if(this.text.text===this.preTextSpan.text){const t=this.preTextSpan.style,e=this.text.style;return t.fontFamily===e.fontFamily&&t.fontSize===e.fontSize&&t.fontWeight===e.fontWeight&&t.fontStyle===e.fontStyle&&t.letterSpacing===e.letterSpacing&&t.wordSpacing===e.wordSpacing&&t.shadow===e.shadow&&t.decoration===e.decoration}return!1}static isSpace(t){return 32===t}static getRowsByArray(t){const e=new Map;return t.forEach((i=>{const n=i.parentData,s=n.column;let r=e.get(s);!r&&(r={textPoints:[],countWidth:0,maxLineHeight:0,minLineHeight:1/0}),r.countWidth+=n.box.width,r.maxLineHeight=Math.max(r.maxLineHeight,n.box.lineHeight),r.minLineHeight=Math.min(r.maxLineHeight,n.box.lineHeight);const o=t.indexOf(i)+1,a=o<t.length?t[o]:null;(null==a?void 0:a.parentData.column)!=s&&rt.isSpace(i.charCodePoint)?(r.countWidth-=n.box.width,i.hiddenTextPoint()):r.textPoints.push(i),e.set(s,r)})),e}static getRowsByNodeTree(t){let e=t;const i=new Map;for(;null!=e;){const t=e.parentData,n=t.nextNode,s=t.column;let r=i.get(s);!r&&(r={textPoints:[],countWidth:0,maxLineHeight:0,minLineHeight:1/0}),r.countWidth+=t.box.width,r.maxLineHeight=Math.max(r.maxLineHeight,t.box.lineHeight),r.minLineHeight=Math.min(r.maxLineHeight,t.box.lineHeight),(null==n?void 0:n.parentData.column)!=s&&rt.isSpace(e.charCodePoint)?(r.countWidth-=t.box.width,e.hiddenTextPoint()):r.textPoints.push(e),i.set(s,r),e=n}return i}static isNewline(t){switch(t){case 10:case 133:case 11:case 12:case 8232:case 8233:return!0;default:return!1}}getTextPointForOffset(t){return this.paragraph.getTextPointForOffset(t)}getTextBoxesForRange(t){var e;return null===(e=this.paragraph)||void 0===e?void 0:e.getTextBoxesForRange(t).map((t=>{const e=t.copy();return e.y-=e.lineHeight,e.height=e.lineHeight,e}))}}class ot{constructor(t){this.target=t}}class at{constructor(){this._path=new Map}get path(){return[...this._path.values()]}add(t){const e=t.target;!this._path.has(e)&&this._path.set(e,t)}}class ht{constructor(t,e){this._matrix=new Array(t*e).fill(0),this.identity()}get matrix(){return this._matrix}getMatrix(){return this._matrix}setMatrix(t){return this._matrix=t,this}setValue(t,e){this._matrix[t]=e}}class lt extends ht{constructor(){super(4,4)}multiply(t){const e=[...this.matrix],i=new Array(16),n=e[0],s=e[4],r=e[8],o=e[12],a=e[1],h=e[5],l=e[9],d=e[13],c=e[2],u=e[6],p=e[10],g=e[14],m=e[3],x=e[7],f=e[11],v=e[15],w=t.matrix,y=w[0],b=w[4],P=w[8],S=w[12],A=w[1],C=w[5],_=w[9],D=w[13],T=w[2],R=w[6],E=w[10],k=w[14],L=w[3],z=w[7],B=w[11],W=w[15];return i[0]=n*y+s*A+r*T+o*L,i[4]=n*b+s*C+r*R+o*z,i[8]=n*P+s*_+r*E+o*B,i[12]=n*S+s*D+r*k+o*W,i[1]=a*y+h*A+l*T+d*L,i[5]=a*b+h*C+l*R+d*z,i[9]=a*P+h*_+l*E+d*B,i[13]=a*S+h*D+l*k+d*W,i[2]=c*y+u*A+p*T+g*L,i[6]=c*b+u*C+p*R+g*z,i[10]=c*P+u*_+p*E+g*B,i[14]=c*S+u*D+p*k+g*W,i[3]=m*y+x*A+f*T+v*L,i[7]=m*b+x*C+f*R+v*z,i[11]=m*P+x*_+f*E+v*B,i[15]=m*S+x*D+f*k+v*W,this.setMatrix(i),this}identity(){return this.setMatrix([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}static get zero(){return new lt}scaleValues(t=1,e=1,i=1){this.matrix[0]=t,this.matrix[5]=e,this.matrix[10]=i,this.matrix[15]=1}scale(t=1,e=1,i=1){const n=lt.zero.identity();n.scaleValues(t,e,i),this.multiply(n)}static skewX(t){const e=lt.zero.identity();return e.matrix[4]=Math.tan(t),e}skewX(t){return this.multiply(lt.skewX(t)),this}static skewY(t){const e=lt.zero.identity();return e.matrix[1]=Math.tan(t),e}skewY(t){return this.multiply(lt.skewY(t)),this}static skew(t,e){const i=lt.zero.identity();return i.matrix[4]=Math.tan(t),i.matrix[1]=Math.tan(e),i}skew(t,e){return this.multiply(lt.skew(t,e)),this}translateValues(t=0,e=0,i=0){this.matrix[12]=t,this.matrix[13]=e,this.matrix[14]=i}translate(t=0,e=0,i=0){const n=lt.zero.identity();return n.translateValues(t,e,i),this.multiply(n),this}rotateZ(t){const e=b(t),i=y(t),n=lt.zero.identity(),s=n.matrix;s[0]=e,s[1]=i,s[4]=-i,s[5]=e,this.multiply(n)}rotateY(t){const e=b(t),i=y(t),n=lt.zero.identity(),s=n.matrix;s[0]=e,s[2]=-i,s[8]=i,s[10]=e,this.multiply(n)}rotateX(t){const e=b(t),i=y(t),n=lt.zero.identity(),s=n.matrix;s[5]=e,s[6]=i,s[9]=-i,s[10]=e,this.multiply(n)}inverted(){const t=this.matrix,e=new Array(16),i=t[0],n=t[1],s=t[2],r=t[3],o=t[4],a=t[5],h=t[6],l=t[7],d=t[8],c=t[9],u=t[10],p=t[11],g=t[12],m=t[13],x=t[14],f=t[15],v=i*a-n*o,w=i*h-s*o,y=i*l-r*o,b=n*h-s*a,P=n*l-r*a,S=s*l-r*h,A=d*m-c*g,C=d*x-u*g,_=d*f-p*g,D=c*x-u*m,T=c*f-p*m,R=u*f-p*x,E=v*R-w*T+y*D+b*_-P*C+S*A;if(!E)throw new Error("Matrix cannot be inverted");const k=1/E;return e[0]=(a*R-h*T+l*D)*k,e[1]=(s*T-n*R-r*D)*k,e[2]=(m*S-x*P+f*b)*k,e[3]=(u*P-c*S-p*b)*k,e[4]=(h*_-o*R-l*C)*k,e[5]=(i*R-s*_+r*C)*k,e[6]=(x*y-g*S-f*w)*k,e[7]=(d*S-u*y+p*w)*k,e[8]=(o*T-a*_+l*A)*k,e[9]=(n*_-i*T-r*A)*k,e[10]=(g*P-m*y+f*v)*k,e[11]=(c*y-d*P-p*v)*k,e[12]=(a*C-o*D-h*A)*k,e[13]=(i*D-n*C+s*A)*k,e[14]=(m*w-g*b-x*v)*k,e[15]=(d*b-c*w+u*v)*k,this.setMatrix(e),this}}class dt{constructor(){this._elements=new Set}get elements(){return this._elements}count(){return this.elements.size}clear(){this.elements.forEach((t=>{t.lifecycleState===pt.inactive&&this.unmount(t)})),this.elements.clear()}remove(t){this.elements.delete(t)}performDeactivate(t){t.lifecycleState===pt.inactive&&(t.visitChildren((t=>{this.performDeactivate(t)})),t.deactivate())}add(t){t.lifecycleState===pt.active&&(this.including(t)||(this.performDeactivate(t),this.elements.add(t)))}including(t){return this.elements.has(t)}unmount(t){t&&t.unmount()}}class ct{constructor(){this.dirtyElementList=[],this.inactiveElements=new dt,this.globalKeys=new Map}scheduleBuildFor(t){t.lifecycleState===pt.active&&(this.dirtyElementList.push(t),ze.instance.ensureVisualUpdate())}buildScope(t){this.dirtyElementList.sort(mt.sort);let e=0;const i=this.dirtyElementList.length;for(;e<i;){const t=this.dirtyElementList[e];t&&t.rebuild(),e+=1}this.dirtyElementList=[]}registerGlobalKey(t,e){this.globalKeys.has(t)||this.globalKeys.set(t,e)}getElementByGlobalKey(t){return this.globalKeys.get(t)}}class ut{get size(){return null}findRenderView(){return null}}var pt,gt;(gt=pt||(pt={})).initial="initial",gt.active="active",gt.inactive="inactive",gt.defunct="defunct";class mt extends ut{set renderView(t){this._renderView=t}findRenderView(){return this.renderView}get renderView(){let t=this;for(;t;){if(null==t?void 0:t._renderView)return t._renderView;t.visitChildren((e=>{t=e}))}return null}constructor(t){super(),this.lifecycleState=pt.initial,this.dirty=!0,this.child=null,this.depth=0,this._widget=t,Me.incrementElementCount()}set slot(t){this._slot=t}get slot(){return this._slot}get widget(){return this._widget}set widget(t){this._widget=t}get runtimeType(){return this.constructor}get mounted(){return null!==this.widget}mount(t,e){var i,n;if(!t)return;this.parent=t,this.owner=null==t?void 0:t.owner,this.depth=(null==t?void 0:t.depth)+1,this.slot=e,this.lifecycleState=pt.active;const s=null===(i=this.widget)||void 0===i?void 0:i.key;s instanceof v&&(null===(n=this.owner)||void 0===n||n.registerGlobalKey(s,this)),this.markNeedsBuild()}unmount(){this.lifecycleState!==pt.defunct&&(this.lifecycleState=pt.defunct,this.widget=null,this.renderView=null,this.visitChildren((t=>{t&&t.unmount()})),Me.decrementElementCount())}static sort(t,e){return t.depth-e.depth}canUpdate(t,e){return(null==e?void 0:e.runtimeType)===(null==t?void 0:t.runtimeType)&&(null==e?void 0:e.key)===(null==t?void 0:t.key)}detachRenderView(){this.visitChildren((t=>{null==t||t.detachRenderView()})),this.slot=null}deactivate(){this.lifecycleState=pt.inactive}deactivateChild(t){t.parent=null,t.detachRenderView(),this.owner.inactiveElements.add(t)}updateChild(t,e,i){if(!t&&!e)return null;if(t&&!e)return this.deactivateChild(t),null;let n=t;return!t&&e?(n=this.inflateWidget(e,i),n):this.canUpdate(t.widget,e)?(t.update(e),t):(this.deactivateChild(t),n)}inflateWidget(t,e){let i;const n=t;if(!n)return i;const s=null==n?void 0:n.key;if(s instanceof v&&(i=this.retakeInactiveElement(s,t),i)){i.activeWithParent(this,e);return this.updateChild(i,t,e)}return i=n.createElement(),i.mount(this,e),i}retakeInactiveElement(t,e){const i=t.currentElement;if(i&&this.canUpdate(i.widget,e))return this.owner.inactiveElements.remove(i),i}activeWithParent(t,e){this.parent=t,this.updateDepth(null==t?void 0:t.depth),this.activeRecursively(this),this.attachRenderObject(e)}activeRecursively(t){t.lifecycleState===pt.inactive&&(t.activate(),this.visitChildren((t=>{this.activeRecursively(t)})))}activate(){this.lifecycleState=pt.active,this.markNeedsBuild()}updateDepth(t){const e=t+1;this.depth<e&&(this.depth=e,this.visitChildren((t=>{null==t||t.updateDepth(e)})))}markNeedsBuild(){this.dirty||(this.dirty=!0,null==this||this.owner.scheduleBuildFor(this))}rebuild(t=!1){(this.dirty||t)&&this.performRebuild()}performRebuild(){this.dirty&&(this.dirty=!1)}firstBuild(){this.rebuild()}setTestWidget(t){this._widget=t}update(t){this._widget=t}reassemble(){this.markNeedsBuild(),this.visitChildren((t=>{t&&t.reassemble()}))}attachRenderObject(t){this.visitChildren((e=>{e.attachRenderObject(t)}))}visitChildren(t){this.child&&t(this.child)}}class xt{constructor(){this.initInstance()}initInstance(){}}class ft{get runtimeType(){return this.constructor}constructor(t){if(!new.target)throw new o("Cannot construct instances directly");if(t&&!(t instanceof x))throw new Error("key must be instance of Key");this.key=t}}class vt extends mt{mount(t,e){super.mount(t,e),this.firstBuild()}performRebuild(){this._performRebuild()}_performRebuild(){const t=this.build();super.performRebuild(),this.child=this.updateChild(this.child,t,this.slot)}}class wt extends vt{update(t){const e=Object.assign({},this.widget);super.update(t),this.updated(e),this.rebuild(!0)}updated(t){this.notifyClients(t)}}class yt extends ft{constructor(t,e){super(e),this.child=t}}class bt extends vt{constructor(t,e){super(t)}update(t){super.update(t),this.rebuild(!0)}build(){return this.widget.build(this)}}class Pt extends ft{createElement(){return new bt(this)}}class St extends vt{constructor(t){super(t),this.state=t.createState(),this.state.element=this}firstBuild(){this.state.initState(),super.firstBuild()}update(t){const e=this.widget;this.state.didUpdateWidget(e),super.update(t),this.rebuild(!0)}build(){return this.state.build(this)}unmount(){var t;super.unmount(),null===(t=this.state)||void 0===t||t.unmount()}}class At extends ft{createElement(){return new St(this)}}class Ct{get widget(){var t;return null===(t=this.element)||void 0===t?void 0:t.widget}get element(){return this._element}set element(t){this._element=t}get mounted(){return null!=this.element}initState(){}setState(t){t(),this.element.markNeedsBuild()}unmount(){}didUpdateWidget(t){}}class _t extends mt{set renderView(t){this._renderView=t}get renderView(){return this._renderView}findRenderObject(){return this.renderView}mount(t,e){super.mount(t,e);const i=this.widget;this.renderView=i.createRenderObject(this),this.attachRenderObject(e)}update(t){super.update(t),this._performRebuild()}performRebuild(){this._performRebuild()}_performRebuild(){this.widget.updateRenderObject(this,this.renderView),super.performRebuild()}findAncestorParentDataElement(){let t,e=this.parent;for(;null!=e&&!(e instanceof _t);){if(e instanceof zt){t=e;break}e=e.parent}return t}findAncestorRenderObjectElement(){let t=this.parent;for(;null!=t;){if(t instanceof _t)return t;t=t.parent}return t}attachRenderObject(t){var e;if(this.ancestorRenderObjectElement)return;this.ancestorRenderObjectElement=this.findAncestorRenderObjectElement(),null===(e=this.ancestorRenderObjectElement)||void 0===e||e.insertRenderObjectChild(this.renderView,t);const i=this.findAncestorParentDataElement();i&&this.updateParentData(i.widget)}updateParentData(t){t.applyParentData(this.renderView)}visitChildren(t){t(this.child)}detachRenderView(){this.ancestorRenderObjectElement&&(this.ancestorRenderObjectElement.removeRenderViewChild(this.renderView,this.slot),this.ancestorRenderObjectElement=null),this.slot=null}removeRenderViewChild(t,e){}updateChildren(t,e){let i=0,n=t.length-1,s=0,r=e.length-1;const o=new Array(e.length).fill(null);let a=null;for(;i<=n&&s<=r;){let n=t[i];const r=e[s];if(null==n&&!this.canUpdate(null==n?void 0:n.widget,r))break;const h=this.updateChild(n,r,a);o[s]=h,a=h,s+=1,i+=1}for(;i<=n&&s<=r;){let i=t[n];const s=e[r];if(null==i&&!this.canUpdate(null==i?void 0:i.widget,s))break;const h=this.updateChild(i,s,a);o[r]=h,a=h,r-=1,n-=1}for(;s<=r;){const t=e[s],i=this.updateChild(null,t,a);o[s]=i,a=i,s+=1}return o}}class Dt extends _t{mount(t,e){super.mount(t,e),this.firstBuild()}performRebuild(){this.child=this.updateChild(this.child,this.widget.child),super.performRebuild()}update(t){super.update(t),this.child=this.updateChild(this.child,this.widget.child)}insertRenderObjectChild(t,e){this.renderView.child=t}removeRenderViewChild(t,e){this.renderView.child===t&&(this.renderView.child=null,t.parent=null)}}class Tt extends ft{constructor(t,e){super(e),this.child=t}updateRenderObject(t,e){}}class Rt extends Tt{createElement(){return new Dt(this)}}class Et extends _t{mount(t,e){super.mount(t,e);const i=this.widget.children;if(!i)return;let n;const s=new Array;4===i.length&&(this.depth=2),i.forEach(((t,e)=>{const i=this.updateChild(null,t,n);null!=i&&s.push(i),n=i})),this.children=s}update(t){super.update(t);const e=this.widget;this.children=this.updateChildren(this.children,e.children)}visitChildren(t){this.children.forEach(t)}insertRenderObjectChild(t,e){this.renderView.insert(t,null==e?void 0:e.renderView)}removeRenderViewChild(t,e){t.parent===this.renderView&&this.renderView.remove(t)}}class kt extends Tt{constructor(t,e){super(null,e),this.children=t}createElement(){return new Et(this)}}class Lt extends Dt{assignOwner(t){this.owner=t}mount(t,e){const i=this.widget;this.renderView=i.createRenderObject(this);const n=Oe.instance.pipelineOwner;this.renderView.attach(n),n.attachNode(this.renderView),this.attachRenderObject(e),this.firstBuild()}attachToRenderTree(t){this.owner?this.markNeedsBuild():(this.assignOwner(t),this.mount(),this.renderView.scheduleFirstFrame(),this.owner.buildScope(this))}}class zt extends wt{build(){return this.widget.child}applyParentData(t){const e=i=>{i instanceof _t?i.updateParentData(t):i.visitChildren(e)};this.visitChildren(e)}notifyClients(t){this.applyParentData(this.widget)}}class Bt extends yt{createElement(){return new zt(this)}}class Wt{constructor(t){this.identifier=t.identifier,this.pointer=t.pointer,this.parent=t.parent}}class Ot{constructor(t){var e;this.pointer=t.pointer,this.pointers=t.pointers,this.ctrlKey=null==t?void 0:t.ctrlKey,this.metaKey=null==t?void 0:t.metaKey,this.shiftKey=null==t?void 0:t.shiftKey,this.deltaX=null==t?void 0:t.deltaX,this.deltaY=null==t?void 0:t.deltaY,this.deltaZ=null==t?void 0:t.deltaZ,this.pointer.parent=this,null===(e=this.pointers)||void 0===e||e.forEach((t=>{t.parent=this}))}}class Mt extends xt{constructor(){super(...arguments),this.listeners=new Map}initInstance(){super.initInstance(),Mt.instance=this}addEventListener(t,e){this.listeners.set(t,e)}removeEventListener(t){this.listeners.delete(t)}applyEvent(t,e){const i=this.listeners.get(t);null==i||i(e)}}class Ht{constructor(){this.binding=new Mt,this.performBindingHandler()}applyEvent(t,e){this.binding.applyEvent(t,this.adapter(t,e))}adapter(t,e){return e}performBindingHandler(){}}var Nt,It;(It=Nt||(Nt={})).cancel="cancel",It.add="add",It.remove="remove",It.hover="hover",It.signal="signal",It.down="down",It.move="move",It.up="up",It.panZoomStart="panZoomStart",It.panZoomUpdate="panZoomUpdate",It.panZoomEnd="panZoomEnd";class Ft{constructor(t,e,i,n,s,r){this.change=t,this.event=e,this.delta=i,this.position=n,this.pointer=s,this.unifiedEvent=r}}class jt{constructor(t){this.isPointerDown=!1,this.isPanZoom=!1,this.prePointerData=null,this.initialPosition=null,this.initializeEventListeners(),this.onPointerChange=t}reset(){this.initialPosition=null}initializeEventListeners(){if(Mt.instance){const t=Mt.instance;t.addEventListener("touchstart",this.handleTouchStart.bind(this)),t.addEventListener("touchmove",this.handleTouchMove.bind(this)),t.addEventListener("touchend",this.handleTouchEnd.bind(this)),t.addEventListener("touchcancel",this.handleTouchCancel.bind(this)),t.addEventListener("mousedown",this.handlePointerDown.bind(this)),t.addEventListener("mouseup",this.handlePointerUp.bind(this)),t.addEventListener("mousemove",this.handlePointerMove.bind(this)),t.addEventListener("mouseout",this.handlePointerCancel.bind(this)),t.addEventListener("wheel",this.handleWheel.bind(this))}else console.warn("NativeEventsBinding.instance is null")}handlePointerDown(t){this.isPointerDown=!0,this.isPanZoom=t.shiftKey||t.ctrlKey,this.handlePointerEvent(Nt.down,t.pointer)}handlePointerUp(t){this.isPointerDown=!1,this.handlePointerEvent(Nt.up,t.pointer),this.isPanZoom&&(this.handlePointerEvent(Nt.panZoomEnd,t.pointer),this.isPanZoom=!1)}handlePointerMove(t){this.isPointerDown?(this.handlePointerEvent(Nt.move,t.pointer),this.isPanZoom&&this.handlePointerEvent(Nt.panZoomUpdate,t.pointer)):this.handlePointerEvent(Nt.hover,t.pointer)}handlePointerCancel(t){this.isPointerDown=!1,this.handlePointerEvent(Nt.cancel,t.pointer)}handleWheel(t){this.isPointerDown?this.handlePointerEvent(Nt.panZoomUpdate,t.pointer):this.handlePointerEvent(Nt.signal,t.pointer)}handleTouchStart(t){this.isPointerDown=!0,this.isPanZoom=t.pointers.length>1,Array.from(t.pointers).forEach((t=>{this.isPanZoom?this.handlePointerEvent(Nt.panZoomStart,t):this.handlePointerEvent(Nt.down,t)}))}handleTouchMove(t){Array.from(t.pointers).forEach(((t,e)=>{this.isPointerDown&&(this.handlePointerEvent(Nt.move,t),this.isPanZoom&&this.handlePointerEvent(Nt.panZoomUpdate,t))}))}handleTouchEnd(t){this.isPointerDown=!1,Array.from(t.pointers).forEach((t=>{this.isPanZoom&&(this.handlePointerEvent(Nt.panZoomEnd,t),this.isPanZoom=!1),this.handlePointerEvent(Nt.up,t)}))}handleTouchCancel(t){this.isPointerDown=!1,Array.from(t.pointers).forEach((t=>{this.handlePointerEvent(Nt.cancel,t)}))}handlePointerEvent(t,n){const s=this.getEventPosition(n),r=this.prePointerData?i.sub(s,this.prePointerData.position):i.zero,o=n.identifier,a=new Ft(t,n,new e(r.x,r.y),s,o,n.parent),h=this.onPointerChange(a);this.prePointerData=a,h&&(this.initialPosition&&this.addCancelPointer(t,n,h,s),h instanceof Gt&&(this.initialPosition=s))}addCancelPointer(t,e,i,n){if(t===Nt.up)this.reset();else if(t===Nt.move&&!this.isPanZoom&&null!=this.initialPosition){n.dist(this.initialPosition)>18&&(this.handlePointerEvent(Nt.cancel,e),this.reset())}}getEventPosition(t){return t.pointer.toVector()}}class Vt{constructor(t){this.pointer=0,this.pointers=[];const{delta:e,position:i,pointer:n}=t;this.position=i,this.delta=e,this.pointer=n,this.pointers=t.pointers}}class Ut extends Vt{}class Gt extends Vt{}class Zt extends Vt{}class Xt extends Vt{}class Yt extends Vt{}class qt extends Vt{}class Kt extends Vt{constructor(t){super(t),this.deltaX=t.deltaX,this.deltaY=t.deltaY,this.deltaZ=t.deltaZ}}class Jt extends Ut{}class Qt extends Ut{}class $t extends Ut{}class te{static expand(t){var n,s,r;const o=w.instance.devicePixelRatio,a={position:new i(t.position.x*o,t.position.y*o),delta:new e(t.delta.offsetX*o,t.delta.offsetY*o),pointer:t.pointer,pointers:t.unifiedEvent.pointers.map((t=>(t.pointer.x*=o,t.pointer.y*=o,t)))};switch(t.change){case Nt.cancel:return new qt(a);case Nt.add:case Nt.remove:break;case Nt.hover:return new Yt(a);case Nt.down:return new Gt(a);case Nt.move:return new Xt(a);case Nt.up:return new Zt(a);case Nt.panZoomStart:return new Jt(a);case Nt.panZoomUpdate:return new Qt(a);case Nt.panZoomEnd:return new $t(a);case Nt.signal:return new Kt(Object.assign(Object.assign({},a),{deltaX:(null!==(n=t.unifiedEvent.deltaX)&&void 0!==n?n:0)*o,deltaY:(null!==(s=t.unifiedEvent.deltaY)&&void 0!==s?s:0)*o,deltaZ:(null!==(r=t.unifiedEvent.deltaZ)&&void 0!==r?r:0)*o}))}return null}}class ee{constructor(){this.routeMap=new Map}addRoute(t,e,i=lt.zero.identity()){let n=this.routeMap.get(t);!n&&(n=new Map),n.has(e)||(n.set(e,i),this.routeMap.set(t,n))}removeRoute(t,e){const i=this.routeMap.get(t);i&&i.delete(e)}route(t){this.dispatch(t)}dispatch(t){const e=this.routeMap.get(t.pointer);if(e)for(let[i,n]of e)i(t)}}class ie{static getAsTranslation(t){const e=t.matrix;return 1==e[0]&&0==e[1]&&0==e[2]&&0==e[3]&&0==e[4]&&1==e[5]&&0==e[6]&&0==e[7]&&0==e[8]&&0==e[9]&&1==e[10]&&0==e[11]&&0==e[14]&&1==e[15]?new i(e[12],e[13]):null}static getAsScale(t){const e=t.matrix;return 0==e[1]&&0==e[2]&&0==e[3]&&0==e[4]&&0==e[6]&&0==e[7]&&0==e[8]&&0==e[9]&&1==e[10]&&0==e[11]&&0==e[12]&&0==e[13]&&0==e[14]&&1==e[15]&&e[0]==e[5]?e[0]:null}static transformPoint(t,e){const n=t.matrix,s=e.x,r=e.y,o=n[0]*s+n[4]*r+n[12],a=n[1]*s+n[5]*r+n[13],h=n[3]*s+n[7]*r+n[15];return 1==h?new i(o,a):new i(o/h,a/h)}}class ne{constructor(t){this.offset=t}}class se{}class re{}class oe{constructor(){this.key=Math.random().toString(16).substring(3),this._depth=0}get owner(){return this._owner}get parent(){return this._parent}set parent(t){this._parent=t}get depth(){return this._depth}set depth(t){this._depth=t}reDepthChild(t){var e;t&&(t.depth=this.depth+1,null===(e=null==t?void 0:t.reDepthChildren)||void 0===e||e.call(t))}reDepthChildren(){}dropChild(t){t&&(t.parent=null,this.owner&&(null==t||t.detach()))}adoptChild(t){t&&(t.parent=this,this.owner&&(null==t||t.attach(this.owner)),this.reDepthChild(t))}get attached(){return!!this.owner}attach(t){this._owner||(this._owner=t)}detach(){this.owner&&(this._owner=null)}}class ae extends oe{constructor(){super(...arguments),this.parentData=null,this._size=n.zero,this.needsRePaint=!1,this.needsReLayout=!1}get size(){return this._size}set size(t){this._size=t}get mounted(){return!0}get view(){return this}get isRepaintBoundary(){return!1}get renderBounds(){return s.compose(e.zero,this._size)}dropChild(t){super.dropChild(t)}adoptChild(t){t&&(this.setupParentData(t),super.adoptChild(t))}get child(){return this._child}set child(t){this.dropChild(t),this._child=t,this.adoptChild(t),this._firstChild=this._child}setupParentData(t){t.parentData instanceof re&&(t.parentData=new re)}markNeedsPaint(){var t;if(!this.owner)return;if(this.needsRePaint)return;const e=this.owner;this.needsRePaint=!0,this.isRepaintBoundary?(e.pushNeedingPaint(this),e.requestVisualUpdate()):this.parent instanceof ae&&(null===(t=this.parent)||void 0===t||t.markNeedsPaint()),this.visitChildren((t=>{t.markNeedsPaint()}))}markNeedsLayout(){if(!this.owner)return;if(this.needsReLayout)return;const t=this.owner;this.needsReLayout=!0,this.isRepaintBoundary?(t.pushNeedingLayout(this),null==t||t.requestVisualUpdate()):this.parent instanceof ae?this.parent.markNeedsLayout():t.pushNeedingLayout(this)}layoutWithoutResize(){this.performResize(),this.needsReLayout=!1,this.markNeedsPaint()}reassemble(){this.markNeedsLayout(),this.markNeedsPaint(),this.visitChildren((t=>{t&&t.reassemble()}))}visitChildren(t){let e=this._firstChild;for(;e;){const i=null==e?void 0:e.parentData;t(e),e=null==i?void 0:i.nextSibling}}paintWidthContext(t,e){this.needsRePaint&&(this.needsRePaint=!1,Oe.instance.debug?this.debugRender(t,e):this.render(t,e))}hitTest(t,e){}handleEvent(t,e){}getAncestorRenderers(t){var e;const i=void 0!==t;if(!this.attached)throw new Error("RenderObject is not attached.");if(!t){const i=null===(e=this.owner)||void 0===e?void 0:e.renderView;i instanceof ae&&(t=i)}const n=new Array;let s=this;for(;s!==t;){if(n.push(s),!s.parent)throw new Error("Failed to find ancestor in parent chain.");s=s.parent}return i&&n.push(t),n}getTransformTo(t){const e=this.getAncestorRenderers(t),i=(new lt).identity();for(let t=e.length-1;t>0;t--)e[t].applyPaintTransform(e[t-1],i);return i}localToGlobal(t,e){return ie.transformPoint(this.getTransformTo(e),t)}applyPaintTransform(t,e){}}class he extends re{constructor(){super(...arguments),this.offset=i.zero}}class le extends he{}class de extends le{get flex(){return this._flex}set flex(t){this._flex=t}constructor(){super()}}class ce extends ae{constructor(){super(...arguments),this._renderOffset=e.zero,this.constraints=u.zero}get renderBounds(){return s.compose(this._renderOffset,this.size)}layout(t,e){this.constraints=t,(this.needsReLayout||e)&&this.performLayout(),this.needsReLayout=!1,this.markNeedsPaint()}attach(t){super.attach(t),t&&(this.needsReLayout=!1,this.markNeedsLayout())}setupParentData(t){t.parentData=new he}performResize(){this.performLayout()}computeDryLayout(t){return n.zero}getDryLayout(t){return this.computeDryLayout(t)}hitTest(t,e){if(this.hitTestSelf(t,e)){if(this.hitTestChildren(t,e)||this.hitTestSelf(t,e))return t.add(new ot(this)),!0}return!1}hitTestChildren(t,e){return this.defaultHitTestChildren(t,e)}hitTestSelf(t,e){return this.size.contains(e)}defaultHitTestChildren(t,e,n=lt.zero.identity()){let s=this.child;for(;null!=s;){const r=s.parentData;let o=i.sub(e,r.offset);o=ie.transformPoint(n,o);if(s.hitTest(t,o))return!0;s=null==r?void 0:r.nextSibling}return!1}applyPaintTransform(t,e){const i=(null==t?void 0:t.parentData).offset;e.translate(i.x,i.y)}}class ue extends ce{constructor(t){super(),this.child=t}debugRender(t,e){var n;if(this.child){const s=null===(n=this.child)||void 0===n?void 0:n.parentData;let r=i.zero;e&&s&&(r=i.add(e,s.offset)),t.paintChildDebug(this.child,r)}this.checkRenderBoundary(t,e)}render(t,e){var n;if(this._renderOffset=e,this.child){const s=null===(n=this.child)||void 0===n?void 0:n.parentData;let r=i.zero;e&&s&&(r=i.add(e,s.offset)),t.paintChild(this.child,r)}this.checkRenderBoundary(t,e)}checkRenderBoundary(t,e){if(!(this.parent&&this.parent instanceof ce))return;const i=this.parent.renderBounds,{x:n,y:s}=e,{width:r,height:o}=this.size,{width:a,height:h,x:l,y:d}=i,c=t.paint;c.save(),c.fillStyle="yellow";const u=o-h;if(u>0){const t=s+o-u-20;c.fillRect(n,t,r,20),this.drawSkewedStripes(c,n,t,r,u,"vertical")}const p=r-a;if(p>0){const t=n+r-p-20;c.fillRect(t,s,20,o),this.drawSkewedStripes(c,t,s,p,o,"horizontal")}c.restore()}drawSkewedStripes(t,e,i,n,s,r){t.save(),t.rect(e,i,n,s),t.clip(),t.fillStyle="black";const o=new lt;if("vertical"===r){o.translate(0,i).skewX(-.8),t.transform(o.matrix);for(let i=0;i<n/10+1;i++)t.fillRect(e,0,10,20),t.translate(20,0)}else{o.translate(e,0).skewY(-.8),t.transform(o.matrix);for(let e=0;e<s/10+1;e++)t.save(),t.fillRect(0,i,20,10),t.restore(),t.translate(0,20)}t.restore()}performLayout(){this.child?(this.child.layout(this.constraints,!0),this.size=this.child.size):this.size=this.constraints.constrain(n.zero),!this.layerHandler&&(this.layerHandler=new se,this.layerHandler.layer=new ne(i.zero));const t=this.parentData;if(t){const e=null==t?void 0:t.offset;this.layerHandler.layer.offset=e||i.zero}}layout(t,e){super.layout(t,e)}}class pe{constructor(t){this._paint=t}get paint(){return this._paint}clipAndPaint(e,i,n,s,r){this.paint.save(),i!=t.Clip.none&&(n(),e()),s(),this.paint.restore()}clipRRectAndPaint(t,e,i){this.clipAndPaint((()=>this.paint.clip()),t,(()=>{const{x:t,y:i,width:n,height:s,radii:r}=e;this.paint.roundRect(t,i,n,s,r)}),i,e)}clipRectAndPaint(t,e,i){this.clipAndPaint((()=>this.paint.clip()),t,(()=>{const{x:t,y:i,width:n,height:s}=e;this.paint.rect(t,i,n,s)}),i,e)}clipPath(t,e,i,s){this.clipAndPaint((()=>this.paint.clip()),t,(()=>{i.render(this.paint,new n(e.width,e.height))}),s,e)}}class ge extends pe{constructor(t,e){super(t),this.estimatedBounds=e}paintChildDebug(t,e=i.zero){null==t||t.debugRender(this,e)}paintChild(t,e=i.zero){null==t||t.paintWidthContext(this,e)}pushTransform(t,e,i){let n=lt.zero.identity().translate(t.x,t.y).multiply(e).translate(-t.x,-t.y).matrix;this.paint.save(),this.paint.beginPath(),this.paint.transform(n),i(),this.paint.closePath(),this.paint.restore()}paintDefaultDebugBoundary(t,e){this.paint.strokeStyle="orange",this.paint.strokeRect(t.x,t.y,e.width,e.height)}paintEmptyDebugBoundary(t,e){const i=~~(e.width/30);for(let n=0;n<i+1;n++)this.paint.strokeStyle="rgba(31, 137, 219,.01)",this.paint.moveTo(30*n,t.y),this.paint.lineTo(30*n,t.y+e.height),this.paint.moveTo(t.x,30*n),this.paint.lineTo(t.x+e.width,30*n),this.paint.stroke()}}class me extends ce{constructor(t){super(),this.childCount=0,t&&this.addAll(t)}defaultHitTestChildren(t,e,n=lt.zero.identity()){let s=this.lastChild;for(;null!=s;){const r=s.parentData;let o=i.sub(e,r.offset);o=ie.transformPoint(n,o);if(s.hitTest(t,o))return!0;s=null==r?void 0:r.previousSibling}return!1}addAll(t){null==t||t.forEach((t=>this.insert(t,this.lastChild)))}insert(t,e){this.adoptChild(t),this.insertIntoList(t,e),this.childCount+=1}remove(t){this.removeFromChildList(t),this.dropChild(t)}removeFromChildList(t){const e=t.parentData;if(!(this.childCount<=0)){if(null==e.previousSibling)this.firstChild=e.nextSibling;else{e.previousSibling.parentData.nextSibling=e.nextSibling}if(null==e.nextSibling)this.lastChild=e.previousSibling;else{e.nextSibling.parentData.previousSibling=e.previousSibling}e.previousSibling=null,e.nextSibling=null,this.childCount-=1}}insertIntoList(t,e){var i;let n=t.parentData,s=null===(i=this.firstChild)||void 0===i?void 0:i.parentData,r=null==e?void 0:e.parentData;null==e?(this.firstChild=t,this.lastChild=t):(!(null==s?void 0:s.nextSibling)&&this.firstChild&&(s.nextSibling=t,this.firstChild.parentData=s),r.nextSibling=t,e.parentData=r,n.previousSibling=e,t.parentData=n,this.lastChild=t)}parentDataOf(t){return t.parentData}visitChildren(t){let e=this.firstChild;for(;null!=e;){const i=e.parentData;t(e),e=null==i?void 0:i.nextSibling}}}class xe extends me{render(t,e){this.defaultRenderChild(t,e)}debugRender(t,e){this.defaultRenderChildDebug(t,e)}layout(t){super.layout(t),this.performLayout()}performLayout(){this.size=this.constraints.constrain(n.zero);let t=this.firstChild;for(;null!=t;){const e=this.parentDataOf(t);this.performLayoutChild(t,this.constraints),t=null==e?void 0:e.nextSibling}}performLayoutChild(t,e){t.layout(e)}getChildList(){const t=[];let e=this.firstChild;for(;null!=e;){const i=this.parentDataOf(e);t.push(e),e=null==i?void 0:i.nextSibling}return t}defaultRenderChild(t,e){var n;let s=this.firstChild;for(;null!=s;){const r=this.parentDataOf(s);t.paintChild(s,i.add(null!==(n=r.offset)&&void 0!==n?n:i.zero,null!=e?e:i.zero)),s=null==r?void 0:r.nextSibling}}defaultRenderChildDebug(t,e){var n;let s=this.firstChild;for(;null!=s;){const r=this.parentDataOf(s);t.paintChildDebug(s,i.add(null!==(n=r.offset)&&void 0!==n?n:i.zero,null!=e?e:i.zero)),s=null==r?void 0:r.nextSibling}}hitTest(t,e){return super.hitTest(t,e)}}class fe extends ue{get isRepaintBoundary(){return!0}scheduleFirstFrame(){this.markNeedsLayout(),this.markNeedsPaint()}}class ve extends Rt{createRenderObject(){return new fe}createElement(){return new Lt(this)}updateRenderObject(t,e){}}const we=t=>{He.getInstance().elementBinding.attachRootWidget(t)};var ye,be,Pe,Se,Ae;(be=ye||(ye={})).accepted="accepted",be.rejected="rejected";class Ce{}class _e{constructor(t,e,i){this._arena=t,this._pointer=e,this._member=i}resolve(t){this._arena._resolve(this._pointer,this._member,t)}}class De{constructor(){this.isOpen=!0,this.isHeld=!1,this.isPendingSweep=!1,this.members=new Array}add(t){this.isOpen&&this.members.push(t)}contain(t){return this.members.indexOf(t)>=0}remove(t){const e=this.members.indexOf(t);e<0||this.members.splice(e,1)}get count(){return this.members.length}close(){this.isOpen=!1}get isEmpty(){return 0===this.count}get first(){return this.members[0]}clear(){this.members=[]}}class Te{constructor(){this.arenas=new Map}add(t,e){let i=this.arenas.get(t);return null==i&&(i=new De,this.arenas.set(t,i)),!i.contain(e)&&i.add(e),new _e(this,t,e)}_resolve(t,e,i){const n=this.arenas.get(t);null!=n&&n.contain(e)&&(i===ye.rejected?(n.remove(e),n.isOpen?n.eagerWinner=e:this.tryToResolveArena(t,n)):this.resolveInFavorOf(t,n,e))}close(t){const e=this.arenas.get(t);e&&e.isOpen&&(e.close(),this.tryToResolveArena(t,e))}sweep(t){const e=this.arenas.get(t);if(e&&!e.isOpen)if(e.isHeld)e.isPendingSweep=!0;else if(this.arenas.delete(t),!e.isEmpty){e.first.acceptGesture(t),e.remove(e.first);e.members.forEach((e=>{e.rejectGesture(t)}))}}hold(t){const e=this.arenas.get(t);e&&(e.isHeld=!0)}release(t){const e=this.arenas.get(t);e&&(e.isHeld=!1,e.isPendingSweep&&this.sweep(t))}tryToResolveArena(t,e){e.isOpen||(1===e.count?(this.arenas.delete(t),e.first.acceptGesture(t)):e.isEmpty&&this.arenas.delete(t))}resolveInFavorOf(t,e,i){const n=this.arenas.get(t);if(n!==e)return;n.remove(i);e.members.forEach((e=>{i!==e&&e.rejectGesture(t)})),n.clear(),this.arenas.delete(t),i.acceptGesture(t)}}class Re extends xt{constructor(){super(...arguments),this.hitTestPointer=new Map,this.pointerEvents=new m,this.gestureArena=new Te,this.pointerRouter=new ee}initInstance(){Re.instance=this,this.pointerEventHandler=new jt(this.handlePointerData.bind(this))}handlePointerData(t){const e=te.expand(t);return e&&this.pointerEvents.addFirst(e),this.flushPointerEvents(),e}flushPointerEvents(){for(;!this.pointerEvents.isEmpty;){const t=this.pointerEvents.removeFirst();this.handlePointerEvent(t)}}handlePointerEvent(t){this.performPointerEventHandle(t)}performPointerEventHandle(t){let e=new at;if(this.hitTest(e,t.position),t instanceof Gt||t instanceof Yt||t instanceof Zt?this.hitTestPointer.set(t.pointer,e):t instanceof Zt?(e=this.hitTestPointer.get(t.pointer),this.hitTestPointer.delete(t.pointer)):e=this.hitTestPointer.get(t.pointer),e)for(let i of e.path)i.target.handleEvent(t,i)}handleEvent(t,e){this.pointerRouter.route(t),t instanceof Gt?this.gestureArena.close(t.pointer):t instanceof Zt&&this.gestureArena.sweep(t.pointer)}hitTest(t,e){t.add(new ot(this))}}class Ee{static now(){return"undefined"!=typeof performance&&(null===performance||void 0===performance?void 0:performance.now)?performance.now():Ee.customNow()}static customNow(){return"undefined"!=typeof performance&&performance.now?performance.now():Date.now()-Ee.startTime}}Ee.startTime=Date.now();class ke{constructor(t){this.callback=t}}class Le{constructor(){this.frameUpdater=new We,this.frameCallbacks=new Map,this.isRequestingFrame=!1,this.nextCallbackId=0,this.initAnimationFrame()}initAnimationFrame(){"undefined"!=typeof window&&"function"==typeof(null===window||void 0===window?void 0:window.requestAnimationFrame)?this.requestAnimationFrame=t=>{requestAnimationFrame(t)}:this.requestAnimationFrame=t=>{setTimeout((()=>{t(+new Date)}),1e3/120)}}static getInstance(){return!Le.instance&&(Le.instance=new Le),Le.instance}addFrameCallback(t){return this.nextCallbackId+=1,this.frameCallbacks.set(this.nextCallbackId,t),this.requestFrameIfNeeded(),this.nextCallbackId}removeFrameCallback(t){this.frameCallbacks.delete(t)}requestFrameIfNeeded(){!this.isRequestingFrame&&(this.isRequestingFrame=!0,this.requestAnimationFrame(this.handleFrame.bind(this)))}handleFrame(t){this.frameCallbacks.forEach((e=>{"function"==typeof e&&e(t)})),w.instance.showBanner&&this.frameUpdater.update(),this.frameCallbacks.clear(),this.isRequestingFrame=!1,this.frameCallbacks.size>0&&this.requestFrameIfNeeded()}}class ze extends xt{constructor(){super(...arguments),this.frameCallbacks=new Map,this.nextFrameCallbackId=0}initInstance(){super.initInstance(),ze.instance=this}ensureVisualUpdate(){this.scheduleFrame()}scheduleFrame(){this.handleDrawFrame()}handleDrawFrame(){Me.instance.drawFrame()}scheduleFrameCallback(t){this.nextFrameCallbackId+=1;const e=new ke(t);return this.frameCallbacks.set(this.nextFrameCallbackId,e),Le.getInstance().addFrameCallback(this.handleBeginCallbackFrame.bind(this)),this.nextFrameCallbackId}handleBeginCallbackFrame(t){const e=new Map(this.frameCallbacks);this.frameCallbacks=new Map,e.forEach((e=>{const i=e.callback;null==i||i(t)})),e.clear()}requestVisualUpdate(){Le.getInstance().addFrameCallback(this.ensureVisualUpdate.bind(this)),this.handleCleanCanvas()}handleCleanCanvas(){const t=w.instance.painter,e=w.instance.screenWidth,i=w.instance.screenHeight;t.clearRect(0,0,e,i)}}class Be{constructor(){this.needRepaintList=new Array,this.needReLayoutList=new Array}get renderView(){return this.rootNode}attachNode(t){this.rootNode=t}flushPaint(){const t=this.needRepaintList;this.needRepaintList=[],t.sort(((t,e)=>t.depth-e.depth)),t.forEach(((t,e)=>{var n;const r=null===(n=t.layerHandler)||void 0===n?void 0:n.layer;t.needsRePaint&&(null==t||t.paintWidthContext(new ge(w.instance.painter,s.zero),(null==r?void 0:r.offset)||i.zero))}))}flushLayout(){const t=this.needReLayoutList;0!==t.length&&(this.needReLayoutList=[],t.sort(((t,e)=>t.depth-e.depth)),t.forEach((t=>{t.needsReLayout&&(null==t||t.layoutWithoutResize())})))}pushNeedingPaint(t){this.needRepaintList.push(t)}pushNeedingLayout(t){this.needReLayoutList.push(t)}requestVisualUpdate(){ze.instance.requestVisualUpdate()}}class We{constructor(){this.painter=w.instance.painter,this.lastFrameTime=Ee.now(),this.frameCount=0,this.fps=0}render(t){const e=w.instance.screenWidth;this.painter.save(),this.painter.globalAlpha=.5,this.painter.font="12px Arial";const i=t+"fps",n="ele:"+Me.elementCount,s=this.painter.measureText(i),r=this.painter.measureText(n),o=Math.max(s.width,r.width)+20;this.painter.clearRect(e-o,0,o,40),this.painter.fillStyle="#429aba",this.painter.fillRect(e-o,0,o,40),this.painter.fillStyle="white",this.painter.fillText(i,e-o+10,15),this.painter.fillText(n,e-o+10,30),this.painter.restore()}update(){const t=Ee.now(),e=t-this.lastFrameTime;return this.frameCount++,e>=1e3&&(this.fps=this.frameCount,this.frameCount=0,this.lastFrameTime=t),this.render(this.fps),this.fps}}class Oe extends Re{get renderView(){return this._pipelineOwner.renderView}constructor(){super(),this.debug=w.instance.isDebug,super.initInstance()}initInstance(){Oe.instance=this,this._pipelineOwner=new Be}get pipelineOwner(){return this._pipelineOwner}drawFrame(){this.pipelineOwner.flushLayout(),this.pipelineOwner.flushPaint()}hitTest(t,e){this.renderView.hitTest(t,e),super.hitTest(t,e)}}class Me extends xt{static get elementCount(){return this._elementCount}static incrementElementCount(){this._elementCount++}static decrementElementCount(){this._elementCount--}static subElementCount(t){this._elementCount-=t}initInstance(){super.initInstance(),Me.instance=this}drawFrame(){this.buildOwner.buildScope(this.rootElement),Oe.instance.drawFrame(),this.buildOwner.inactiveElements.clear()}attachRootWidget(t){const e=new ve(t);this.rootElement=e.createElement(),this.buildOwner=new ct,this.rootElement.attachToRenderTree(this.buildOwner),Oe.instance.debug&&console.log("The GenUI app is running on",new Date)}}Me._elementCount=0;class He extends xt{constructor(){super(...arguments),this.schedulerBinding=new ze,this.elementBinding=new Me,this.rendererBinding=new Oe}static getInstance(){return!He._instance&&(He._instance=new He),He._instance}get instance(){return He._instance}}class Ne{}class Ie extends Ne{constructor(){super(...arguments),this.listeners=[],this.count=0,this.notificationCallStackDepth=0,this.needsRemoveListener=0}addListener(t){-1===this.listeners.indexOf(t)&&(this.listeners.push(t),this.count++)}removeListener(t){const e=this.listeners.indexOf(t);-1!==e&&(this.listeners[e]=null,this.needsRemoveListener++),0===this.notificationCallStackDepth&&this.cleanupListeners()}notifyListeners(){var t,e;if(0!==this.count){this.notificationCallStackDepth++;for(let i=0;i<this.count;i++)if(null!=this.listeners[i])try{null===(e=(t=this.listeners)[i])||void 0===e||e.call(t)}catch(t){throw new o("Listener threw an error: "+t.toString())}this.notificationCallStackDepth--,0===this.notificationCallStackDepth&&this.needsRemoveListener>0&&this.cleanupListeners()}}cleanupListeners(){this.needsRemoveListener>0&&(this.listeners=this.listeners.filter((t=>null!==t)),this.count=this.listeners.length,this.needsRemoveListener=0)}dispose(){this.listeners=null,this.count=0,this.notificationCallStackDepth=0,this.needsRemoveListener=0}}class Fe{constructor(t){this._duration=0,t.day&&(this._duration+=24*t.day*60*60*1e3),t.hour&&(this._duration+=60*t.hour*60*1e3),t.minute&&(this._duration+=60*t.minute*1e3),t.second&&(this._duration+=1e3*t.second),t.milliseconds&&(this._duration+=t.milliseconds),t.microsecond&&(this._duration+=t.microsecond/1e3)}static get zero(){return new Fe({milliseconds:0})}get valueWithDays(){return this.valueWithHours/24}get valueWithSeconds(){return this._duration/1e3}get valueWithMilliseconds(){return this._duration}get valueWithHours(){return this.valueWithMinutes/60}get valueWithMinutes(){return this.valueWithSeconds/60}get value(){return this._duration}}class je{}class Ve extends je{constructor(t,e,i,n){super(),this.cubicErrorBound=.001,this.a=t,this.b=e,this.c=i,this.d=n}_evaluateCubic(t,e,i){return 3*t*(1-i)*(1-i)*i+3*e*(1-i)*i*i+i*i*i}transformInternal(t){let e=0,i=1,n=0;for(;n++<1e3;){let n=.5*(e+i),s=this._evaluateCubic(this.a,this.c,n);if(Math.abs(t-s)<this.cubicErrorBound)return this._evaluateCubic(this.b,this.d,n);s<t?e=n:i=n}}}class Ue{static bezier(t,e,i,n){const s=1-n;return s*s*t+2*s*n*e+n*n*i}}Ue.ease=new Ve(.25,.1,.25,1),Ue.easeIn=new Ve(.42,0,1,1),Ue.fastLinearToSlowEaseIn=new Ve(.18,1,.04,1),Ue.easeInToLinear=new Ve(.67,.03,.65,.09),Ue.easeInSine=new Ve(.47,0,.745,.715),Ue.easeInQuad=new Ve(.55,.085,.68,.53),Ue.easeOut=new Ve(0,0,.58,1),Ue.easeInBack=new Ve(.6,-.28,.735,.045),Ue.linear=new class extends je{transformInternal(t){return t}};class Ge{constructor(t){this.startTime=0,this.inActive=!1,this.animateId=0,this.onTick=t}start(){this.inActive=!0,this.startTime=0,this.scheduleTick()}stop(t=!0){this.inActive=!1,this.startTime=0}tick(t){0===this.startTime&&(this.startTime=t);const e=.001*(t-this.startTime);this.inActive&&this.onTick(e),this.shouldCallbackSchedule&&setTimeout(this.scheduleTick.bind(this))}get shouldCallbackSchedule(){return this.inActive}scheduleTick(){this.animateId=ze.instance.scheduleFrameCallback(this.tick.bind(this))}}t.AnimationStatus=void 0,(Pe=t.AnimationStatus||(t.AnimationStatus={})).dismissed="dismissed",Pe.forward="forward",Pe.reverse="reverse",Pe.completed="completed",(Ae=Se||(Se={})).forward="forward",Ae.reverse="reverse";class Ze extends Ie{constructor(){super(),this._status=t.AnimationStatus.dismissed}get status(){return this._status}set status(t){this._status!=t&&(this._status=t,this.notifyListeners())}}class Xe extends Ie{constructor(){super(),this._statusListener=new Ze}get value(){return this.currentValue}set status(t){this._statusListener.status=t}get status(){return this._statusListener.status}get isDismissed(){return this._statusListener.status===t.AnimationStatus.dismissed}get isForward(){return this._statusListener.status===t.AnimationStatus.forward}get isReverse(){return this._statusListener.status===t.AnimationStatus.reverse}get isCompleted(){return this._statusListener.status===t.AnimationStatus.completed}addStatusListener(t){this._statusListener.addListener(t)}removeStatusListener(t){this._statusListener.removeListener(t)}}class Ye{}class qe extends Xe{constructor(t){var e,i,n,s;super(),this.direction=Se.forward,this.lastTimeStamp=0,this.begin=null!==(e=null==t?void 0:t.begin)&&void 0!==e?e:0,this.end=null!==(i=null==t?void 0:t.end)&&void 0!==i?i:1,this.duration=null!==(n=null==t?void 0:t.duration)&&void 0!==n?n:new Fe({milliseconds:300}),this.reverseDuration=null==t?void 0:t.reverseDuration,this.curve=null!==(s=null==t?void 0:t.curve)&&void 0!==s?s:Ue.linear,this.ticker=new Ge(this.tick.bind(this)),this.currentValue=0}get velocity(){var t;return null===(t=this.simulation)||void 0===t?void 0:t.dx(this.lastTimeStamp)}get isAnimating(){return this.ticker.inActive}start(){this.isAnimating||(this.status=t.AnimationStatus.forward,this.ticker.start())}animateWidthSimulation(t){this.startSimulation(t)}startSimulation(t){t&&(this.simulation=t,this.lastTimeStamp=0,this.stop(),this.start())}tick(e){this.lastTimeStamp=e;const i=this.simulation.x(e);this.simulation.isDone(e)&&(this.stop(),this.status=this.direction===Se.forward?t.AnimationStatus.completed:t.AnimationStatus.dismissed),this.currentValue=i,this.notifyListeners()}animateToInternal(t,e,i=Ue.linear){if(this.isAnimating)return;let n=this.direction===Se.forward?this.begin:this.end;setTimeout((()=>this.startSimulation(new Ke(n,t,null!=e?e:this.duration,i))))}forward(e){this.direction=Se.forward,this.status=t.AnimationStatus.forward,e&&(this.currentValue=e),this.animateToInternal(this.end,this.duration,this.curve)}reverse(e){var i;this.direction=Se.reverse,this.status=t.AnimationStatus.reverse,e&&(this.currentValue=e),this.animateToInternal(this.begin,null!==(i=this.reverseDuration)&&void 0!==i?i:this.duration,this.curve)}stop(e=!0){this.ticker.stop(e),this.status=t.AnimationStatus.dismissed}cancel(){this.stop(),this.simulation=null}}class Ke extends Ye{constructor(t,e,i,n){super(),this.begin=t,this.end=e,this.duration=i,this.curve=n}x(t){let e=P(t/this.duration.valueWithSeconds,0,1);return 0===e?this.begin:1===e?this.end:this.begin+(this.end-this.begin)*this.curve.transformInternal(e)}dx(t){return(this.x(t+1e-4)-this.x(t-1e-4))/2e-4}isDone(t){return t>=this.duration.valueWithSeconds}}class Je extends Ye{constructor(t,e,i,n=0,s=0){if(t<=0)throw new Error("Drag must be greater than 0");super(),this.finalTime=1/0,this.drag=t,this.dragLog=Math.log(t),this.position=e,this.velocity=i,this.constantDeceleration=s*Math.sign(i),this.toleranceVelocity=n,this.finalTime=this.newtonsMethod({initialGuess:0,target:0,f:t=>this.dx(t),df:t=>this.velocity*Math.pow(this.drag,t)*this.dragLog-this.constantDeceleration,iterations:10})}x(t){if(t>this.finalTime)return this.finalX;return this.position+this.velocity*Math.pow(this.drag,t)/this.dragLog-this.velocity/this.dragLog-this.constantDeceleration/2*Math.pow(t,2)}dx(t){return t>this.finalTime?0:this.velocity*Math.pow(this.drag,t)-this.constantDeceleration*t}get finalX(){return 0===this.constantDeceleration?this.position-this.velocity/this.dragLog:this.x(this.finalTime)}timeAtX(t){return t===this.position?0:0===this.velocity||(this.velocity>0?t<this.position||t>this.finalX:t>this.position||t<this.finalX)?1/0:this.newtonsMethod({initialGuess:0,target:t,f:t=>this.x(t),df:t=>this.dx(t),iterations:10})}isDone(t){return Math.abs(this.dx(t))<this.toleranceVelocity||0===this.dx(t)}newtonsMethod({initialGuess:t,target:e,f:i,df:n,iterations:s}){let r=t;for(let t=0;t<s;t++)r-=(i(r)-e)/n(r);return r}}class Qe extends Ye{constructor(t,e,i){super(),this.damping=2,this.stiffness=2,this.initialPosition=t,this.endPosition=e,this.initialVelocity=i}x(t){const e=this.initialPosition-this.endPosition;return this.endPosition+e*Math.exp(-this.damping*t*2)}dx(t){return-(this.endPosition-this.initialPosition)*Math.exp(-this.damping*t)*(this.damping*Math.cos(this.stiffness*t)+this.stiffness*Math.sin(this.stiffness*t))}isDone(t){return Math.abs(this.x(t)-this.endPosition)<.1&&Math.abs(this.dx(t))<.1}}class $e extends Ye{constructor(t,e,i,n){if(super(),this.position=0,this.maxScrollExtent=0,this.minScrollExtent=0,this.velocity=0,this.springTime=1/0,this.offsetTime=0,this.position=t,this.maxScrollExtent=e,this.minScrollExtent=i,this.velocity=n,this.frictionSimulation=new Je(.135,t,n),t>e)this.springSimulation=new Qe(t,e,n),this.springTime=-1/0;else if(t<i)this.springSimulation=new Qe(t,0,n),this.springTime=-1/0;else{this.frictionSimulation=new Je(.135,t,n);const s=this.frictionSimulation.finalX;s>e?(this.springTime=this.frictionSimulation.timeAtX(e),this.springSimulation=new Qe(this.frictionSimulation.x(this.springTime),this.maxScrollExtent,this.frictionSimulation.dx(n))):s<i&&(this.springTime=this.frictionSimulation.timeAtX(i),this.springSimulation=new Qe(this.frictionSimulation.x(this.springTime),this.minScrollExtent,this.frictionSimulation.dx(n)))}}simulation(t){let e;return t>this.springTime+.1*this.springTime?(this.offsetTime=isFinite(this.springTime)?this.springTime:0,e=this.springSimulation):(this.offsetTime=0,e=this.frictionSimulation),!e&&(e=this.frictionSimulation),e}x(t){return this.simulation(t).x(t-this.offsetTime)}dx(t){return this.simulation(t).dx(t-this.offsetTime)}isDone(t){return this.simulation(t).isDone(t-this.offsetTime)}}const ti=e=>{switch(e){case t.AxisDirection.up:case t.AxisDirection.down:return t.Axis.vertical;case t.AxisDirection.left:case t.AxisDirection.right:return t.Axis.horizontal}};class ei extends c{constructor(t){super(),this.axisDirection=t.axisDirection,this.growthDirection=t.growthDirection,this.userScrollDirection=t.userScrollDirection,this.crossAxisDirection=t.crossAxisDirection,this.scrollOffset=t.scrollOffset,this.precedingScrollExtent=t.precedingScrollExtent,this.overlap=t.overlap,this.remainingPaintExtent=t.remainingPaintExtent,this.crossAxisExtent=t.crossAxisExtent,this.viewportMainAxisExtent=t.viewportMainAxisExtent,this.remainingCacheExtent=t.remainingCacheExtent,this.cacheOrigin=t.cacheOrigin}get axis(){return ti(this.axisDirection)}asBoxConstraints(e=0,i=1/0,n=null){return n=this.crossAxisExtent,this.axis===t.Axis.vertical?new u({minWidth:n,maxWidth:n,maxHeight:i,minHeight:e}):this.axis===t.Axis.horizontal?new u({minWidth:e,maxWidth:i,minHeight:n,maxHeight:n}):void 0}}class ii{constructor(t){var e,i,n,s,r,o,a,h,l,d,c;this.scrollExtent=0,this.paintExtent=0,this.paintOrigin=0,this.maxPaintExtent=0,this.maxScrollObstructionExtent=0,this.visible=!0,this.hasVisualOverflow=!1,this.scrollExtent=null!==(e=null==t?void 0:t.scrollExtent)&&void 0!==e?e:this.scrollExtent,this.paintExtent=null!==(i=null==t?void 0:t.paintExtent)&&void 0!==i?i:this.paintExtent,this.paintOrigin=null!==(n=null==t?void 0:t.paintOrigin)&&void 0!==n?n:this.paintOrigin,this.layoutExtent=null!==(s=null==t?void 0:t.layoutExtent)&&void 0!==s?s:this.layoutExtent,this.maxPaintExtent=null!==(r=null==t?void 0:t.maxPaintExtent)&&void 0!==r?r:this.maxPaintExtent,this.maxScrollObstructionExtent=null!==(o=null==t?void 0:t.maxScrollObstructionExtent)&&void 0!==o?o:this.maxScrollObstructionExtent,this.hitTestExtent=null!==(a=null==t?void 0:t.hitTestExtent)&&void 0!==a?a:this.hitTestExtent,this.visible=null!==(h=null==t?void 0:t.visible)&&void 0!==h?h:this.paintExtent>0,this.hasVisualOverflow=null!==(l=null==t?void 0:t.hasVisualOverflow)&&void 0!==l?l:this.hasVisualOverflow,this.scrollOffsetCorrection=null!==(d=null==t?void 0:t.scrollOffsetCorrection)&&void 0!==d?d:this.scrollOffsetCorrection,this.cacheExtent=null!==(c=null==t?void 0:t.cacheExtent)&&void 0!==c?c:this.cacheExtent}static get zero(){return new ii({})}}class ni extends ae{get geometry(){return this._geometry}set geometry(t){this._geometry=t}attach(t){super.attach(t),t&&(this.needsReLayout=!1,this.markNeedsLayout())}render(t,e){var i;const n=this.child;if(n&&(null===(i=this.geometry)||void 0===i?void 0:i.visible)){const i=n.parentData;t.paintChild(n,e.add(i.paintOffset.toVector()))}}debugRender(t,e){var i;const n=this.child;if(n&&(null===(i=this.geometry)||void 0===i?void 0:i.visible)){const i=n.parentData;t.paintChildDebug(n,e.add(i.paintOffset.toVector()))}}layout(t,e){(this.needsReLayout||e)&&(this.constraints=t,this.performLayout()),this.needsReLayout=!1,this.markNeedsPaint()}performLayout(){}performResize(){this.performLayout()}computeDryLayout(t){return this.size}getDryLayout(t){return this.size}}class si extends ni{setupParentData(t){!(t.parentData instanceof ui)&&(t.parentData=new ui)}setChildParentData(i,n,s){const r=i.parentData;switch(n.growthDirection===t.GrowthDirection.forward?n.axisDirection:n.growthDirection===t.GrowthDirection.reverse?(e=>{switch(e){case t.AxisDirection.up:return t.AxisDirection.down;case t.AxisDirection.down:return t.AxisDirection.up;case t.AxisDirection.left:return t.AxisDirection.right;case t.AxisDirection.right:return t.AxisDirection.left}})(n.axisDirection):void 0){case t.AxisDirection.up:r.paintOffset=new e(0,-(s.scrollExtent-(s.paintExtent+n.scrollOffset)));break;case t.AxisDirection.right:r.paintOffset=new e(-n.scrollOffset,0);break;case t.AxisDirection.down:r.paintOffset=new e(0,-n.scrollOffset);break;case t.AxisDirection.left:r.paintOffset=new e(-(s.scrollExtent-(s.paintExtent+n.scrollOffset)),0)}}hitTest(t,e){var i,n;const s=this.child;if(s&&(null===(i=this.geometry)||void 0===i?void 0:i.visible)){const i=s.parentData.paintOffset,r=lt.zero.identity().translate(-i.offsetX,-i.offsetY);return null===(n=this.child)||void 0===n?void 0:n.hitTest(t,ie.transformPoint(r,e))}return!1}}class ri extends si{performLayout(){if(!this.child)return void(this.geometry=ii.zero);this.child.layout(this.constraints.asBoxConstraints(),!0);const e=this.constraints;let i=0;const n=this.child.size;e.axis==t.Axis.vertical?i=n.height:e.axis==t.Axis.horizontal&&(i=n.width);const s=e.scrollOffset,r=e.scrollOffset+e.remainingPaintExtent,o=Math.max(0,s),a=Math.min(i,r),h=a>o?a-o:0;this.geometry=new ii({paintExtent:h,maxPaintExtent:i,layoutExtent:h,scrollExtent:i,hasVisualOverflow:i>e.remainingPaintExtent||e.scrollOffset<0}),this.setChildParentData(this.child,e,this.geometry)}}class oi{constructor(t,e){this.time=t,this.position=e}get x(){return this.position.offsetX}get y(){return this.position.offsetY}}class ai{constructor(t){this.positions=new Array,this.historySize=20,this.deadDuration=t}addPosition(t){const e=+new Date;0===this.positions.length&&this.deadLine(),this.positions.push(new oi(e,t)),this.positions.length>this.historySize&&this.positions.shift()}deadLine(){this.deadDuration&&(this.deadTimer=setTimeout((()=>{this.handleDisposePositions()}),this.deadDuration.value))}handleDisposePositions(){this.positions=[],this.cancelDeadTimer()}cancelDeadTimer(){this.deadTimer&&(clearTimeout(this.deadTimer),this.deadTimer=null)}getVelocity(){if(this.positions.length<2)return e.zero;this.cancelDeadTimer();const t=this.positions[0],i=this.positions[this.positions.length-1],n=(i.time-t.time)/1e3,s=(i.x-t.x)/n,r=(i.y-t.y)/n;return this.reset(),new e(s,r)}reset(){this.positions=[]}}class hi extends Ie{constructor(){super(...arguments),this._pixels=0}get pixels(){return this._pixels}setPixels(t){t!=this._pixels&&(this._pixels=t,this.notifyListeners())}correctBy(t){this._pixels+=t}}class li extends hi{constructor(e){var i;super(),this._scrollDirection=t.ScrollDirection.idle,this._axisDirection=t.AxisDirection.down,this._minScrollExtent=0,this._maxScrollExtent=0,this._viewportDimension=0,this.pendingDimensions=!1,this.physics=null==e?void 0:e.physics,this._axisDirection=null==e?void 0:e.axisDirection,this.correctBy(null!==(i=null==e?void 0:e.initPixels)&&void 0!==i?i:0)}get viewportDimension(){return this._viewportDimension}get axisDirection(){return this._axisDirection}get scrollDirection(){return this._scrollDirection}get minScrollExtent(){return this._minScrollExtent}get maxScrollExtent(){return this._maxScrollExtent}get userScrollDirection(){return t.ScrollDirection.forward}get atEdge(){return this.pixels==this._minScrollExtent||this.pixels==this._maxScrollExtent}get outOfRange(){return this.pixels<this._minScrollExtent||this.pixels>this._maxScrollExtent}get axis(){return ti(this.axisDirection)}get extentBefore(){return Math.max(0,this.pixels-this.minScrollExtent)}get extentAfter(){return Math.max(0,this._maxScrollExtent-this.pixels)}updateScrollDirection(e){this._scrollDirection=0===e?t.ScrollDirection.idle:e>0?t.ScrollDirection.forward:t.ScrollDirection.reverse,this.didUpdateScrollDirection(this._scrollDirection)}didUpdateScrollDirection(t){}jumpTo(t){if(t===this.pixels)return;const e=t-this.pixels;this.correctBy(e),this.didEndScroll(),this.notifyListeners()}animateTo(t,e,i){return Promise.resolve()}didEndScroll(){this.updateScrollDirection(0)}applyViewportDimension(t){return this._viewportDimension=t,!0}applyContentDimension(t,e){return(t!==this._minScrollExtent||e!==this._maxScrollExtent)&&(this.pendingDimensions=!0),this._minScrollExtent=t,this._maxScrollExtent=e,this.pendingDimensions&&this.applyNewDimensions(),!0}applyNewDimensions(){this.pendingDimensions=!1}applyBoundaryConditions(t){return this.physics.applyBoundaryConditions(this,t)}setPixels(t){if(t===this.pixels)return void this.updateScrollDirection(0);const e=t-this.pixels;this.updateScrollDirection(e);const i=t-this.applyBoundaryConditions(t);super.setPixels(i)}applyUserOffset(t){const e=ci(this._axisDirection,t);return this.physics.applyPhysicsToUserOffset(this,e)}createBallisticSimulation(t){var e;if(!(Math.abs(t)<20))return null===(e=this.physics)||void 0===e?void 0:e.createBallisticSimulation(this,t)}}class di extends li{constructor(){super(...arguments),this.key=new f,this.velocityTicker=new ai(new Fe({milliseconds:3e3})),this.animationController=new qe({})}pointerScroll(t){const e=this.applyUserOffset(t);this.setPixels(this.pixels+e)}get velocity(){return this.animationController.velocity}goBallistic(t){const e=this.createBallisticSimulation(t);e&&(this.animationController.animateWidthSimulation(e),this.animationController.addListener((()=>{this.setPixels(this.animationController.value)})))}animateTo(e,i,n){return new Promise(((s,r)=>{0===i.value&&(this.jumpTo(e),s()),this.animationController=new qe({begin:this.pixels,end:e,duration:i,curve:n}),this.animationController.addListener((()=>{this.setPixels(this.animationController.value)})),this.animationController.addStatusListener((()=>{(this.animationController.status===t.AnimationStatus.dismissed||this.animationController.status===t.AnimationStatus.completed)&&s()})),this.animationController.forward()}))}applyNewDimensions(){var t;super.applyNewDimensions(),this.goBallistic(null!==(t=this.animationController.velocity)&&void 0!==t?t:0)}scrollEnd(){const t=this.velocityTicker.getVelocity(),e=ci(this.axisDirection,t);this.goBallistic(e)}scrollUpdate(t){this.velocityTicker.addPosition(t)}scrollStart(){this.animationController.stop()}}const ci=(e,i)=>{let n=0;switch(ti(e)){case t.Axis.horizontal:n=i.offsetX;break;case t.Axis.vertical:n=i.offsetY}return(s=e)!=t.AxisDirection.up&&s!=t.AxisDirection.left&&(n*=-1),n;var s};class ui extends le{constructor(){super(...arguments),this.paintOffset=e.zero}}class pi extends xe{constructor(e){super(),this._axisDirection=t.AxisDirection.down,this._crossDirection=t.AxisDirection.left,this.maxScrollExtent=0,this.minScrollExtent=0,this.anchor=0,this.offset=null==e?void 0:e.offset,this.axisDirection=null==e?void 0:e.axisDirection,this.markNeedsLayoutBind=this.markNeedsLayout.bind(this)}get axisDirection(){return this._axisDirection}get axis(){return ti(this.axisDirection)}get crossDirection(){return this._crossDirection}set axisDirection(t){this._axisDirection=t,this.markNeedsLayout()}set offset(t){var e,i;this._offset=t,null===(e=this.offset)||void 0===e||e.removeListener(this.markNeedsLayoutBind),null===(i=this.offset)||void 0===i||i.addListener(this.markNeedsLayoutBind),this.markNeedsLayout()}get offset(){return this._offset}setupParentData(t){t.parentData=new ui}performLayout(){!this.center&&(this.center=this.firstChild),this.size=this.constraints.constrain(n.zero);let e=0,i=0;this.axis===t.Axis.horizontal?(this.offset.applyViewportDimension(this.size.width),e=this.size.width,i=this.size.height):this.axis===t.Axis.vertical&&(this.offset.applyViewportDimension(this.size.height),e=this.size.height,i=this.size.width),(0===this.size.width&&0===this.size.height||!this.center)&&this.offset.applyContentDimension(0,0),this.computeLayoutScrollOffset(e,i),this.offset.applyContentDimension(0,Math.max(0,this.maxScrollExtent-e))}computeLayoutScrollOffset(e,i){const n=this.offset.pixels;this.performLayoutSliverChild(this.center,n,Math.max(0,-n),e,e,i,t.GrowthDirection.forward,(t=>{const e=t.parentData;return null==e?void 0:e.nextSibling}),e,this.axisDirection,0)}performLayoutSliverChild(t,e,i,n,s,r,o,a,h,l,d){let c=t,u=0;const p=i;for(this.maxScrollExtent=0;c;){const t=e<=0?0:e,g=Math.max(d,-t),m=d-g,x=new ei({axisDirection:l,growthDirection:o,userScrollDirection:this.offset.userScrollDirection,scrollOffset:t,precedingScrollExtent:u,overlap:0,remainingPaintExtent:n-i+p,crossAxisExtent:r,crossAxisDirection:this.crossDirection,viewportMainAxisExtent:s,remainingCacheExtent:Math.max(0,h+m),cacheOrigin:g});c.layout(x,!0);const f=c.geometry,v=i;(f.visible||e>0)&&this.updateChildLayoutOffset(c,v,o),e-=f.scrollExtent,i+=f.layoutExtent,u+=f.scrollExtent,this.maxScrollExtent+=f.scrollExtent,c=a(c)}return 0}updateChildLayoutOffset(t,e,i){const n=t.parentData;n&&(n.paintOffset=this.computeAbsolutePaintOffset(t,e,i))}computeAbsolutePaintOffset(i,n,s){switch(this.axisDirection){case t.AxisDirection.up:return new e(0,this.size.height-(n+i.geometry.paintExtent));case t.AxisDirection.right:return new e(n,0);case t.AxisDirection.down:return new e(0,n);case t.AxisDirection.left:return new e(this.size.width-(n+i.geometry.paintExtent),0)}}paintContents(t,e){this.visitChildren((n=>{var s;if(null===(s=null==n?void 0:n.geometry)||void 0===s?void 0:s.visible){const s=n.parentData;t.paintChild(n,new i(e.x+s.paintOffset.offsetX,e.y+s.paintOffset.offsetY))}}))}hitTestChildren(t,e){let i=this.firstChild;for(;i;){const n=i.parentData,s=lt.zero.identity().translate(-n.paintOffset.offsetX,-n.paintOffset.offsetY);if(i.hitTest(t,ie.transformPoint(s,e)))return!0;i=null==n?void 0:n.nextSibling}return!1}render(e,i){e.clipRectAndPaint(t.Clip.hardEdge,{width:this.size.width,height:this.size.height,y:(null==i?void 0:i.y)||0,x:(null==i?void 0:i.x)||0},(()=>{this.paintContents(e,i)}))}debugRender(e,i){e.clipRectAndPaint(t.Clip.hardEdge,{width:this.size.width,height:this.size.height,y:(null==i?void 0:i.y)||0,x:(null==i?void 0:i.x)||0},(()=>{this.paintContents(e,i)}))}}class gi extends pi{constructor(t){super(t),this.cachedMaxScrollExtent=0,this.lastScrolledMaxScrollExtent=0,this.offset=null==t?void 0:t.offset,this.axisDirection=null==t?void 0:t.axisDirection}computeLayoutScrollOffset(e,i){const n=this.offset.pixels,s=t=>{const e=t.parentData;return null==e?void 0:e.previousSibling};let r=0;this.visitChildren((t=>{t&&(t.index=r++)}));let o=this.center;for(;o;){const t=o.geometry;if(!t)break;const e=t.scrollExtent;if(n-(this.lastScrolledMaxScrollExtent+e)>0)break;this.visitChildren((t=>{(null==t?void 0:t.geometry)&&(t.geometry.visible=!1)}));const i=s(o);if(!i||i===o)break;const r=i.geometry;o=i,this.lastScrolledMaxScrollExtent-=r.scrollExtent,this.lastScrolledMaxScrollExtent=Math.max(0,this.lastScrolledMaxScrollExtent)}this.performLayoutSliverChild(o,n-this.lastScrolledMaxScrollExtent,Math.max(0,-n),e,e,i,t.GrowthDirection.forward,(t=>{const e=t.parentData;return null==e?void 0:e.nextSibling}),e,this.axisDirection,0),this.offset.applyContentDimension(0,Math.max(0,this.maxScrollExtent-e))}handleUpdateVisualChildOrder(t,e,i,n){var s;if(e.scrollExtent-i<=0&&!e.visible){const e=null===(s=t.parentData)||void 0===s?void 0:s.previousSibling;e?(this.lastScrolledChild=e,this.lastScrolledMaxScrollExtent=n-e.geometry.scrollExtent):this.lastScrolledChild=this.center}else{if(!e.visible)return!1;e.visible}return!0}}class mi{constructor(t,i){this.offset=e.zero,this.x=t,this.y=i}toJSON(){return{x:this.x,y:this.y}}copyWithOffset(t){return this.offset=t,this}static format(t,e){return new mi(t,e)}compute(t){const i=.5*t.width,n=.5*t.height;return new e(i*this.x+this.offset.offsetX,n*this.y+this.offset.offsetY)}alongSize(t){const i=.5*t.width,n=.5*t.height;return new e(i+i*this.x,n+n*this.y)}inscribe(t,e){const n=.5*(e.width-t.width),s=.5*(e.height-t.height);return new i(n+n*this.x,s+s*this.y)}withRect(t){const i=.5*t.width,n=.5*t.height;return new e(t.x+i*this.x+i,t.y+n*this.y+n)}computeWithVector(t){return t.x*=this.x,t.y*=this.y,t}}mi.center=new mi(0,0),mi.topLeft=new mi(-1,-1),mi.bottomLeft=new mi(-1,1),mi.topRight=new mi(1,-1),mi.bottomRight=new mi(1,1),mi.centerRight=new mi(1,0),mi.bottomCenter=new mi(0,1),mi.centerLeft=new mi(-1,0),mi.topCenter=new mi(0,-1);class xi extends Rt{constructor(t){var e;super(null==t?void 0:t.child,t.key),this.alignment=null!==(e=null==t?void 0:t.alignment)&&void 0!==e?e:mi.center}createRenderObject(){return new fi({alignment:this.alignment})}updateRenderObject(t,e){e.alignment=this.alignment}}class fi extends ue{constructor(t){super(null==t?void 0:t.child),this._alignment=mi.center,this.alignment=null==t?void 0:t.alignment}set alignment(t){this._alignment=null!=t?t:this._alignment,this.markNeedsLayout()}get alignment(){return this._alignment}performLayout(){const t=this.constraints;this.child?(this.child.layout(t.loosen(),!0),this.size=t.constrain(new n(this.child.size.width,this.child.size.height)),this.alignChild()):this.size=t.constrain(new n(1/0,1/0))}alignChild(){var t;const e=this.constraints.constrain(n.zero),i=null===(t=this.child)||void 0===t?void 0:t.parentData,s=this.alignment.inscribe(this.child.size,e);s.clampX(0,e.width),s.clampY(0,e.height),i.offset=s,this.child.parentData=i}render(t,e){super.render(t,e)}debugRender(t,e){t.paintEmptyDebugBoundary(e,this.size),super.debugRender(t,e)}}class vi extends Rt{constructor(t){super(null==t?void 0:t.child,t.key),this.color=null==t?void 0:t.color}createRenderObject(){return new wi(this.color)}updateRenderObject(t,e){e.color=this.color}}class wi extends ue{constructor(t,e){super(e),this.color=t}set color(t){t&&this._color!==t&&(this._color=t,this.markNeedsPaint())}get color(){return this._color}performResize(){var t;this.size=null===(t=this.child)||void 0===t?void 0:t.getDryLayout(this.constraints)}render(t,e){var i,n;const s=t.paint;s.save(),s.beginPath(),s.fillStyle=this.color.rgba,s.fillRect(null!==(i=null==e?void 0:e.x)&&void 0!==i?i:0,null!==(n=null==e?void 0:e.y)&&void 0!==n?n:0,this.size.width,this.size.height),s.closePath(),s.restore(),super.render(t,e)}debugRender(t,e){super.debugRender(t,e)}}class yi extends Rt{constructor(t){super(null==t?void 0:t.child,null==t?void 0:t.key),this.decoration=null==t?void 0:t.decoration}createRenderObject(){return new bi(this.decoration)}updateRenderObject(t,e){e.decoration=this.decoration}}class bi extends ue{constructor(t){super(),this._decoration=t}set decoration(t){this._decoration=t,this.markNeedsPaint()}get decoration(){return this._decoration}render(t,e){var i;const n=null===(i=this.decoration)||void 0===i?void 0:i.createBoxPainter(this.markNeedsPaint.bind(this));n&&n.paint(t.paint,e,this.size),super.render(t,e)}debugRender(t,e){var i;const n=null===(i=this.decoration)||void 0===i?void 0:i.createBoxPainter(this.markNeedsPaint.bind(this));n&&n.debugPaint(t.paint,e,this.size),super.debugRender(t,e)}}class Pi{constructor(t){this.topLeft=t.topLeft||0,this.topRight=t.topRight||0,this.bottomLeft=t.bottomLeft||0,this.bottomRight=t.bottomRight||0}static all(t){return new Pi({topLeft:t,topRight:t,bottomLeft:t,bottomRight:t})}static only(t){return new Pi(t)}static get zero(){return new Pi({topLeft:0,topRight:0,bottomLeft:0,bottomRight:0})}isNone(){return 0===this.topLeft&&0===this.topRight&&0===this.bottomLeft&&0===this.bottomRight}static equals(t,e){return t.topLeft===e.topLeft&&t.topRight===e.topRight&&t.bottomLeft===e.bottomLeft&&t.bottomRight===e.bottomRight}equals(t){return Pi.equals(this,t)}get radius(){return[this.topLeft,this.topRight,this.bottomLeft,this.bottomRight]}}class Si extends ue{constructor(t){super(null==t?void 0:t.child),this.additionalConstraints=(null==t?void 0:t.additionalConstraints)||u.zero}get additionalConstraints(){return this._additionalConstraints}set additionalConstraints(t){this._additionalConstraints!==t&&(this._additionalConstraints=t,this.markNeedsLayout())}computeDryLayout(t){return this.child?(this.child.layout(this.additionalConstraints.enforce(t),!0),this.child.size):this.additionalConstraints.enforce(this.constraints).constrain(n.zero)}set width(t){this._width=t}set height(t){this._height=t}get width(){return this._width}get height(){return this._height}performUpdateAdditional(t=this.width,e=this.height){this.additionalConstraints=new u({maxWidth:t,maxHeight:e,minWidth:t,minHeight:e}),this.markNeedsLayout()}performLayout(){this.size=this.computeDryLayout(this.constraints)}debugRender(t,e){t.paintDefaultDebugBoundary(e,this.size),super.debugRender(t,e)}}class Ai extends Rt{constructor(t){var e;super(null==t?void 0:t.child,t.key),this.additionalConstraints=null!==(e=null==t?void 0:t.additionalConstraints)&&void 0!==e?e:u.tightFor()}createRenderObject(){return new Si({additionalConstraints:this.additionalConstraints})}updateRenderObject(t,e){e.additionalConstraints=this.additionalConstraints}}class Ci extends Rt{constructor(t){super(null==t?void 0:t.child,t.key),this.additionalConstraints=u.zero;const{width:e,height:i}=t;this.width=e,this.height=i,this.additionalConstraints=u.tightFor(e,i)}createRenderObject(){return new Si({additionalConstraints:this.additionalConstraints})}updateRenderObject(t,e){e.additionalConstraints=this.additionalConstraints}}class _i extends Ci{constructor(e){var i;super(e),this.clipBehavior=t.Clip.hardEdge,this.clipBehavior=null!==(i=null==e?void 0:e.clipBehavior)&&void 0!==i?i:this.clipBehavior}createRenderObject(){return new Ti({clipBehavior:this.clipBehavior,additionalConstraints:this.additionalConstraints})}updateRenderObject(t,e){e.clipBehavior=this.clipBehavior}}class Di extends _i{constructor(t){var e;super(t),this.borderRadius=Pi.zero,this.borderRadius=null!==(e=null==t?void 0:t.borderRadius)&&void 0!==e?e:Pi.zero}createRenderObject(){return new Ri({borderRadius:this.borderRadius,width:this.width,height:this.height,clipBehavior:this.clipBehavior})}updateRenderObject(t,e){e.borderRadius=this.borderRadius}}class Ti extends Si{constructor(e){super(e),this._clipBehavior=t.Clip.hardEdge,this.clipBehavior=null==e?void 0:e.clipBehavior}set clipBehavior(t){this._clipBehavior=t,this.markNeedsPaint()}get clipBehavior(){return this._clipBehavior}performLayout(){void 0===this.width&&void 0===this.height?(this.child.layout(this.constraints),this.size=this.child.size):(this.child.layout(this.constraints),super.performLayout())}render(t,e){var i,n;t.clipRectAndPaint(this._clipBehavior,{x:null!==(i=null==e?void 0:e.x)&&void 0!==i?i:0,y:null!==(n=null==e?void 0:e.y)&&void 0!==n?n:0,width:this.size.width,height:this.size.height},(()=>{super.render(t,e)}))}}class Ri extends Ti{constructor(t){const{borderRadius:e}=t;super(t),this.borderRadius=e}get borderRadius(){return this._borderRadius}set borderRadius(t){this._borderRadius=t,this.markNeedsPaint()}performLayout(){super.performLayout()}render(t,e){var i,n;t.clipRRectAndPaint(this._clipBehavior,{x:null!==(i=null==e?void 0:e.x)&&void 0!==i?i:0,y:null!==(n=null==e?void 0:e.y)&&void 0!==n?n:0,width:this.size.width,height:this.size.height,radii:this.borderRadius.radius},(()=>{super.render(t,e)}))}}class Ei{constructor(t){this.left=0,this.right=0,this.top=0,this.bottom=0;const{left:e=0,right:i=0,top:n=0,bottom:s=0}=null!=t?t:{};this.left=e,this.right=i,this.top=n,this.bottom=s}get isZero(){return 0===this.left&&0===this.right&&0===this.top&&0===this.bottom}}class ki extends Ei{static get zero(){return new ki}static fromLTRB(t){return new ki(t)}static only(t){return new ki(t)}static all(t){return new ki({left:t,right:t,top:t,bottom:t})}static symmetric(t){const{vertical:e=0,horizontal:i=0}=t;return new ki({left:i,right:i,top:e,bottom:e})}}class Li extends ue{get padding(){return this._padding}set padding(t){this._padding=t,this.markNeedsLayout()}constructor(t){super(null==t?void 0:t.child),this._padding=ki.zero,this.padding=null==t?void 0:t.padding}performLayout(){var t,e,s,r,o,a;const h=((null===(t=this.padding)||void 0===t?void 0:t.left)||0)+((null===(e=this.padding)||void 0===e?void 0:e.right)||0),l=((null===(s=this.padding)||void 0===s?void 0:s.top)||0)+((null===(r=this.padding)||void 0===r?void 0:r.bottom)||0);if(!this.child)return void(this.size=new n(Math.max(this.constraints.maxWidth,h),l));const d=this.constraints.deflate(new i(h,l)),c=this.child.parentData;this.child.layout(d,!0),c.offset=new i((null===(o=this.padding)||void 0===o?void 0:o.left)||0,(null===(a=this.padding)||void 0===a?void 0:a.top)||0),this.size=this.constraints.constrain(new n(h+this.child.size.width,l+this.child.size.height))}computeDryLayout(t){return this.size}render(t,e){super.render(t,e)}debugRender(t,e){super.debugRender(t,e)}}class zi extends Rt{constructor(t){super(t.child,t.key),this.padding=null==t?void 0:t.padding}createRenderObject(){return new Li({padding:this.padding})}updateRenderObject(t,e){e.padding=this.padding}}class Bi extends xe{constructor(e){const{direction:i,children:n,mainAxisAlignment:s,crossAxisAlignment:r,spacing:o,mainAxisSize:a=t.MainAxisSize.max}=e;super(n),this.overflow=0,this._direction=t.Axis.horizontal,this._mainAxisAlignment=t.MainAxisAlignment.start,this._crossAxisAlignment=t.CrossAxisAlignment.start,this._spacing=0,this.direction=i,this.mainAxisAlignment=s,this.crossAxisAlignment=r,this.spacing=null!=o?o:0,this._mainAxisSize=a}set direction(t){t&&this._direction!==t&&(this._direction=t,this.markNeedsLayout())}set mainAxisSize(t){t&&this._mainAxisSize!==t&&(this._mainAxisSize=t,this.markNeedsLayout())}set mainAxisAlignment(t){t&&this._mainAxisAlignment!==t&&(this._mainAxisAlignment=t,this.markNeedsLayout())}set crossAxisAlignment(t){t&&this._crossAxisAlignment!==t&&(this._crossAxisAlignment=t,this.markNeedsLayout())}set spacing(t){null!=t&&t!=this.spacing&&(this._spacing=t,this.markNeedsLayout())}get direction(){return this._direction}get mainAxisAlignment(){return this._mainAxisAlignment}get crossAxisAlignment(){return this._crossAxisAlignment}get spacing(){return this._spacing}performLayout(){const e=this.computeSize(this.constraints);this.direction===t.Axis.horizontal?this.size=this.constraints.constrain(new n(e.mainSize,e.crossSize)):this.direction===t.Axis.vertical&&(this.size=this.constraints.constrain(new n(e.crossSize,e.mainSize)));const s=e.mainSize-e.allocatedSize;this.overflow=Math.max(0,-1*s);const r=Math.max(0,s);let a=0,h=0;switch(this.mainAxisAlignment){case t.MainAxisAlignment.start:break;case t.MainAxisAlignment.end:a=r;break;case t.MainAxisAlignment.center:a=.5*r;break;case t.MainAxisAlignment.spaceBetween:h=r/(this.childCount-1);break;case t.MainAxisAlignment.spaceAround:h=r/this.childCount,a=.5*h;break;case t.MainAxisAlignment.spaceEvenly:h=r/(this.childCount+1),a=h}h+=this.spacing;let l=this.firstChild,d=a,c=0;for(;null!=l;){const n=l.parentData,s=this.getMainSize(l.size),r=this.getCrossSize(l.size),a=this.getCrossSize(this.size);switch(this.crossAxisAlignment){case t.CrossAxisAlignment.start:break;case t.CrossAxisAlignment.end:c=a-r;break;case t.CrossAxisAlignment.center:c=.5*a-.5*r;break;case t.CrossAxisAlignment.stretch:c=0;break;case t.CrossAxisAlignment.baseline:c=.5*e.crossSize-.5*r}if(this.direction===t.Axis.horizontal?n.offset=new i(d,c):this.direction===t.Axis.vertical&&(n.offset=new i(c,d)),"number"!=typeof h)throw new o("betweenSpace is not a number");d+=s+h,l=null==n?void 0:n.nextSibling}}computeSize(e){let i,s=0,r=0,o=this.firstChild,a=0,h=0,l=this.spacing;r=this.direction===t.Axis.horizontal?e.maxWidth:e.maxHeight,i=r<1/0;let c=0;for(;null!=o;){const i=o.parentData;let r=u.zero;const d=this.getFlex(o);if(d>0)s+=d;else{this.crossAxisAlignment===t.CrossAxisAlignment.stretch?this.direction===t.Axis.horizontal?r=u.tightFor(null,e.maxHeight):this.direction===t.Axis.vertical&&(r=u.tightFor(e.maxWidth,null)):this.direction===t.Axis.horizontal?r=new u({maxHeight:e.maxHeight}):this.direction===t.Axis.vertical&&(r=new u({maxWidth:e.maxWidth})),o.layout(r);const i=(null==o?void 0:o.size)||n.zero;h+=this.getMainSize(i),c>0&&(h+=l),a=Math.max(a,this.getCrossSize(i)),c+=1}o=null==i?void 0:i.nextSibling}if(s>0){const n=l*(this.childCount-1),c=Math.max(0,Math.max(0,i?r:0)-h-n)/s;for(o=this.firstChild;null!=o;){const n=this.getFlex(o);if(n>0){const s=i?n*c:1/0,r=s;let a=u.zero;this.crossAxisAlignment===t.CrossAxisAlignment.stretch?this.direction===t.Axis.horizontal?a=new u({maxWidth:s,minWidth:r,minHeight:e.maxHeight,maxHeight:e.maxHeight}):this.direction===t.Axis.vertical&&(a=new u({maxWidth:e.maxWidth,minWidth:e.maxWidth,minHeight:r,maxHeight:s})):this.direction===t.Axis.horizontal?a=new u({minWidth:r,maxWidth:s,maxHeight:e.maxHeight,minHeight:0}):this.direction===t.Axis.vertical&&(a=new u({minHeight:r,maxHeight:s,maxWidth:e.minWidth,minWidth:0})),(a.hasInfiniteWidth||a.hasInfiniteHeight)&&d.assertValidConstraints(a,o,"Infinite constraints in layout."),o.layout(a)}h+=this.getMainSize(o.size),a=Math.max(a,this.getCrossSize(o.size));o=o.parentData.nextSibling}}return{mainSize:i&&this._mainAxisSize===t.MainAxisSize.max?r:h,crossSize:a,allocatedSize:h}}getFlex(t){var e;return t.parentData instanceof de&&null!==(e=t.parentData.flex)&&void 0!==e?e:0}setupParentData(t){const e=new de;e.node=t,t.parentData=e}getCrossSize(e){switch(this.direction){case t.Axis.horizontal:return e.height;case t.Axis.vertical:return e.width}}getMainSize(e){switch(this.direction){case t.Axis.horizontal:return e.width;case t.Axis.vertical:return e.height}}}class Wi extends kt{constructor(e){const{direction:i,children:n,mainAxisAlignment:s,crossAxisAlignment:r,spacing:o,mainAxisSize:a}=e;super(n,e.key),this.direction=t.Axis.horizontal,this.mainAxisAlignment=t.MainAxisAlignment.start,this.crossAxisAlignment=t.CrossAxisAlignment.center,this.spacing=0,this.mainAxisSize=t.MainAxisSize.max,this.direction=null!=i?i:this.direction,this.mainAxisAlignment=null!=s?s:this.mainAxisAlignment,this.crossAxisAlignment=null!=r?r:this.crossAxisAlignment,this.spacing=o,this.mainAxisSize=a}createRenderObject(){return new Bi({direction:this.direction,mainAxisAlignment:this.mainAxisAlignment,crossAxisAlignment:this.crossAxisAlignment,spacing:this.spacing,mainAxisSize:this.mainAxisSize})}updateRenderObject(t,e){e.direction=this.direction,e.mainAxisAlignment=this.mainAxisAlignment,e.crossAxisAlignment=this.crossAxisAlignment,e.spacing=this.spacing,e.mainAxisSize=this.mainAxisSize}}class Oi extends ue{constructor(){super(...arguments),this._needsReBuild=!0}updateLayoutBuilder(t){this._callback!==t&&(this._callback=t,this.markNeedsLayout())}markNeedsReBuild(){this._needsReBuild=!0,this.markNeedsLayout()}performCallBuilder(t){this._needsReBuild&&t!==this._previousConstraints&&(this._callback(t),this._previousConstraints=t,this._needsReBuild=!1)}performLayout(){const t=this.constraints;this.performCallBuilder(t),this.child&&this.child.layout(t),super.performLayout()}}class Mi extends Tt{constructor({builder:t,key:e}){super(null,e),this.builder=t}createRenderObject(t){return new Oi}createElement(){return new Hi(this)}}class Hi extends _t{get layoutRenderView(){return this.renderView}insertRenderObjectChild(t,e){this.renderView.child=t}mount(t,e){super.mount(t,e),this.layoutRenderView.updateLayoutBuilder(this.layout.bind(this))}update(t){super.update(t),this.layoutRenderView.updateLayoutBuilder(this.layout.bind(this)),this.layoutRenderView.markNeedsReBuild()}performRebuild(){this.layoutRenderView.markNeedsReBuild(),super.performRebuild()}unmount(){this.layoutRenderView.updateLayoutBuilder(null),super.unmount()}layout(t){const e=this.widget.builder(this,t);this.child=this.updateChild(this.child,e)}}class Ni{}class Ii extends Ni{applyPhysicsToUserOffset(t,e){return e}createBallisticSimulation(t,e){return new Je(.135,t.pixels,e)}applyBoundaryConditions(t,e){return e<t.minScrollExtent?e-t.minScrollExtent:e>t.maxScrollExtent?e-t.maxScrollExtent:0}}function Fi(t,e,i,n){return new(i||(i=Promise))((function(s,r){function o(t){try{h(n.next(t))}catch(t){r(t)}}function a(t){try{h(n.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((n=n.apply(t,e||[])).next())}))}function ji(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vi(t){return this instanceof Vi?(this.v=t,this):new Vi(t)}function Ui(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,s=i.apply(t,e||[]),r=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(t){s[t]&&(n[t]=function(e){return new Promise((function(i,n){r.push([t,e,i,n])>1||a(t,e)}))})}function a(t,e){try{(i=s[t](e)).value instanceof Vi?Promise.resolve(i.value.v).then(h,l):d(r[0][2],i)}catch(t){d(r[0][3],t)}var i}function h(t){a("next",t)}function l(t){a("throw",t)}function d(t,e){t(e),r.shift(),r.length&&a(r[0][0],r[0][1])}}function Gi(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=ji(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(i){e[i]=t[i]&&function(e){return new Promise((function(n,s){(function(t,e,i,n){Promise.resolve(n).then((function(e){t({value:e,done:i})}),e)})(n,s,(e=t[i](e)).done,e.value)}))}}}class Zi{constructor(t,e){this._constructor=t,this._initializer=e}}class Xi extends Ce{addPointer(t){this.isAllowedPointer(t)&&this.addAllowedPointer(t)}addAllowedPointer(t){}invokeCallback(t,e){return null==e?void 0:e()}}class Yi extends Xi{constructor(){super(),this.entities=new Map,this.handleEventBind=this.handleEvent.bind(this)}addAllowedPointer(t){super.addAllowedPointer(t),this.entities.set(t.pointer,this.addPointerToArena(t)),this.startTrackingPointer(t.pointer)}startTrackingPointer(t){Re.instance.pointerRouter.addRoute(t,this.handleEventBind)}stopTrackingPointer(t){Re.instance.pointerRouter.removeRoute(t,this.handleEventBind)}resolve(t){for(let e of this.entities.values())e.resolve(t)}addPointerToArena(t){return Re.instance.gestureArena.add(t.pointer,this)}acceptGesture(t){}rejectGesture(t){this.stopTrackingPointer(t)}}class qi extends Yi{constructor(t){super(),this.deadline=t}addAllowedPointer(t){this.deadline&&(this.timer=setTimeout((()=>{this.timer&&this.didExceedDeadlineWithEvent(t)}),this.deadline.value)),super.addAllowedPointer(t)}didExceedDeadlineWithEvent(t){this.didExceedDeadline()}didExceedDeadline(){this.deadline=null}handleEvent(t){this.handlePrimaryPointerDown(t)}stopTimer(){clearTimeout(this.timer),this.timer=null}rejectGesture(t){this.stopTimer()}acceptGesture(t){this.stopTimer()}}class Ki extends qi{constructor(t){var e;super(),this.deadline=new Fe({milliseconds:300}),this.isAccepted=!1,t&&(this.deadline=null!==(e=null==t?void 0:t.pressDuration)&&void 0!==e?e:this.deadline)}handlePrimaryPointerDown(t){}didExceedDeadline(){this.resolve(ye.accepted),this.isAccepted=!0,this.handleLongPressStart(this.startEvent)}handleEvent(t){t instanceof Gt&&this.isAccepted?this.startEvent=t:t instanceof Xt&&this.isAccepted?this.handleLongPressUpdate(t):t instanceof Zt&&this.isAccepted&&(this.handleLongPressEnd(t),this.resolve(ye.rejected),this.reset()),t instanceof qt&&this.resolve(ye.rejected)}acceptGesture(t){super.acceptGesture(t),this.handleLongPress()}handleLongPressUpdate(t){this.invokeCallback("onLongPressUpdate",(()=>{this.onLongPressUpdate(t)}))}handleLongPressEnd(t){this.invokeCallback("onLongPressEnd",(()=>{this.onLongPressEnd(t)}))}handleLongPressStart(t){this.invokeCallback("onLongPressStart",(()=>{this.onLongPressStart(t)}))}handleLongPress(){this.invokeCallback("onLongPress",this.onLongPress)}isAllowedPointer(t){return!!(this.onLongPress||this.onLongPressStart||this.onLongPressUpdate||this.onLongPressEnd)}reset(){this.isAccepted=!1}}class Ji extends Ie{}class Qi{constructor(t,e){this.startTime=0,this.duration=e.value,this.callback=t,this.runTimeDuration=e.value}stop(){const t=+new Date;this.runTimeDuration-=t-this.startTime,this.cancel()}cancel(){clearTimeout(this.timer),this.timer=null}reset(){this.timer=null,this.runTimeDuration=this.duration}reStart(){this.reset(),this.start()}start(){this.startTime=+new Date,!this.timer&&this.running()}running(){this.timer=setTimeout((()=>{var t;this.timer=null,null===(t=this.callback)||void 0===t||t.call(this)}),this.runTimeDuration)}}class $i extends Rt{constructor(t){super(null==t?void 0:t.child,null==t?void 0:t.key),this.painter=null==t?void 0:t.painter,this.foregroundPainter=null==t?void 0:t.foregroundPainter}createRenderObject(){return new tn({painter:this.painter,foregroundPainter:this.foregroundPainter})}updateRenderObject(t,e){}}class tn extends ue{constructor(t){super(),this._painter=null==t?void 0:t.painter,this._foregroundPainter=null==t?void 0:t.foregroundPainter}set painter(t){this._painter=t,this.markNeedsPaint()}set foregroundPainter(t){this._foregroundPainter=t,this.markNeedsPaint()}render(t,e){this._painter&&this.renderWidthPainter(t.paint,this._painter,e),super.render(t,e),this._foregroundPainter&&this.renderWidthPainter(t.paint,this._foregroundPainter,e)}renderWidthPainter(t,e,n=i.zero){t.save(),t.translate(n.x,n.y),e.render(t,this.size),t.restore()}}class en extends qi{constructor(){super(new Fe({milliseconds:180})),this.sentDown=!1}addAllowedPointer(t){this.reset(),super.addAllowedPointer(t)}isAllowedPointer(){return!!(this.onTap||this.onTapDown||this.onTapUp||this.onTapCancel)}handlePrimaryPointerDown(t){t instanceof Gt&&(this.down=t),t instanceof Zt?(this.up=t,this.checkUp()):t instanceof qt&&(this.resolve(ye.rejected),this.sentDown&&(this.checkCancel(),this.reset()))}didExceedDeadline(){this.checkDown()}handleEventDown(){this.sentDown=!0,this.invokeCallback("onTapDown",(()=>{var t;null===(t=this.onTapDown)||void 0===t||t.call(this,this.down)}))}checkDown(){!this.sentDown&&this.down&&(this.invokeCallback("onTapDown",(()=>{var t;null===(t=this.onTapDown)||void 0===t||t.call(this,this.down)})),this.sentDown=!0)}checkCancel(){this.invokeCallback("onTapCancel",this.onTapCancel)}checkUp(){this.sentDown&&this.up&&(this.invokeCallback("onTapUp",(()=>{var t;null===(t=this.onTapUp)||void 0===t||t.call(this,this.up)})),this.invokeCallback("onTap",(()=>{var t;null===(t=this.onTap)||void 0===t||t.call(this,this.down)})),this.reset())}reset(){this.sentDown=!1,this.up=null,this.down=null}acceptGesture(t){super.acceptGesture(t),this.checkDown(),this.checkUp()}rejectGesture(t){super.rejectGesture(t),this.sentDown&&(this.invokeCallback("onTapCancel",this.onTapCancel),this.reset())}}const nn=new Fe({milliseconds:300});class sn extends Yi{constructor(){super(...arguments),this.doubleTapTimeOut=!1}addAllowedPointer(t){this.startTrack(t)}get firstTap(){return this._firstTap}set firstTap(t){this._firstTap=t}startTrack(t){this.stopDoubleTimer(),super.addAllowedPointer(t)}registerSecondaryTap(t){this.resolve(ye.accepted),this.reset()}registerFirstTap(t){Re.instance.gestureArena.hold(t.pointer),this.firstTap=t,this.startDoubleTimer()}startDoubleTimer(){this.doubleTapTimer=setTimeout((()=>{this.reset(),this.doubleTapTimeOut=!0,this.doubleTapTimer=null}),nn.value)}stopDoubleTimer(){clearTimeout(this.doubleTapTimer)}isAllowedPointer(){return!!this.onDoubleTap}stopTimer(){clearTimeout(this.doubleTapTimer)}handleEvent(t){t instanceof Zt&&(this.firstTap?this.registerSecondaryTap(t):this.registerFirstTap(t)),(t instanceof Xt||t instanceof qt)&&(this.reject(),this.reset())}reject(){this.resolve(ye.rejected)}reset(){this.stopDoubleTimer(),this.firstTap&&(this.reject(),Re.instance.gestureArena.release(this.firstTap.pointer),this.firstTap=null,this.doubleTapTimer=null,this.doubleTapTimeOut=!1)}acceptGesture(t){this.stopTimer(),this.checkDoubleTap(),this.reset(),super.acceptGesture(t)}checkDoubleTap(){this.onDoubleTap&&this.invokeCallback("onDoubleTap",this.onDoubleTap)}}class rn extends Yi{constructor(){super(...arguments),this.moved=!1}isAllowedPointer(t){return!!(this.onDragStart||this.onDragUpdate||this.onDragEnd)}handleEvent(t){t instanceof Gt&&(this.startEvent=t),t instanceof Xt&&(this.startEvent&&!this.moved?(this.resolve(ye.accepted),this.handlePanDragStart(this.startEvent),this.moved=!0):this.handlePanDragUpdate(t)),t instanceof Zt&&this.moved&&this.startEvent&&(super.resolve(ye.rejected),this.handlePanDragEnd(t),this.reset(),this.stopTrackingPointer(t.pointer))}rejectGesture(t){super.rejectGesture(t),this.reset()}reset(){this.startEvent=null,this.moved=!1}handlePanDragEnd(t){this.invokeCallback("onPanEnd",(()=>{var e;null===(e=this.onDragEnd)||void 0===e||e.call(this,t)}))}handlePanDragStart(t){this.invokeCallback("onPanStart",(()=>{var e;null===(e=this.onDragStart)||void 0===e||e.call(this,t)}))}handlePanDragUpdate(t){this.invokeCallback("onPanUpdate",(()=>{var e;null===(e=this.onDragUpdate)||void 0===e||e.call(this,t)}))}}class on extends Yi{constructor(){super(...arguments),this._startDistance=0,this._preAngle=0,this._preScale=1}handleEvent(t){t instanceof Ut&&(t instanceof Jt?(this.handlePanZoomStart(t),this.resolve(ye.accepted)):t instanceof Qt?this.handlePanZoomUpdate(t):t instanceof $t&&this.handlePanZoomEnd(t))}handlePanZoomStart(t){this._startDistance=this.computeDistance(t),this._preAngle=this.computeRotationAngle(t),this._preScale=1,this.invokeCallback("onPanZoomStart",(()=>{var e;null===(e=this.onPanZoomStart)||void 0===e||e.call(this,t)}))}handlePanZoomUpdate(t){const e=this.computeDistance(t)/this._startDistance,i=this.computeRotationAngle(t);t.scale=e,t.rotationAngle=i,t.deltaScale=e-this._preScale,t.deltaRotationAngle=i-this._preAngle,this._preScale=e,this._preAngle=i,this.invokeCallback("onPanZoomUpdate",(()=>{var e;null===(e=this.onPanZoomUpdate)||void 0===e||e.call(this,t)}))}handlePanZoomEnd(t){this._startDistance=0,this._preScale=1,this._preAngle=0,this.invokeCallback("onPanZoomEnd",(()=>{var e;null===(e=this.onPanZoomEnd)||void 0===e||e.call(this,t)}))}computeRotationAngle(t){const e=t.pointers[0].pointer.toVector(),i=t.pointers[1].pointer.toVector();return Math.atan2(i.y-e.y,i.x-e.x)}computeDistance(t){const e=t.pointers[0].pointer.toVector(),n=t.pointers[1].pointer.toVector();return i.dist(e,n)}isAllowedPointer(t){return!!(this.onPanZoomEnd||this.onPanZoomStart||this.onPanZoomUpdate)}}class an extends Rt{constructor(t){super(null==t?void 0:t.child,t.key),this._onPointerDown=t.onPointerDown,this._onPointerMove=t.onPointerMove,this._onPointerUp=t.onPointerUp,this._onPointerCancel=t.onPointerCancel,this._onSignalPointer=t.onSignalPointer}createRenderObject(){return new hn({onPointerDown:this._onPointerDown,onPointerMove:this._onPointerMove,onPointerUp:this._onPointerUp,onPointerCancel:this._onPointerCancel,onSignalPointer:this._onSignalPointer})}updateRenderObject(t,e){e.onPointerDown=this._onPointerDown,e.onPointerMove=this._onPointerMove,e.onPointerUp=this._onPointerUp,e.onPointerCancel=this._onPointerCancel,e.onSignalPointer=this._onSignalPointer}}class hn extends ue{set onSignalPointer(t){this._onSignalPointer=t}set onPointerDown(t){this._onPointerDown=t}set onPointerMove(t){this._onPointerMove=t}set onPointerUp(t){this._onPointerUp=t}set onPointerCancel(t){this._onPointerCancel=t}constructor(t){super(null==t?void 0:t.child),this._onPointerDown=null==t?void 0:t.onPointerDown,this._onPointerMove=null==t?void 0:t.onPointerMove,this._onPointerUp=null==t?void 0:t.onPointerUp,this._onPointerCancel=null==t?void 0:t.onPointerCancel,this._onSignalPointer=null==t?void 0:t.onSignalPointer}handleEvent(t,e){var i,n,s,r,o;t instanceof Gt?null===(i=this._onPointerDown)||void 0===i||i.call(this,t):t instanceof Xt?null===(n=this._onPointerMove)||void 0===n||n.call(this,t):t instanceof Zt?null===(s=this._onPointerUp)||void 0===s||s.call(this,t):t instanceof qt?null===(r=this._onPointerCancel)||void 0===r||r.call(this,t):t instanceof Kt&&(null===(o=this._onSignalPointer)||void 0===o||o.call(this,t))}hitTestSelf(t,e){return this.hitTestChildren(t,e)}}class ln extends Pt{constructor(t){super(null==t?void 0:t.key),this.gestureRecognizers=new Map,this.child=null==t?void 0:t.child,this.onTap=null==t?void 0:t.onTap,this.onTapDown=null==t?void 0:t.onTapDown,this.onTapUp=null==t?void 0:t.onTapUp,this.onTapCancel=null==t?void 0:t.onTapCancel,this.onDoubleTap=null==t?void 0:t.onDoubleTap,this.onLongPress=null==t?void 0:t.onLongPress,this.onDragStart=null==t?void 0:t.onDragStart,this.onDragUpdate=null==t?void 0:t.onDragUpdate,this.onDragEnd=null==t?void 0:t.onDragEnd,this.onPanZoomStart=null==t?void 0:t.onPanZoomStart,this.onPanZoomUpdate=null==t?void 0:t.onPanZoomUpdate,this.onPanZoomEnd=null==t?void 0:t.onPanZoomEnd}build(t){const e=new Map;return e.set(en,new Zi((()=>new en),(t=>{t.onTap=this.onTap,t.onTapDown=this.onTapDown,t.onTapUp=this.onTapUp,t.onTapCancel=this.onTapCancel}))),e.set(sn,new Zi((()=>new sn),(t=>{t.onDoubleTap=this.onDoubleTap}))),e.set(Ki,new Zi((()=>new Ki),(t=>{t.onLongPress=this.onLongPress}))),e.set(rn,new Zi((()=>new rn),(t=>{t.onDragEnd=this.onDragEnd,t.onDragStart=this.onDragStart,t.onDragUpdate=this.onDragUpdate}))),e.set(on,new Zi((()=>new on),(t=>{t.onPanZoomStart=this.onPanZoomStart,t.onPanZoomUpdate=this.onPanZoomUpdate,t.onPanZoomEnd=this.onPanZoomEnd}))),new dn({gestures:e,child:this.child})}}class dn extends At{constructor(t){super(),this.gestures=new Map,this.gestures=null==t?void 0:t.gestures,this.child=null==t?void 0:t.child}createState(){return new cn}}class cn extends Ct{constructor(){super(...arguments),this.gestureRecognizers=new Map}initState(){super.initState(),this.handleInitGestures(this.widget.gestures)}build(t){return new an({child:this.widget.child,onPointerDown:this.handlePointerDown.bind(this)})}handlePointerDown(t){for(const e of this.gestureRecognizers.values())e.addPointer(t)}handleInitGestures(t){for(const[e,i]of t){const t=i._constructor();i._initializer(t),this.gestureRecognizers.set(e,t)}}}class un extends Ie{constructor(){super(...arguments),this.initialScrollOffset=0,this.positions=new Array}get position(){if(this.positions.length>1||0==this.positions.length)throw new Error("ScrollController can only be used with one ScrollPosition at a time."+this.positions.length);return this.positions[0]}animateTo(t,e=Fe.zero,i=Ue.ease){return new Promise((n=>Fi(this,void 0,void 0,(function*(){for(let n of this.positions)yield n.animateTo(t,e,i);n()}))))}jumpTo(t){this.positions.forEach((e=>e.jumpTo(t)))}attach(t){this.positions.includes(t)||(this.positions.push(t),t.addListener(this.notifyListeners.bind(this)))}detach(t){this.positions.includes(t)&&(t.removeListener(this.notifyListeners.bind(this)),this.positions.splice(this.positions.indexOf(t),1))}createScrollPosition(t,e,i){return new di({physics:t,axisDirection:e,initPixels:i})}get offset(){return this.position.pixels}}class pn extends Ji{constructor(){super(...arguments),this.key=new f,this._scrollbarWidth=6,this._maxContentExtent=0,this._viewportDimension=0,this._thumbMainAxisPosition=0,this._thumbExtent=0,this._thumbOpacity=1,this._thumbRect=s.zero,this._trackRect=s.zero,this._pixels=0}set maxContentExtent(t){this._maxContentExtent!==t&&(this._maxContentExtent=t,this.setThumbExtent())}get maxContentExtent(){return this._maxContentExtent}set viewportDimension(t){this._viewportDimension!==t&&(this._viewportDimension=t,this.setThumbExtent())}set thumbOpacity(t){this._thumbOpacity=t}set scrollAxis(t){this._scrollAxis=t}get thumbRect(){return this._thumbRect}get trackRect(){return this._trackRect}set scrollbarWidth(t){this._scrollbarWidth=null!=t?t:this._scrollbarWidth}get overflow(){return this._pixels>this._maxContentExtent}get thumbMainAxisPosition(){return this._thumbMainAxisPosition}render(t,e){this.setThumbExtent(),this.paintScrollBar(t,e)}setThumbExtent(){this._maxContentExtent>0?this._thumbExtent=Math.max(this._viewportDimension/this._maxContentExtent*this._viewportDimension,20):this._thumbExtent=0}paintScrollBar(e,i){let n=0,s=0,r=0,o=0;this._scrollAxis===t.Axis.horizontal?(n=this._thumbMainAxisPosition,s=i.height-this._scrollbarWidth,r=this._thumbExtent,o=this._scrollbarWidth):this._scrollAxis===t.Axis.vertical&&(n=i.width-this._scrollbarWidth,s=this._thumbMainAxisPosition,r=this._scrollbarWidth,o=Math.max(6,this._thumbExtent)),this._thumbRect.update({x:n,y:s,width:r,height:o}),this._scrollAxis===t.Axis.horizontal?(n=0,s=i.height-this._scrollbarWidth,r=i.width,o=this._scrollbarWidth):this._scrollAxis===t.Axis.vertical&&(n=i.width-this._scrollbarWidth,s=0,r=this._scrollbarWidth,o=i.height),this._trackRect.update({x:n,y:s,width:r,height:o}),this.paintTrack(e,i),this.paintThumb(e,i)}paintThumb(t,e){let{x:i,y:n,width:s,height:r}=this._thumbRect;t.fillStyle="rgba(127,127,127,"+this._thumbOpacity+")",t.roundRect(i,n,s,r,this._scrollbarWidth),t.fill()}paintTrack(t,e){t.fillStyle="rgba(0,0,0,"+.12*this._thumbOpacity+")";const{x:i,y:n,width:s,height:r}=this._trackRect;t.fillRect(i,n,s,r)}update(t){this._pixels=t.pixels,this.scrollAxis=ti(t.axisDirection),this.setThumbExtent(),this._thumbMainAxisPosition=this._pixels/this._maxContentExtent*(this._viewportDimension-this._thumbExtent)}hitTestThumb(t){const e=vn(new i(this._thumbRect.x,this._thumbRect.y));return t.sub(e),this._thumbRect.size.contains(t)}getTractScroll(t){return P((this._thumbMainAxisPosition+t)/(this._viewportDimension-this._thumbExtent)*this._maxContentExtent,0,this._maxContentExtent)}}class gn extends At{constructor(t){var e,i;super(null==t?void 0:t.key),this.scrollController=null==t?void 0:t.controller,this.child=null==t?void 0:t.child,null!==(e=this.scrollbarPainter)&&void 0!==e||(this.scrollbarPainter=null==t?void 0:t.scrollbarPainter),this.scrollbarWidth=null!==(i=null==t?void 0:t.scrollbarWidth)&&void 0!==i?i:6}createState(){return new xn}}const mn=new v;class xn extends Ct{constructor(){super(...arguments),this._pressThumb=!1,this._painter=new pn}get painter(){var t;return null!==(t=this.widget.scrollbarPainter)&&void 0!==t?t:this._painter}get scrollController(){return this.widget.scrollController}initState(){super.initState(),this.scrollPainterAnimateController=new qe({duration:new Fe({milliseconds:300}),curve:Ue.easeInSine}),this.faceOutTimer=new Qi((()=>{!this._pressThumb&&this.scrollPainterAnimateController.reverse()}),new Fe({milliseconds:500}));const t=this.scrollController;t.addListener((()=>{this.handleThumbEndTimer(),this.scrollPainterAnimateController.isDismissed&&this.scrollPainterAnimateController.forward(),this.updateScrollbarPainter(),this.painter.update(t.position)})),this.scrollPainterAnimateController.addListener((()=>{this.updateScrollbarPainter(),this.setState((()=>{}))}))}handleThumbEndTimer(){var t;null===(t=this.faceOutTimer)||void 0===t||t.cancel(),this.faceOutTimer.reStart()}handleThumbStart(){var t;this._pressThumb=!0,this.scrollPainterAnimateController.isForward&&(null===(t=this.scrollPainterAnimateController)||void 0===t||t.stop())}handleThumbUpdate(t){const e=this.painter.getTractScroll(t);this.scrollController.jumpTo(e)}handleThumbEnd(){this._pressThumb=!1,this.handleThumbEndTimer()}get gestures(){const t=new Map;return t.set(fn,new Zi((()=>new fn(this.painter)),(t=>{t.onLongPressStart=t=>{this.handleThumbStart()},t.onLongPressUpdate=t=>{this.handleThumbUpdate(t.delta.y)},t.onLongPressEnd=t=>{this.handleThumbEnd()}}))),t}updateScrollbarPainter(){const t=this.scrollController.position,e=this.painter;e.maxContentExtent=t.maxScrollExtent,e.viewportDimension=t.viewportDimension,e.thumbOpacity=this.scrollPainterAnimateController.value,e.scrollbarWidth=this.widget.scrollbarWidth}build(t){return new dn({child:new _i({child:new $i({key:mn,foregroundPainter:this.painter,child:this.widget.child})}),gestures:this.gestures})}}class fn extends Ki{constructor(t){super({pressDuration:Fe.zero}),this.painter=t}isAllowedPointer(t){if(this.painter.hitTestThumb(t.position))return super.isAllowedPointer(t)}}const vn=t=>mn.currentElement.findRenderView().localToGlobal(t);class wn extends At{constructor(t){var e;super(),this.viewportBuilder=null==t?void 0:t.viewportBuilder,this.axisDirection=null==t?void 0:t.axisDirection,this.physics=null!==(e=null==t?void 0:t.physics)&&void 0!==e?e:new Ii,this.controller=null==t?void 0:t.controller}createState(){return new yn}}class yn extends Ct{initState(){var t;super.initState(),this.effectiveController=null!==(t=this.widget.controller)&&void 0!==t?t:new un,this.updatePosition()}updatePosition(){const t=this.position;t&&this.effectiveController.detach(t);const e=this.widget.controller.createScrollPosition(this.widget.physics,this.widget.axisDirection,null==t?void 0:t.pixels);this.effectiveController.attach(e),this.position=e}applyUserOffset(t){this.position.pointerScroll(t)}didUpdateWidget(t){super.didUpdateWidget(t)}build(t){return new an({onPointerDown:()=>{this.position.scrollStart()},child:new ln({onDragStart:()=>{this.position.scrollStart()},onDragUpdate:t=>{this.applyUserOffset(t.delta),this.position.scrollUpdate(new e(t.position.x,t.position.y))},onDragEnd:()=>{this.position.scrollEnd()},child:this.widget.viewportBuilder(t,this.position)})})}}class bn extends kt{constructor(t){super(null==t?void 0:t.children,null==t?void 0:t.key),this.offset=null==t?void 0:t.offset,this.axisDirection=null==t?void 0:t.axisDirection}updateRenderObject(t,e){e.offset=this.offset,e.axisDirection=this.axisDirection}createRenderObject(){return new gi({offset:this.offset,axisDirection:this.axisDirection})}}class Pn extends Rt{constructor(t){super(null==t?void 0:t.child,null==t?void 0:t.key)}updateRenderObject(t,e){}createRenderObject(){return new ri}}var Sn;t.BoxFit=void 0,(Sn=t.BoxFit||(t.BoxFit={})).fill="fill",Sn.contain="contain",Sn.cover="cover",Sn.fitWidth="fitWidth",Sn.fitHeight="fitHeight",Sn.none="none",Sn.scaleDown="scaleDown";class An{constructor(t,e){this.source=t,this.destination=e}}const Cn=(e,i,s)=>{if(i.height<=0||i.width<=0||s.height<=0||s.width<=0)return new An(new n(0,0),new n(0,0));let r,o;switch(e){case t.BoxFit.fill:r=i,o=s;break;case t.BoxFit.contain:r=i,o=s.width/s.height>r.width/r.height?new n(r.width*s.height/r.height,s.height):new n(s.width,r.height*s.width/r.width);break;case t.BoxFit.cover:r=s.width/s.height>i.width/i.height?new n(i.width,i.width*s.height/s.width):new n(i.height*s.width/s.height,i.height),o=s;break;case t.BoxFit.fitWidth:s.width/s.height>i.width/i.height?(r=new n(i.width,i.width*s.height/s.width),o=s):(r=i,o=new n(s.width,r.height*s.width/r.width));break;case t.BoxFit.fitHeight:s.width/s.height>i.width/i.height?(r=i,o=new n(r.width*s.height/r.height,s.height)):(r=new n(i.height*s.width/s.height,i.height),o=s);break;case t.BoxFit.none:r=new n(Math.min(i.width,s.width),Math.min(i.height,s.height)),o=r;break;case t.BoxFit.scaleDown:r=i,o=new n(i.width,i.height);const e=i.width/i.height;o.height>s.height&&(o=new n(s.height*e,s.height)),o.width>s.width&&(o=new n(s.width,s.width/e))}return new An(r,o)};class _n{}class Dn extends _n{constructor(t){var e,i,n,s;super(),this.bottom=null!==(e=null==t?void 0:t.bottom)&&void 0!==e?e:Tn.none,this.left=null!==(i=null==t?void 0:t.left)&&void 0!==i?i:Tn.none,this.right=null!==(n=null==t?void 0:t.right)&&void 0!==n?n:Tn.none,this.top=null!==(s=null==t?void 0:t.top)&&void 0!==s?s:Tn.none}paint(t,e,i,n){this.paintBorders(t,e,i,n,{top:this.top,right:this.right,bottom:this.bottom,left:this.left})}paintBorders(e,i,n,s,r){const{top:o,bottom:a,right:h,left:l}=r;if(s&&!s.isNone()){if((null==o?void 0:o.style)===t.BorderStyle.none||(null==a?void 0:a.style)===t.BorderStyle.none||(null==h?void 0:h.style)===t.BorderStyle.none||(null==l?void 0:l.style)===t.BorderStyle.none)throw new Error("Borders must be none when BorderRadius is not none");const r=o.color||a.color||h.color||l.color;if(o.color!==r||l.color!==r||h.color!==r||a.color!==r)throw new Error("When BorderRadius is not none, all BorderSide colors must be the same");const d=o.dashed||h.dashed||a.dashed||l.dashed;if(o.dashed!==d||h.dashed!==d||a.dashed!==d||l.dashed!==d)throw new Error("When BorderRadius is not none, all BorderSide dashed must be the same");return e.lineWidth=o.width,e.strokeStyle=o.color.rgba,d&&e.setLineDash(o.dashed),e.roundRect(n.x,n.y,i.width,i.height,s.radius),void e.stroke()}(null==o?void 0:o.style)!==t.BorderStyle.none&&(e.beginPath(),e.lineWidth=o.width,e.strokeStyle=o.color.rgba,o.dashed&&e.setLineDash(o.dashed),e.moveTo(n.x,n.y),e.lineTo(n.x+i.width,n.y),0===(null==o?void 0:o.width)?e.stroke():(e.save(),e.fillStyle=o.color.rgba,e.lineTo(n.x+i.width-h.width,n.y+o.width),e.lineTo(n.x+l.width,n.y+o.width),e.fill(),e.restore()),e.closePath()),(null==h?void 0:h.style)!==t.BorderStyle.none&&(e.beginPath(),e.lineWidth=h.width,e.strokeStyle=h.color.rgba,h.dashed&&e.setLineDash(h.dashed),e.moveTo(n.x+i.width,n.y),e.lineTo(n.x+i.width,n.y+i.height),0===(null==h?void 0:h.width)?e.stroke():(e.save(),e.fillStyle=h.color.rgba,e.lineTo(n.x+i.width-h.width,n.y+i.height),e.lineTo(n.x+i.width-h.width,n.y+o.width),e.fill(),e.restore()),e.closePath()),(null==a?void 0:a.style)!==t.BorderStyle.none&&(e.beginPath(),e.lineWidth=a.width,e.strokeStyle=a.color.rgba,a.dashed&&e.setLineDash(a.dashed),e.moveTo(n.x,n.y+i.height),e.lineTo(n.x+i.width,n.y+i.height),0===(null==a?void 0:a.width)?e.stroke():(e.save(),e.fillStyle=a.color.rgba,e.lineTo(n.x+i.width-h.width,n.y+i.height-a.width),e.lineTo(n.x+l.width,n.y+i.height-a.width),e.fill(),e.restore()),e.closePath()),(null==l?void 0:l.style)!==t.BorderStyle.none&&(e.beginPath(),e.lineWidth=l.width,e.strokeStyle=l.color.rgba,l.dashed&&e.setLineDash(l.dashed),e.moveTo(n.x,n.y),e.lineTo(n.x,n.y+i.height),0===(null==l?void 0:l.width)?e.stroke():(e.save(),e.fillStyle=l.color.rgba,e.lineTo(n.x+l.width,n.y+i.height-a.width),e.lineTo(n.x+l.width,n.y+o.width),e.fill(),e.restore()),e.closePath())}static all(t){return new Dn({top:new Tn(t),left:new Tn(t),right:new Tn(t),bottom:new Tn(t)})}static only(t){return new Dn(t)}}class Tn{constructor(t){var e;this.color=null==t?void 0:t.color,this.width=null!==(e=null==t?void 0:t.width)&&void 0!==e?e:1,this.style=null==t?void 0:t.style,this.dashed=null==t?void 0:t.dashed}static get none(){return new Tn({color:new S(0),width:0,style:t.BorderStyle.none})}}class Rn{hitTest(t,e){return!0}}class En{constructor(t){this.onChanged=t}dispose(){}}class kn extends En{constructor(t,e){super(e),this.decoration=t}paintShadow(t,e,n=new i(0,0)){var s,r;if(t.save(),this.decoration.shadows&&this.decoration.shadows.length>0)for(let i=0;i<this.decoration.shadows.length;i++){this.decoration.shadows[i].paint(t),t.fillStyle="white",!this.decoration.borderRadius||(null===(s=this.decoration.borderRadius)||void 0===s?void 0:s.isNone())?t.fillRect(n.x,n.y,e.width-1,e.height-1):(t.roundRect(n.x,n.y,e.width-1,e.height-1,null===(r=this.decoration.borderRadius)||void 0===r?void 0:r.radius),t.fill())}t.restore()}getBackgroundStyle(t){var e,i;if(this.cachedBackgroundPaint)return this.cachedBackgroundPaint;let n;return this.decoration.gradient?n=null===(e=this.decoration.gradient)||void 0===e?void 0:e.createShader(t):this.decoration.backgroundColor&&(n=null===(i=this.decoration.backgroundColor)||void 0===i?void 0:i.rgba),this.cachedBackgroundPaint=n,n}paintBackgroundColor(t,e,i){var n;t.fillStyle=this.getBackgroundStyle(s.merge(i,e)),this.cachedBackgroundPaint&&(t.beginPath(),(null===(n=this.decoration)||void 0===n?void 0:n.borderRadius)&&this.decoration.borderRadius!==Pi.zero?(t.roundRect(i.x,i.y,e.width,e.height,this.decoration.borderRadius.radius),t.fill()):t.fillRect(i.x,i.y,e.width,e.height),t.closePath())}paint(t,e,i){var n;t.save(),this.paintShadow(t,i,e),this.paintBackgroundColor(t,i,e),null===(n=this.decoration.border)||void 0===n||n.paint(t,i,e,this.decoration.borderRadius),t.restore()}debugPaint(t,e,i){this.paint(t,e,i),t.fillStyle="rgba(162, 118, 196,.5)",t.fillRect(e.x,e.y,i.width-1,i.height-1)}}class Ln extends Rn{constructor(e){var i,n,s,r;super(),this.fit=null!==(i=null==e?void 0:e.fit)&&void 0!==i?i:t.BoxFit.none,this.alignment=null!==(n=null==e?void 0:e.alignment)&&void 0!==n?n:mi.center,this.imageProvider=null==e?void 0:e.imageProvider,this.width=null!==(s=null==e?void 0:e.width)&&void 0!==s?s:0,this.height=null!==(r=null==e?void 0:e.height)&&void 0!==r?r:0}createBoxPainter(t){return new zn(this,t)}}class zn extends En{constructor(t,e){super(e),this.sourceRect=s.zero,this.destinationRect=s.zero,this.sourceImageSize=n.zero,this.decoration=t,this.onChanged=e,this.loadImage()}loadImage(){return Fi(this,void 0,void 0,(function*(){try{const{size:t,image:e}=yield this.decoration.imageProvider.load();this._image=e,this.sourceImageSize=t,this.onChanged()}catch(t){throw new a}}))}get width(){return this.sourceImageSize.width}get height(){return this.sourceImageSize.height}layout(t){const e=this.sourceImageSize,i=t,n=Cn(this.decoration.fit,e,i),r=n.source,o=n.destination,a=this.decoration.alignment,h=a.inscribe(o,i),l=a.inscribe(r,e);return this.destinationRect=s.merge(h,o),this.sourceRect=s.merge(l,r),this.destinationRect.size}paint(t,e,i){const n=this.destinationRect.width>i.width||this.destinationRect.height>i.height;t.save(),n&&(t.rect(e.x,e.y,i.width,i.height),t.clip());const s=e.x+this.destinationRect.x,r=e.y+this.destinationRect.y,o=this.sourceRect.x,a=this.sourceRect.y;this._image&&t.drawImage(this._image,o,a,this.sourceRect.width,this.sourceRect.height,s,r,this.destinationRect.width,this.destinationRect.height),t.restore()}debugPaint(t,e,i){t.strokeStyle="#0d7bc1";const n=this.destinationRect.x+e.x,s=this.destinationRect.y+e.y,r=n+this.destinationRect.width,o=s+this.destinationRect.height;t.strokeRect(n,s,this.destinationRect.width,this.destinationRect.height),t.beginPath(),t.moveTo(n,s),t.lineTo(r,o),t.moveTo(r,s),t.lineTo(n,o),t.stroke()}}class Bn{constructor(t){this.lifecycle=t}onLoadStart(){var t,e;null===(e=null===(t=this.lifecycle)||void 0===t?void 0:t.onLoadStart)||void 0===e||e.call(t)}onLoadEnd(t){var e,i;null===(i=null===(e=this.lifecycle)||void 0===e?void 0:e.onLoadEnd)||void 0===i||i.call(e,t)}onError(t){var e,i;null===(i=null===(e=this.lifecycle)||void 0===e?void 0:e.onError)||void 0===i||i.call(e,t)}onProgress(t){var e,i;null===(i=null===(e=this.lifecycle)||void 0===e?void 0:e.onProgress)||void 0===i||i.call(e,t)}}class Wn extends Bn{constructor(t){super(null==t?void 0:t.lifecycle),this.configuration=t,this._cachedImagePayload=null}get loadStrategy(){return w.instance.strategies.getImageStrategy()}get loadAssetsStrategy(){return w.instance.strategies.getAssetsImageStrategy()}createStream(){return this.loadStrategy.loadBuffer(this.configuration)}load(){return Fi(this,void 0,void 0,(function*(){return this.loadingPromise||(this.loadingPromise=new Promise(((t,e)=>Fi(this,void 0,void 0,(function*(){try{if(this._cachedImagePayload)return t(this._cachedImagePayload);this.onLoadStart();const e=yield this.performLoad();this.onLoadEnd(e),this._cachedImagePayload=e,t(e)}catch(t){this.onError(t),e(null)}}))))),this.loadingPromise}))}loadBuffer(){return this.createStream()}getImageSize(t){return this.loadStrategy.getImageSize(t,this.configuration)}}class On extends Wn{performLoad(){return Fi(this,void 0,void 0,(function*(){const t=this.loadBuffer();let e=0;const i=[];yield t.forEach((t=>{const n=t.value;n&&!t.done?(e+=n.length,this.onProgress(t.progress),i.push(n)):t.error&&this.onError(t.error)}));const n=new Uint8Array(e);let s=0;for(const t of i)n.set(t,s),s+=t.length;return{size:yield this.getImageSize(n),image:yield this.loadStrategy.load(this.configuration,n)}}))}}class Mn extends Wn{constructor({assetsImageUrl:t,lifecycle:e}){super({lifecycle:e}),this._assetsImageUrl=t}performLoad(){return Fi(this,void 0,void 0,(function*(){const t="function"==typeof this._assetsImageUrl?this._assetsImageUrl():this._assetsImageUrl,e=t instanceof Promise?yield t:t,i=yield this.loadAssetsStrategy.load({url:e});return{size:yield this.loadAssetsStrategy.getImageSize(i,{url:e}),image:i}}))}}class Hn extends Dt{constructor(t){super(t),this._imageLoaded=!1,this.imageSource=t.imageDecorationArgs,this._placeholderBuilder=t.placeholderBuilder}mount(t,e){super.mount(t,e),this._renderPlaceholder(),this._loadImage()}_renderPlaceholder(){if(this._placeholderBuilder){const t=this._placeholderBuilder(this);this.updateChild(null,t)}}onLoadImageChanged(t){this.mounted&&(this._imageLoaded=!0,this._decorationPainter=t,this.renderView.decorationPainter=t,this.updateChild(this.child,null),this.renderView.markNeedsLayout())}_loadImage(){return Fi(this,void 0,void 0,(function*(){const t=new Ln(this.imageSource),e=new zn(t,(()=>this.onLoadImageChanged(e)))}))}}class Nn extends ue{constructor(t){super(),this.width=null==t?void 0:t.width,this.height=null==t?void 0:t.height}set width(t){t!==this._width&&(this._width=t,this.markNeedsLayout())}set height(t){t!==this._height&&(this._height=t,this.markNeedsLayout())}set decorationPainter(t){this._decorationPainter=t,this.markNeedsLayout()}get decorationPainter(){return this._decorationPainter}performLayout(){var t,e,i,s;if(super.performLayout(),this.decorationPainter){const r=new n(null!==(e=null!==(t=this._width)&&void 0!==t?t:this.decorationPainter.width)&&void 0!==e?e:0,null!==(s=null!==(i=this._height)&&void 0!==i?i:this.decorationPainter.height)&&void 0!==s?s:0);this.size=this.constraints.tighten(this._width,this._height).constrainSizeAndAttemptToPreserveAspectRatio(r),this.decorationPainter.layout(this.size)}else this.child?(this.child.layout(this.constraints,!0),this.size=this.child.size):this.size=this.constraints.constrain(n.zero)}render(t,e){var i;null===(i=this.decorationPainter)||void 0===i||i.paint(t.paint,e,this.size),this.decorationPainter||super.render(t,e)}debugRender(t,e){var i;null===(i=this.decorationPainter)||void 0===i||i.debugPaint(t.paint,e,this.size),super.debugRender(t,e)}}class In{constructor(t,e){this.start=t,this.end=e}static get zero(){return new In(-1,-1)}static get empty(){return new In(-1,-1)}get single(){return this.start===this.end}}class Fn extends In{constructor(t,e){super(t,e),this.baseOffset=t,this.extentOffset=e}static fromPosition(t){return new Fn(t.x,t.y)}static get empty(){return new Fn(-1,-1)}}class jn{constructor(t){this._focused=!1,this.client=t}get focused(){return this._focused}get attached(){return Un.instance.currentConnection===this}show(){Un.instance.show(),this._focused=!0}close(){Un.instance.close(),this._focused=!1}setSelection(t){Un.instance.selectionHandler(t)}}class Vn extends xt{focus(){console.warn("Focus not implemented")}blur(){console.warn("Blur not implemented")}selectionHandler(t){console.warn("Input not implemented")}updateEditingValue(t,e,i){}}class Un extends Vn{get currentConfig(){return this._currentConfig}get currentConnection(){return this._currentConnection}static get instance(){return!this._instance&&(this._instance=new Un),this._instance}static attach(t,e){const i=new jn(t);return Un.instance._attach(i,e),i}_attach(t,e){this._currentConfig=e,this._currentConnection=t}static removeClient(){this._instance._currentConfig=null,this._instance._currentConnection=null}show(){this.focus()}close(){this.blur()}updateEditingValue(t,e,i){var n;if(null===(n=this.currentConnection)||void 0===n?void 0:n.attached){const n=new Gn(t,new Fn(e,i));this._currentConnection.client.updateEditingValue(n)}}}class Gn{constructor(t,e){this.value=t,this.selection=e}}class Zn extends ue{get textPainter(){return this._textPainter}set textPainter(t){this._textPainter=t,super.markNeedsLayout()}constructor(t,e,i){super(),this.selection=Fn.empty,this._editingConnection=t,this.indicatorPainter=e,this.textPainter=i}dropChild(t){super.dropChild(t),this.onTap=new en,this.onTap.onTapDown=this.handleTapDown.bind(this),this.onDrag=new rn}handleDragStart(t){}handleDragUpdate(t){const i=t.position,n=this.textPainter.getTextPointForOffset(i);if(!n)return;let s=n.parentData.index;this.selection=Fn.fromPosition(new e(this.selection.baseOffset,s))}handleDragEnd(t){}get isRepaintBoundary(){return!1}handleTapDown(t){if(!this.parentData)return;const e=t.position,i=this.getTransformTo().inverted(),n=ie.transformPoint(i,e),s=this.textPainter.getTextPointForOffset(n);if(!s)return;let r=s.parentData.index;this._editingConnection.show();const o=s.parentData.box;!this.isRightIndicator(o,n)&&(r=Math.max(0,r-1));const a=new Fn(r,r);this._editingConnection.setSelection(a);const[h]=this.textPainter.getTextBoxesForRange(a);h&&this.handleUpdateIndicatorPositionByRect(h,n)}isRightIndicator(t,e){const i=.5*t.width;return e.x-t.x>i}handleUpdateIndicatorPositionByRect(t,e){const i=.5*t.width,n=t.offset;e.x-t.x>i&&(n.x=t.right),this.indicatorPainter.offset=n,this.indicatorPainter.height=t.height}handleEvent(t,e){super.handleEvent(t,e),t instanceof Gt&&(this.onTap.addPointer(t),this.onDrag.addPointer(t))}performLayout(){!this.hightLightPainter&&(this.hightLightPainter=new Xn(this.textPainter),this.hightLightPainter.addListener((()=>{this.markNeedsPaint()})),this.indicatorPainter.addListener((()=>{this.markNeedsPaint()}))),this.textPainter.layout(this.constraints.minWidth,this.constraints.maxWidth);const t=this.textPainter.size;this.size=this.constraints.constrain(t)}render(e,i){var n,s;e.paint&&(this.needClip?e.clipRectAndPaint(t.Clip.antiAlias,{x:null!==(n=null==i?void 0:i.x)&&void 0!==n?n:0,y:null!==(s=null==i?void 0:i.y)&&void 0!==s?s:0,width:this.size.width,height:this.size.height},(()=>{this.hightLightPainter.render(null==e?void 0:e.paint,this.size),this.textPainter.paint(null==e?void 0:e.paint,i),this.indicatorPainter.render(null==e?void 0:e.paint,this.size)})):(this.hightLightPainter.render(null==e?void 0:e.paint,this.size),this.textPainter.paint(null==e?void 0:e.paint,i),this.indicatorPainter.parentOffset=i,this.indicatorPainter.render(null==e?void 0:e.paint,this.size)),super.render(e,i))}debugRender(e,i){var n,s;e.paint&&(this.needClip?e.clipRectAndPaint(t.Clip.antiAlias,{x:null!==(n=null==i?void 0:i.x)&&void 0!==n?n:0,y:null!==(s=null==i?void 0:i.y)&&void 0!==s?s:0,width:this.size.width,height:this.size.height},(()=>{this.hightLightPainter.render(null==e?void 0:e.paint,this.size),this.textPainter.paint(null==e?void 0:e.paint,i,!0),this.indicatorPainter.render(null==e?void 0:e.paint,this.size)})):(this.hightLightPainter.render(null==e?void 0:e.paint,this.size),this.textPainter.paint(null==e?void 0:e.paint,i,!0),this.indicatorPainter.parentOffset=i,this.indicatorPainter.render(null==e?void 0:e.paint,this.size)))}}class Xn extends Ji{constructor(t){super(),this._textRange=In.zero,this._hightLightColor=A.blue.withOpacity(.5),this.textPainter=t}set textRange(t){this._textRange=t,this.notifyListeners()}get textRange(){return this._textRange}render(t,e){const i=this.textPainter.getTextBoxesForRange(new Fn(this.textRange.start,this.textRange.end));t.save(),t.fillStyle=this._hightLightColor.rgba,i.forEach((e=>{const i=e;t.fillRect(i.x,i.y,i.width,i.height)})),t.restore()}}class Yn extends Rt{constructor(t){super(null,null==t?void 0:t.key),this.editingConnection=null==t?void 0:t.editingConnection,this.indicatorPainter=null==t?void 0:t.indicatorPainter,this.textPainter=null==t?void 0:t.textPainter}createRenderObject(t){return new Zn(this.editingConnection,this.indicatorPainter,this.textPainter)}updateRenderObject(t,e){e.textPainter=this.textPainter}}class qn extends Ct{constructor(){super(...arguments),this.indicatorPainter=new Kn,this.text=""}initState(){super.initState(),this.editingConnection=Un.attach(this,null),this.textPainter=new rt(this.textSpan)}updateEditingValue(t){var e,i;if(!this.mounted)return;this.setState((()=>{this.text=t.value,this.textPainter=new rt(this.textSpan)}));let n=t.selection;if(n.single){const[t]=null!==(i=null===(e=this.textPainter)||void 0===e?void 0:e.getTextBoxesForRange(n))&&void 0!==i?i:[];this.handleUpdateIndicatorPosition(t,n)}}handleUpdateIndicatorPosition(t,e){this.setState((()=>{null!=t||(t=s.zero);const i=e.baseOffset,n=t.offset;-1!==i&&(n.x+=t.width),this.indicatorPainter.offset=n,this.indicatorPainter.height=t.height}))}get textSpan(){return new st({text:this.text,textStyle:new Y({fontSize:15,textAlign:t.TextAlign.justify})})}build(t){return new Yn({editingConnection:this.editingConnection,textPainter:this.textPainter,indicatorPainter:this.indicatorPainter})}}class Kn extends Ji{set parentOffset(t){this._parentOffset=t}set color(t){this._color=t,this.notifyListeners()}set thickness(t){this._thickness=t,this.notifyListeners()}set offset(t){this._offset=t,this.notifyListeners()}set height(t){this._height=t,this.notifyListeners()}constructor(){super(),this._color=A.black,this._thickness=2,this._offset=e.zero,this._height=13,this._parentOffset=e.zero,this.animationController=new qe({duration:new Fe({milliseconds:500})})}show(){}hide(){}render(t,e){t.fillStyle=this._color.rgba;const i=this._parentOffset.add(this._offset);t.fillRect(i.x,i.y,this._thickness,this._height)}}class Jn{constructor(t){this._type=t}get type(){return this._type}contains(t){return!0}}class Qn extends Jn{constructor(t,e,i,n){super("rect"),this.x=t,this.y=e,this.width=i,this.height=n}render(t,e){t.rect(this.x,this.y,this.width,this.height)}}class $n extends Jn{constructor(t,e,i,n,s,r){super("arc"),this.x=t,this.y=e,this.radius=i,this.startAngle=n,this.endAngle=s,this.anticlockwise=r}render(t,e){t.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}}class ts extends Jn{constructor(t,e){super("lineTo"),this.x=t,this.y=e}render(t,e){t.lineTo(this.x,this.y)}}class es extends Jn{constructor(t,e,i,n,s){super("arcTo"),this.x1=t,this.y1=e,this.x2=i,this.y2=n,this.radius=s}render(t,e){t.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}}class is extends Jn{constructor(t,e){super("moveTo"),this.x=t,this.y=e}render(t,e){t.lineTo(this.x,this.y)}}class ns{constructor(){this._paths=new Map}get _currentPathCount(){return this._paths.size}rect(t,e,i,n){this._paths.set(this._currentPathCount,new Qn(t,e,i,n))}arc(t,e,i,n,s,r){this._paths.set(this._currentPathCount,new $n(t,e,i,n,s,r))}lineTo(t,e){this._paths.set(this._currentPathCount,new ts(t,e))}moveTo(t,e){this._paths.set(this._currentPathCount,new is(t,e))}arcTo(t,e,i,n,s){this._paths.set(this._currentPathCount,new es(t,e,i,n,s))}get paths(){return Array.from(this._paths.values())}hitTest(t,e){return!0}render(t,e){t.beginPath(),this.paths.forEach((i=>{i.render(t,e)})),t.closePath()}}class ss extends ue{constructor(e){super(),this._clipBehavior=t.Clip.antiAlias,this.clipper=null==e?void 0:e.clipper,this._clipBehavior=null==e?void 0:e.clipBehavior,this.markNeedsRePaintBind=this.markNeedsPaint.bind(this)}set clipper(t){var e,i;null===(e=this._clipper)||void 0===e||e.removeListener(this.markNeedsRePaintBind),this._clipper=t,null===(i=this._clipper)||void 0===i||i.addListener(this.markNeedsRePaintBind),this.markNeedsPaint()}get clipBehavior(){return this._clipBehavior}get defaultPath(){return null}updateClip(t){var e;!this._clipper&&(this.clip=this.defaultPath),this.clip=null===(e=this._clipper)||void 0===e?void 0:e.getClip(t,this.size)}set clipBehavior(t){this._clipBehavior=t,this.markNeedsPaint()}}class rs extends ss{get defaultPath(){const t=new ns;return t.rect(0,0,this.size.width,this.size.height),t}render(t,e){var i,n,s;this.child&&(this.updateClip(e),t.paint,t.clipPath(this.clipBehavior,{x:null!==(i=null==e?void 0:e.x)&&void 0!==i?i:0,y:null!==(n=null==e?void 0:e.y)&&void 0!==n?n:0,width:this.size.width,height:this.size.height},null!==(s=this.clip)&&void 0!==s?s:this.defaultPath,(()=>{super.render(t,e)})))}}class os extends Rt{constructor(t){var e;super(null==t?void 0:t.child,t.key),this._transform=null!==(e=t.transform)&&void 0!==e?e:lt.zero,this.origin=t.origin,this.alignment=t.alignment}createRenderObject(){return new as({transform:this._transform,origin:this.origin,alignment:this.alignment})}updateRenderObject(t,e){e.transform=this._transform,e.origin=this.origin,e.alignment=this.alignment}static rotate(t){const{angleX:e,angleY:i,angle:n}=t,s=lt.zero.identity();return n&&s.rotateZ(n),i&&s.rotateY(i),e&&s.rotateX(e),new os({child:null==t?void 0:t.child,transform:s,alignment:null==t?void 0:t.alignment,origin:null==t?void 0:t.origin})}static translate(t){const{x:e,y:i}=t,n=lt.zero.identity();return n.translate(e,i),new os({transform:n,child:null==t?void 0:t.child})}static skew(t){const{skewX:e=0,skewY:i=0}=t,n=lt.skew(e,i);return new os({child:null==t?void 0:t.child,transform:n})}static scale(t){const{scaleX:e=1,scaleY:i=1,scale:n,origin:s,alignment:r}=t,o=lt.zero;return o.scale(e,i),n&&o.scale(n,n),o.setValue(15,1),new os({child:null==t?void 0:t.child,transform:o,alignment:r,origin:s})}}class as extends ue{set alignment(t){this._alignment=t,this.markNeedsPaint()}get alignment(){return this._alignment}set origin(t){this._origin=t,this.markNeedsPaint()}get origin(){return this._origin}set transform(t){this._transform=t,this.markNeedsPaint()}get transform(){return this._transform}constructor(t){super(null==t?void 0:t.child),this._transform=lt.zero,this.transform=null==t?void 0:t.transform}render(t,e){if(this.child){const n=ie.getAsTranslation(this.effectiveTransform);null==n||i.zero.equals(n)?t.pushTransform(e,this.effectiveTransform,(()=>{t.paintChild(this.child,e)})):super.render(t,n.add(e))}}hitTest(t,e){return this.hitTestChildren(t,e)}hitTestChildren(t,e){var i;const n=null===(i=this.child)||void 0===i?void 0:i.parentData,s=this.effectiveTransform.inverted();if(n){const i=ie.transformPoint(s,e);return this.child.hitTest(t,i)}return!1}get originTransform(){const t=lt.zero.identity(),e=this.alignment,n=this.origin;let s=i.zero;return n||e?(n&&t.translate(n.x,n.y),e&&(s=e.alongSize(this.size).toVector(),t.translate(s.x,s.y)),t):t}get effectiveTransform(){const t=lt.zero.identity(),e=lt.zero.setMatrix([...this.transform.matrix]),n=this.alignment,s=this.origin;let r=i.zero;return s||n?(s&&t.translate(s.x,s.y),n&&(r=n.alongSize(this.size).toVector(),t.translate(r.x,r.y)),t.multiply(e),n&&t.translate(-r.x,-r.y),s&&t.translate(-s.x,-s.y),t):e}applyPaintTransform(t,e){e.multiply(this.effectiveTransform)}}class hs extends xe{constructor(e){const{children:i,alignment:n,fit:s,clipBehavior:r}=e;super(i),this._fit=t.StackFit.loose,this._alignment=mi.topLeft,this._clipBehavior=t.Clip.none,this.alignment=null!=n?n:this.alignment,this.fit=null!=s?s:this.fit,this.clipBehavior=null!=r?r:this._clipBehavior}get alignment(){return this._alignment}set alignment(t){t!==this._alignment&&(this._alignment=t,this.markNeedsLayout())}set clipBehavior(t){t!==this._clipBehavior&&(this._clipBehavior=t,this.markNeedsLayout())}get fit(){return this._fit}get clipBehavior(){return this._clipBehavior}set fit(t){t!==this._fit&&(this._fit=t,this.markNeedsLayout())}computeSize(e){let i=u.zero,s=!1;switch(this.fit){case t.StackFit.loose:i=new u({maxWidth:e.maxWidth,maxHeight:e.maxHeight});break;case t.StackFit.expand:i=new u({minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.minWidth,maxHeight:e.minHeight});case t.StackFit.passthrough:i=e}let r=e.minWidth,o=e.minHeight,a=this.firstChild;for(;null!=a;){const t=a.parentData;if(!t.isPositioned){s=!0,a.layout(i,!0);const t=a.size;r=Math.max(r,t.width),o=Math.max(o,t.height)}a=t.nextSibling}return s?new n(r,o):e.constrain(n.zero)}performLayout(){this.size=this.computeSize(this.constraints);let t=this.firstChild;for(;null!=t;){const e=t.parentData;e.isPositioned?this.layoutPositionedChild(t,e,this.size,this.alignment):e.offset=this.alignment.inscribe(t.size,this.size),t=e.nextSibling}}layoutPositionedChild(t,e,n,s){let r=u.zero;null!=e.left&&null!=e.right?r=r.tighten(n.width-e.right-e.left):null!=e.width&&(r=r.tighten(e.width)),null!=e.top&&null!=e.bottom?r=r.tighten(null,n.height-e.top-e.bottom):null!=e.height&&(r=r.tighten(null,e.height)),t.layout(r,!0);let o=0;o=null!=e.left?e.left:null!=e.right?n.width-e.right-t.size.width:s.inscribe(t.size,n).x;let a=0;a=null!=e.top?e.top:null!=e.bottom?n.height-e.bottom-t.size.height:s.inscribe(t.size,n).y,e.offset=new i(o,a)}setupParentData(t){t.parentData=new ls}render(e,i){this.clipBehavior!==t.Clip.none?e.clipRectAndPaint(this.clipBehavior,s.merge(i,this.size),(()=>super.render(e,i))):super.render(e,i)}debugRender(e,i){this.clipBehavior!==t.Clip.none?e.clipRectAndPaint(this.clipBehavior,s.merge(i,this.size),(()=>super.debugRender(e,i))):super.debugRender(e,i)}}class ls extends le{get isPositioned(){return null!=this.top||null!=this.right||null!=this.bottom||null!=this.left||null!=this.width||null!=this.height}}class ds{constructor(t,e,i){this.mainAxisExtent=0,this.crossAxisExtent=0,this.childCount=0,this.mainAxisExtent=t,this.crossAxisExtent=e,this.childCount=i}}class cs extends le{constructor(){super(...arguments),this.runIndex=0}}class us extends xe{constructor(e){var i,n,s,r,o,a;super(),this._direction=t.Axis.horizontal,this._spacing=0,this._runSpacing=0,this._alignment=t.WrapAlignment.start,this._runAlignment=t.WrapAlignment.start,this._crossAxisAlignment=t.WrapCrossAlignment.start,this.direction=null!==(i=null==e?void 0:e.direction)&&void 0!==i?i:t.Axis.horizontal,this.spacing=null!==(n=null==e?void 0:e.spacing)&&void 0!==n?n:0,this.runSpacing=null!==(s=null==e?void 0:e.runSpacing)&&void 0!==s?s:0,this.alignment=null!==(r=null==e?void 0:e.alignment)&&void 0!==r?r:t.WrapAlignment.start,this.runAlignment=null!==(o=null==e?void 0:e.runAlignment)&&void 0!==o?o:t.WrapAlignment.start,this.crossAxisAlignment=null!==(a=null==e?void 0:e.crossAxisAlignment)&&void 0!==a?a:t.WrapCrossAlignment.start}get direction(){return this._direction}set direction(t){this._direction!==t&&(this._direction=t,this.markNeedsLayout())}get spacing(){return this._spacing}set spacing(t){this._spacing!==t&&(this._spacing=t,this.markNeedsLayout())}get runSpacing(){return this._runSpacing}set runSpacing(t){this._runSpacing!==t&&(this._runSpacing=t,this.markNeedsLayout())}get alignment(){return this._alignment}set alignment(t){this._alignment!==t&&(this._alignment=t,this.markNeedsLayout())}get runAlignment(){return this._runAlignment}set runAlignment(t){this._runAlignment!==t&&(this._runAlignment=t,this.markNeedsLayout())}get crossAxisAlignment(){return this._crossAxisAlignment}set crossAxisAlignment(t){this._crossAxisAlignment!==t&&(this._crossAxisAlignment=t,this.markNeedsLayout())}getMainAxisExtent(e){return this.direction===t.Axis.horizontal?e.width:this.direction===t.Axis.vertical?e.height:void 0}getOffset(e,n){switch(this.direction){case t.Axis.horizontal:return new i(e,n);case t.Axis.vertical:return new i(n,e)}}getCrossAxisExtent(e){return this.direction===t.Axis.horizontal?e.height:this.direction===t.Axis.vertical?e.width:void 0}getChildCrossAxisOffset(e,i){const n=e-i;switch(this.crossAxisAlignment){case t.WrapCrossAlignment.start:return 0;case t.WrapCrossAlignment.end:return n;case t.WrapCrossAlignment.center:return n/2}}performLayout(){const e=this.constraints;let i=u.zero,s=0;switch(this.direction){case t.Axis.horizontal:i=new u({maxWidth:e.maxWidth}),s=e.maxWidth;break;case t.Axis.vertical:i=new u({maxHeight:e.maxHeight}),s=e.maxHeight}let r=this.firstChild,o=0,a=0,h=0,l=0,d=0;const c=[];for(;r;){r.layout(i,!0);const t=r.size,e=this.getMainAxisExtent(t),n=this.getCrossAxisExtent(t);d>0&&h+e+this.spacing>s&&(o+=h,a+=l+this.runSpacing,c.push(new ds(h,l,d)),h=0,l=0,d=0),h+=e,l=Math.max(l,n),d>0&&(h+=this.spacing),d+=1;const u=r.parentData;u.runIndex=c.length,r=u.nextSibling}d>0&&(o+=h,a+=l,c.push(new ds(h,l,d)));let p=0,g=0;this.direction===t.Axis.horizontal?(this.size=e.constrain(new n(o,a)),p=this.size.width,g=this.size.height):this.direction===t.Axis.vertical&&(this.size=e.constrain(new n(a,o)),p=this.size.height,g=this.size.width);const m=c.length,x=Math.max(0,g-a);let f=0,v=0;switch(this.runAlignment){case t.WrapAlignment.start:break;case t.WrapAlignment.end:f=x;break;case t.WrapAlignment.center:f=.5*x;break;case t.WrapAlignment.spaceBetween:v=x/(m-1);break;case t.WrapAlignment.spaceAround:v=x/m,f=.5*v;break;case t.WrapAlignment.spaceEvenly:v=x/(m+1),f=v}v+=this.runSpacing;let w=f;r=this.firstChild;for(let e=0;e<m;e++){const i=c[e],n=i.mainAxisExtent,s=i.crossAxisExtent,o=i.childCount,a=Math.max(0,p-n);let h=0,l=0;switch(this.alignment){case t.WrapAlignment.start:break;case t.WrapAlignment.end:h=a;break;case t.WrapAlignment.center:h=.5*a;break;case t.WrapAlignment.spaceBetween:l=a/(o-1);break;case t.WrapAlignment.spaceAround:l=a/o,h=.5*l;break;case t.WrapAlignment.spaceEvenly:l=a/(o+1),h=l}l+=this.spacing;let d=h;for(;r;){const t=r.parentData;if(t.runIndex!==e)break;const i=r.size,n=this.getMainAxisExtent(i),o=this.getCrossAxisExtent(i),a=this.getChildCrossAxisOffset(s,o),h=this.getOffset(d,w+a);d+=n,d+=l,t.offset=h,r=t.nextSibling}w+=s+v}}applyPerformChild(){return n.zero}setupParentData(t){t.parentData=new cs}}class ps extends ue{constructor(t){super();const{text:e}=t;this.text=e}set text(t){var e;this._text!==t&&(null===(e=this._text)||void 0===e?void 0:e.text)!==(null==t?void 0:t.text)&&(this._text=t,this.markNeedsLayout(),this.markNeedsPaint())}get text(){return this._text}performLayout(){this.textPainter=new rt(this.text),this.textPainter.layout(this.constraints.minWidth,this.constraints.maxWidth);const e=this.textPainter.size;switch(this.size=this.constraints.constrain(e),this.text.style.getTextStyle().overflow){case t.TextOverflow.clip:this.needClip=e.height>this.size.height||e.width>this.size.width;case t.TextOverflow.ellipsis:case t.TextOverflow.visible:}}render(e,i){var n,s;e.paint&&(this.needClip?e.clipRectAndPaint(t.Clip.antiAlias,{x:null!==(n=null==i?void 0:i.x)&&void 0!==n?n:0,y:null!==(s=null==i?void 0:i.y)&&void 0!==s?s:0,width:this.size.width,height:this.size.height},(()=>{this.textPainter.paint(null==e?void 0:e.paint,i)})):this.textPainter.paint(null==e?void 0:e.paint,i))}debugRender(e,i){var n,s;this.needClip?e.clipRectAndPaint(t.Clip.antiAlias,{x:null!==(n=null==i?void 0:i.x)&&void 0!==n?n:0,y:null!==(s=null==i?void 0:i.y)&&void 0!==s?s:0,width:this.size.width,height:this.size.height},(()=>{this.textPainter.paint(e.paint,i,!0),e.paintDefaultDebugBoundary(i,this.size)})):this.textPainter.paint(e.paint,i,!0),super.debugRender(e,i)}}class gs extends ue{constructor(t){super(),this._opacity=t.opacity}set opacity(t){this.opacity!=t&&(this._opacity=t,this.markNeedsPaint())}get opacity(){return this._opacity}render(t,e){t.paint.save(),t.paint.globalAlpha=this.opacity,super.render(t,e),t.paint.restore()}}class ms{get gradientStrategy(){return w.instance.strategies.getGradientStrategy()}constructor(t,e=[],i){if(this.colors=t,this.stops=e,this.transform=i,!t||0===(null==t?void 0:t.length))throw new Error("colors can not be empty")}initGradient(t){var e;const i=this.colors,n=this.stops,s=1/Math.max(i.length-1,1),r=Math.max(i.length,n.length);for(let o=0;o<r;o++){const r=null==i?void 0:i[o],a=null!==(e=null==n?void 0:n[o])&&void 0!==e?e:o*s;r&&t.addColorStop(a,r.rgba)}}}class xs extends Ht{adapter(t,i){if(i instanceof MouseEvent||i instanceof WheelEvent){let t=0;return i instanceof WheelEvent&&(t=i.deltaY||0),new Ot({pointer:new Wt({pointer:new e(i.clientX,i.clientY),identifier:1}),pointers:[],deltaY:t})}const n="touchend"===t?i.changedTouches:i.touches;return new Ot({pointer:new Wt({pointer:e.zero,identifier:1}),pointers:Array.from(n).map(((t,i)=>new Wt({pointer:new e(t.clientX,t.clientY),identifier:i})))})}performBindingHandler(){/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent)?(window.addEventListener("touchstart",(t=>{this.applyEvent("touchstart",t)})),window.addEventListener("touchmove",(t=>{this.applyEvent("touchmove",t)})),window.addEventListener("touchend",(t=>{this.applyEvent("touchend",t)})),window.addEventListener("touchcancel",(t=>{this.applyEvent("touchcancel",t)}))):(window.addEventListener("mousedown",(t=>{this.applyEvent("mousedown",t)})),window.addEventListener("mousemove",(t=>{this.applyEvent("mousemove",t)})),window.addEventListener("mouseup",(t=>{this.applyEvent("mouseup",t)})),window.addEventListener("mousedown",(t=>{this.applyEvent("mousedown",t)})),window.addEventListener("wheel",(t=>{this.applyEvent("wheel",t)})))}}class fs{constructor(t){this.generator=t}static fromArray(t){return new vs(function*(){for(let e of t)yield e}())}static withAsync(t){return new ws(t)}[Symbol.iterator](){return this.generator}}class vs extends fs{map(t){return new vs(function*(){for(let e of this.generator)yield t(e)}())}forEach(t){for(let e of this.generator)t(e)}filters(t){return new vs(function*(){for(let e of this.generator)t(e)&&(yield e)}())}}class ws extends fs{constructor(t){super(t)}static fromArray(t){return new ws(function(){return Ui(this,arguments,(function*(){for(let e of t)yield yield Vi(e)}))}())}map(t){return new ws(function(){return Ui(this,arguments,(function*(){var e,i,n,s;try{for(var r,o=!0,a=Gi(this.generator);!(e=(r=yield Vi(a.next())).done);){s=r.value,o=!1;try{let e=s;yield yield Vi(t(e))}finally{o=!0}}}catch(t){i={error:t}}finally{try{o||e||!(n=a.return)||(yield Vi(n.call(a)))}finally{if(i)throw i.error}}}))}())}forEach(t){var e,i,n,s;return Fi(this,void 0,void 0,(function*(){try{for(var r,o=!0,a=Gi(this.generator);r=yield a.next(),!(e=r.done);){s=r.value,o=!1;try{t(s)}finally{o=!0}}}catch(t){i={error:t}}finally{try{o||e||!(n=a.return)||(yield n.call(a))}finally{if(i)throw i.error}}}))}filters(t){return new ws(function(){return Ui(this,arguments,(function*(){var e,i,n,s;try{for(var r,o=!0,a=Gi(this.generator);!(e=(r=yield Vi(a.next())).done);){s=r.value,o=!1;try{let e=s;(yield Vi(t(e)))&&(yield yield Vi(e))}finally{o=!0}}}catch(t){i={error:t}}finally{try{o||e||!(n=a.return)||(yield Vi(n.call(a)))}finally{if(i)throw i.error}}}))}())}[Symbol.asyncIterator](){return this.generator}}class ys{}class bs extends ys{}class Ps extends ys{get painterInstance(){return w.instance.painter}}class Ss extends Ps{createLinearGradient(t,e){return this.painterInstance.createLinearGradient(t.x,t.y,e.x,e.y)}createRadialGradient(t,e){return this.painterInstance.createRadialGradient(t.x,t.y,0,t.x,t.y,e)}createConicGradient(t,e){return this.painterInstance.createConicGradient(e,t.x,t.y)}}class As extends ys{}class Cs extends ys{}class _s extends bs{load(t,e){return Fi(this,void 0,void 0,(function*(){return yield yield createImageBitmap(new Blob([e]))}))}loadBuffer(t){return new ws(function(){var e;return Ui(this,arguments,(function*(){const i=new AbortController,n=i.signal;try{const i=yield Vi(fetch(t.url,{headers:t.headers,signal:n})),s=parseInt(null!==(e=i.headers.get("content-length"))&&void 0!==e?e:"-1"),r=i.body.getReader();yield Vi(yield*function(t){var e,i;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,s){e[n]=t[n]?function(e){return(i=!i)?{value:Vi(t[n](e)),done:!1}:s?s(e):e}:s}}(Gi(function(t,e){return Ui(this,arguments,(function*(){let i=0;for(;;){const{done:n,value:s}=yield Vi(t.read());if(n)break;const r=(i+=s.length)/e,o={value:s,total:e,error:null,progress:r,done:n};yield yield Vi(o)}}))}(r,s))))}catch(t){i.abort(),yield yield Vi({value:null,total:0,error:t,progress:0,done:!0})}}))}())}getImageSize(t){const e=new Image;return new Promise((i=>{e.onload=()=>i(new n(e.width,e.height));const s=new Blob([t]),r=URL.createObjectURL(s);e.src=r}))}}class Ds extends As{load(t){return Fi(this,void 0,void 0,(function*(){return new Promise(((e,i)=>{const n=new Image;n.src=t.url,n.crossOrigin="anonymous",n.onload=()=>{e(n)},n.onerror=t=>{i(null)}}))}))}getImageSize(t,e){return new Promise((e=>e(new n(t.width,t.height))))}}class Ts{constructor(){this.initialization()}initialization(){this.handleBindEventsHandler()}}class Rs extends Cs{getPainter(t){return new g(t)}}t.Align=xi,t.AlignRenderView=fi,t.Alignment=mi,t.AnimationController=qe,t.ArcPath=$n,t.ArcToPath=es,t.AssetsImageProvider=Mn,t.Binding=He,t.BindingBase=xt,t.Border=Dn,t.BorderRadius=Pi,t.BorderSide=Tn,t.BouncingScrollPhysics=class extends Ni{applyBoundaryConditions(t,e){return 0}applyPhysicsToUserOffset(t,e){if(!t.outOfRange)return e;let i=0;return t.pixels<t.minScrollExtent?i=t.minScrollExtent-t.pixels:t.pixels>t.maxScrollExtent&&(i=t.pixels-t.maxScrollExtent),e*Math.pow(.15,i/t.viewportDimension)*.52}createBallisticSimulation(t,e){return Math.abs(e)>20?new $e(t.pixels,t.maxScrollExtent,t.minScrollExtent,e):null}},t.BouncingSimulation=$e,t.BoxBorder=_n,t.BoxConstraints=u,t.BoxDecoration=class extends Rn{constructor(t){if(super(),this.border=null==t?void 0:t.border,this.borderRadius=null==t?void 0:t.borderRadius,this.backgroundColor=null==t?void 0:t.backgroundColor,this.shadows=null==t?void 0:t.shadows,this.gradient=null==t?void 0:t.gradient,this.border&&!(this.border instanceof _n))throw new Error("border is not a instance of BoxBorder");if(this.borderRadius&&!(this.borderRadius instanceof Pi))throw new Error("borderRadius is not a instance of BorderRadius")}createBoxPainter(t){return new kn(this,t)}},t.BoxDecorationRenderView=bi,t.BoxPainter=En,t.BoxShadow=class{constructor(t){this.shadow=t}paint(t){t.setShadow(this.shadow)}},t.BuildContext=ut,t.BuildOwner=ct,t.Center=class extends xi{constructor(t){super(Object.assign(Object.assign({},t),{alignment:mi.center}))}},t.ChangeNotifier=Ie,t.ClipPath=class extends Rt{constructor(t){super(null==t?void 0:t.child,null==t?void 0:t.key),this.clipper=null==t?void 0:t.clipper,this.clipBehavior=null==t?void 0:t.clipBehavior}createRenderObject(){return new rs({clipper:this.clipper,clipBehavior:this.clipBehavior})}updateRenderObject(t,e){e.clipper=this.clipper,e.clipBehavior=this.clipBehavior}},t.ClipPathRenderView=rs,t.ClipRRect=Di,t.ClipRRectRenderView=Ri,t.ClipRect=_i,t.ClipRectRenderView=Ti,t.Color=S,t.ColoredBox=vi,t.ColoredRender=wi,t.Colors=A,t.Column=class extends Wi{constructor(e){super(Object.assign(Object.assign({},e),{direction:t.Axis.vertical}))}},t.ComponentElement=vt,t.ConstrainedBox=Ai,t.ConstrainedBoxRender=Si,t.Constraints=c,t.Container=class extends Pt{constructor(t){var e,i;super(),this.width=null==t?void 0:t.width,this.height=null==t?void 0:t.height,this.constraints=null==t?void 0:t.constraints,this.color=null==t?void 0:t.color,this.child=null==t?void 0:t.child,this.decoration=null==t?void 0:t.decoration,this.alignment=null==t?void 0:t.alignment,this.key=null==t?void 0:t.key,this.padding=null==t?void 0:t.padding,this.clipBehavior=null==t?void 0:t.clipBehavior,this.margin=null==t?void 0:t.margin,this.constraints=null!==this.width||null!==this.height?null!==(i=null===(e=this.constraints)||void 0===e?void 0:e.tighten(this.width,this.height))&&void 0!==i?i:u.tightFor(this.width,this.height):this.constraints}build(t){var e,i,n;let s=this.child;if(null!==this.child||null!==this.constraints&&(null===(e=this.constraints)||void 0===e?void 0:e.isTight)?this.alignment&&(s=new xi({alignment:this.alignment,child:s})):s=new Ai({additionalConstraints:u.expand(),child:s}),this.padding&&(s=new zi({padding:this.padding,child:s})),this.color&&(s=new vi({child:s,color:this.color})),this.constraints&&(s=new Ai({additionalConstraints:this.constraints,child:s})),this.decoration){if(this.color)throw new Error("color and decoration can't be used at the same time");s=new yi({decoration:this.decoration,child:s})}return this.clipBehavior&&(s=(null===(i=this.decoration)||void 0===i?void 0:i.borderRadius)?new Di({borderRadius:null===(n=this.decoration)||void 0===n?void 0:n.borderRadius,child:s,clipBehavior:this.clipBehavior}):new _i({child:s,clipBehavior:this.clipBehavior})),this.margin&&(s=new zi({padding:this.margin,child:s})),s}},t.Curve=je,t.Curves=Ue,t.CustomClipper=class{constructor(t){this.reClip=t}addListener(t){var e;null===(e=this.reClip)||void 0===e||e.addListener(t)}removeListener(t){var e;null===(e=this.reClip)||void 0===e||e.removeListener(t)}},t.CustomClipperRenderView=ss,t.CustomPainter=Ji,t.DecoratedBox=yi,t.Decoration=Rn,t.DefaultNativeAssetsImageStrategy=Ds,t.DefaultNativeGradientStrategy=Ss,t.DefaultNativeStrategies=class extends Ts{getGradientStrategy(){return new Ss}getAssetsImageStrategy(){return new Ds}getImageStrategy(){return new _s}getPainterStrategy(){return new Rs}handleBindEventsHandler(){new xs}},t.Duration=Fe,t.EdgeInsets=ki,t.EdgeInsetsGeometry=Ei,t.EditTextIndicatorPainter=Kn,t.Editable=Yn,t.EditableText=class extends At{createState(){return new qn}},t.Element=mt,t.ElementBinding=Me,t.Expanded=class extends Bt{constructor(t){var e;super(null==t?void 0:t.child,t.key),this.flex=0,this.flex=null!==(e=null==t?void 0:t.flex)&&void 0!==e?e:1}applyParentData(t){if(!(t.parentData instanceof de))return;const e=null==t?void 0:t.parentData;e.flex=this.flex,t.parentData=e,t.parent instanceof ae&&t.parent.markNeedsLayout()}},t.Flex=Wi,t.FlexRenderView=Bi,t.FrictionSimulation=Je,t.GenPainter=g,t.GenPlatformConfig=w,t.GenPointerEvent=Wt,t.GenUnifiedPointerEvent=Ot,t.GestureDetector=ln,t.GlobalKey=v,t.Gradient=ms,t.Image=class e extends Rt{constructor(e){var i,n;super(null,null==e?void 0:e.key),this.fit=null!==(i=null==e?void 0:e.fit)&&void 0!==i?i:t.BoxFit.contain,this.alignment=null!==(n=null==e?void 0:e.alignment)&&void 0!==n?n:mi.center,this.width=null==e?void 0:e.width,this.height=null==e?void 0:e.height,this.imageProvider=null==e?void 0:e.imageProvider,this.placeholderBuilder=null==e?void 0:e.placeholderBuilder}createRenderObject(){return new Nn(this.imageDecorationArgs)}get imageDecorationArgs(){return{imageProvider:this.imageProvider,fit:this.fit,alignment:this.alignment,width:this.width,height:this.height}}updateRenderObject(t,e){e.width=this.width,e.height=this.height}createElement(){return new Hn(this)}static netWork(t,i){return new e(Object.assign(Object.assign({},i),{imageProvider:new On({url:t})}))}static assets(t,i){return new e(Object.assign(Object.assign({},i),{imageProvider:new Mn({assetsImageUrl:t})}))}},t.ImageDecoration=Ln,t.ImageDecorationPainter=zn,t.ImageProvider=Wn,t.ImageRenderView=Nn,t.InactiveElement=dt,t.Key=x,t.LayoutBuilder=class extends Mi{constructor({builder:t,key:e}){super({builder:t,key:e})}},t.LineToPath=ts,t.LinearGradient=class extends ms{constructor(t){var e,i;super(null==t?void 0:t.colors,null==t?void 0:t.stops,null==t?void 0:t.transform),this.begin=null!==(e=null==t?void 0:t.begin)&&void 0!==e?e:mi.centerLeft,this.end=null!==(i=null==t?void 0:t.end)&&void 0!==i?i:mi.centerRight}createShader(t){const e=this.gradientStrategy.createLinearGradient(this.begin.withRect(t),this.end.withRect(t));return this.initGradient(e),e}},t.Listenable=Ne,t.Listener=an,t.MoveToPath=is,t.MulParagraph=it,t.MultiChildRenderObjectElement=Et,t.MultiChildRenderObjectWidget=kt,t.NativeAssetsImageStrategy=As,t.NativeEventsBinding=Mt,t.NativeEventsBindingHandler=Ht,t.NativeEventsBindingStrategy=class extends ys{},t.NativeGradientStrategy=Ps,t.NativeNetWorkImageStrategy=bs,t.NativePainterStrategy=Cs,t.NativeStrategies=Ts,t.NativeTextInputHandler=class{constructor(){this.binding=Un.instance}updateEditingValue(t,e,i){this.binding.updateEditingValue(t,e,i)}selectionHandler(t){this.binding.selectionHandler=t}focusHandler(t){this.binding.focus=t}blurHandler(t){this.binding.blur=t}},t.NetWorkImageProvider=On,t.Offset=e,t.Opacity=class extends Rt{constructor(t){super(null==t?void 0:t.child),this.opacity=t.opacity}createRenderObject(t){return new gs({opacity:this.opacity})}updateRenderObject(t,e){e.opacity=this.opacity}},t.Padding=zi,t.PaddingRenderView=Li,t.Paragraph=et,t.ParagraphConstraints=Z,t.ParagraphStyle=X,t.ParagraphView=ps,t.ParentDataElement=zt,t.ParentDataWidget=Bt,t.Path=Jn,t.Path2D=ns,t.PipelineOwner=Be,t.Positioned=class extends Bt{constructor(t){const{child:e,top:i,bottom:n,left:s,right:r,width:o,height:a}=t;super(e,t.key),this.top=i,this.bottom=n,this.left=s,this.right=r,this.width=o,this.height=a}applyParentData(t){const e=t.parentData;e.bottom=this.bottom,e.top=this.top,e.left=this.left,e.right=this.right,e.width=this.width,e.height=this.height,(null==t?void 0:t.parent)instanceof ae&&t.parent.markNeedsLayout()}},t.ProxyElement=wt,t.ProxyWidget=yt,t.RadialGradient=class extends ms{constructor(t){var e,i;super(null==t?void 0:t.colors,null==t?void 0:t.stops,null==t?void 0:t.transform),this.center=null!==(e=null==t?void 0:t.center)&&void 0!==e?e:mi.center,this.radius=null!==(i=null==t?void 0:t.radius)&&void 0!==i?i:.5}createShader(t){const e=this.gradientStrategy.createRadialGradient(this.center.withRect(t),this.radius*t.shortestSide);return this.initGradient(e),e}},t.RawGestureDetector=dn,t.RectPath=Qn,t.RenderObjectElement=_t,t.RenderObjectWidget=Tt,t.RenderPointerListener=hn,t.RenderTransformBox=as,t.RenderViewPort=gi,t.RenderViewPortBase=pi,t.RendererBinding=Oe,t.RootElement=class extends mt{assignOwner(t){this.owner=t}mount(t,e){super.mount(t,e),this.firstBuild()}update(t){this._performBuild()}_performBuild(){this.root=this.widget.createElement(),this.root.mount(this),this.renderView=this.root.findRenderObject()}performRebuild(){this._performBuild()}attachToRenderTree(t){this.owner?this.markNeedsBuild():(this.assignOwner(t),this.mount(),this.renderView.layout(null,!1),this.owner.buildScope(this))}},t.RootRenderObjectElement=Lt,t.RootWidget=ve,t.Row=class extends Wi{constructor(e){super(Object.assign(Object.assign({},e),{direction:t.Axis.horizontal}))}},t.SchedulerBinding=ze,t.SchedulerFrameManager=Le,t.ScreenUtils=class{constructor(t){if(this._devScale=1,this._devicePixelRatio=1,!t)return;const{designWidth:e=750,designHeight:i=1334,devicePixelRatio:n=1,canvasWidth:s,canvasHeight:r,minTextAdapt:o=!1}=t;this.scaleWidth=s/e,this.scaleHeight=r/i,this.designWidth=e,this.designHeight=i,this.scaleText=o?Math.min(this.scaleWidth,this.scaleHeight):this.scaleWidth,this._deviceCanvasRatio=t.deviceCanvasRatio||{widthRatio:1,heightRatio:1},this.computeDevicePixelRatio(n)}computeDevicePixelRatio(t){this._devicePixelRatio=t,this._devScale=1/this._devicePixelRatio}get deviceCanvasRatio(){return this._deviceCanvasRatio}get devScale(){return this._devScale}get devicePixelRatio(){return this._devicePixelRatio}setSp(t){return this.scaleText*t}setWidth(t){return this.scaleWidth*t}setHeight(t){return this.scaleHeight*t}get fullWidth(){return this.setWidth(this.designWidth)}get fullHeight(){return this.setHeight(this.designHeight)}restoreFromFactorWidthWidth(t){return t/this.scaleWidth}restoreFromFactorWidthHeight(t){return t/this.scaleHeight}restoreFromFactorWidthText(t){return t/this.scaleText}setDevicePixelRatio(t){this._devicePixelRatio=t}},t.ScrollBar=class extends Pt{constructor(t){super(t.key),this.controller=null==t?void 0:t.controller,this.child=null==t?void 0:t.child,this.scrollbarPainter=null==t?void 0:t.scrollbarPainter,this.scrollbarWidth=null==t?void 0:t.scrollbarWidth}build(t){return new gn({controller:this.controller,child:this.child,scrollbarPainter:this.scrollbarPainter,scrollbarWidth:this.scrollbarWidth})}},t.ScrollController=un,t.ScrollPhysics=Ni,t.ScrollPosition=li,t.ScrollPositionWithSingleContext=di,t.ScrollView=class extends Pt{constructor(e){var i,n,s;super(e.key),this.controller=null!==(i=null==e?void 0:e.controller)&&void 0!==i?i:new un,this.axisDirection=null!==(n=null==e?void 0:e.axisDirection)&&void 0!==n?n:t.AxisDirection.down,this.physics=null!==(s=null==e?void 0:e.physics)&&void 0!==s?s:new Ii,this.children=null==e?void 0:e.children}viewportBuilder(t,e,i,n){return new bn({offset:e,axisDirection:i,children:n})}build(t){const e=this.buildSlivers(t);return new wn({controller:this.controller,axisDirection:this.axisDirection,physics:this.physics,viewportBuilder:(t,i)=>this.viewportBuilder(t,i,this.axisDirection,e)})}},t.Scrollable=wn,t.SimpleKey=f,t.SimpleScrollPhysics=Ii,t.Simulation=Ye,t.SingleChildRenderObjectElement=Dt,t.SingleChildRenderObjectWidget=Rt,t.SingleChildScrollView=class extends Pt{constructor(e){var i,n,s;super(e.key),this.controller=null!==(i=null==e?void 0:e.controller)&&void 0!==i?i:new un,this.axisDirection=null!==(n=null==e?void 0:e.axisDirection)&&void 0!==n?n:t.AxisDirection.down,this.physics=null!==(s=null==e?void 0:e.physics)&&void 0!==s?s:new Ii,this.child=null==e?void 0:e.child}viewportBuilder(t,e){return new bn({offset:e,axisDirection:e.axisDirection,children:[new Pn({child:this.child})]})}build(t){return new wn({controller:this.controller,axisDirection:this.axisDirection,physics:this.physics,viewportBuilder:this.viewportBuilder.bind(this)})}},t.Size=n,t.SizedBox=Ci,t.SliverPhysicalParentData=ui,t.Stack=class extends kt{constructor(e){var i,n,s;super(null==e?void 0:e.children,e.key),this._fit=t.StackFit.loose,this._alignment=mi.topLeft,this._clipBehavior=t.Clip.none,this._fit=null!==(i=null==e?void 0:e.fit)&&void 0!==i?i:t.StackFit.loose,this._alignment=null!==(n=null==e?void 0:e.alignment)&&void 0!==n?n:mi.topLeft,this._clipBehavior=null!==(s=null==e?void 0:e.clipBehavior)&&void 0!==s?s:t.Clip.none}createRenderObject(){return new hs({fit:this._fit,alignment:this._alignment,clipBehavior:this._clipBehavior})}updateRenderObject(t,e){e.fit=this._fit,e.alignment=this._alignment,e.clipBehavior=this._clipBehavior}},t.StackParentData=ls,t.StackRenderView=hs,t.State=Ct,t.StatefulWidget=At,t.StatelessWidget=Pt,t.Strategy=ys,t.SweepGradient=class extends ms{constructor(t){var e,i;super(null==t?void 0:t.colors,null==t?void 0:t.stops,null==t?void 0:t.transform),this.center=null!==(e=null==t?void 0:t.center)&&void 0!==e?e:mi.center,this.startAngle=null!==(i=null==t?void 0:t.startAngle)&&void 0!==i?i:0}createShader(t){const e=this.gradientStrategy.createConicGradient(this.center.withRect(t),this.startAngle);return this.initGradient(e),e}},t.Text=class extends Rt{constructor(t,e){var i;super(null==e?void 0:e.child,null==e?void 0:e.key),this.style=new Y({fontSize:14}),this.text=t,this.style=null!==(i=null==e?void 0:e.style)&&void 0!==i?i:this.style}createRenderObject(){return new ps({text:new st({text:this.text,textStyle:this.style})})}updateRenderObject(t,e){e.text=new st({text:this.text,textStyle:this.style})}},t.TextEditingValue=Gn,t.TextInput=Un,t.TextPainter=rt,t.TextRich=class extends Rt{constructor(t){super(null,t.key),this.textSpan=null==t?void 0:t.textSpan}createRenderObject(){return new ps({text:this.textSpan})}updateRenderObject(t,e){e.text=this.textSpan}},t.TextSpan=st,t.TextStyle=Y,t.Transform=os,t.ViewPort=bn,t.ViewPortOffset=hi,t.Widget=ft,t.WidgetToSliverAdapter=Pn,t.Wrap=class extends kt{constructor(e){var i,n,s,r,o,a;super(null==e?void 0:e.children,e.key),this.direction=t.Axis.horizontal,this.spacing=0,this.runSpacing=0,this.alignment=t.WrapAlignment.start,this.runAlignment=t.WrapAlignment.start,this.crossAxisAlignment=t.WrapCrossAlignment.start,this.direction=null!==(i=null==e?void 0:e.direction)&&void 0!==i?i:t.Axis.horizontal,this.spacing=null!==(n=null==e?void 0:e.spacing)&&void 0!==n?n:0,this.runSpacing=null!==(s=null==e?void 0:e.runSpacing)&&void 0!==s?s:0,this.alignment=null!==(r=null==e?void 0:e.alignment)&&void 0!==r?r:t.WrapAlignment.start,this.runAlignment=null!==(o=null==e?void 0:e.runAlignment)&&void 0!==o?o:t.WrapAlignment.start,this.crossAxisAlignment=null!==(a=null==e?void 0:e.crossAxisAlignment)&&void 0!==a?a:t.WrapCrossAlignment.start}createRenderObject(){return new us({direction:this.direction,spacing:this.spacing,runSpacing:this.runSpacing,alignment:this.alignment,runAlignment:this.runAlignment,crossAxisAlignment:this.crossAxisAlignment})}updateRenderObject(t,e){e.direction=this.direction,e.spacing=this.spacing,e.runSpacing=this.runSpacing,e.alignment=this.alignment,e.runAlignment=this.runAlignment,e.crossAxisAlignment=this.crossAxisAlignment}},t.WrapRenderView=us,t.applyBoxFit=Cn,t.default=we,t.runApp=we,Object.defineProperty(t,"__esModule",{value:!0})}));
